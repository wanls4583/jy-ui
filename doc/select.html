<!--
 * @Author: lisong
 * @Date: 2021-03-16 15:19:13
 * @Description: 
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <title>jy-form</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script type='text/javascript' src='./js/require.js'></script>
    <link rel="stylesheet" type="text/css" href="../css/jy-ui.css">
    <link rel="stylesheet" type="text/css" href="./css/frame.css">
    <script>
        require.config({
            baseUrl: '../'
        });
    </script>
</head>

<body>
    <div class="jy-content">
        <div class="jy-content-header">
            <div class="jy-content-title">select</div>
            <div class="jy-content-btns">
                <button class="jy-btn jy-btn-sm" id="example">示例</button>
            </div>
        </div>
        <fieldset class="jy-field">
            <legend>小睹为快</legend>
            <div class="jy-field-box">
                <div class="jy-form-inline code1 rendered">
                    <input type="text" id="select1" value="2">
                    <script>
                        require(['jyui/select'], function (Select) {
                            Select.render({
                                elem: '#select1',
                                data: [
                                    { label: '上海', value: 1 },
                                    { label: '广州', value: 2 },
                                    { label: '北京', value: 3 }
                                ]
                            });
                        });
                    </script>
                </div>
                <div class="pad-10">代码：</div>
                <pre><code id="code1"></code></pre>
            </div>
        </fieldset>
        <fieldset class="jy-field">
            <legend>示例</legend>
            <div class="jy-field-box">
                <div class="pad-10" id="test1">示例1：</div>
                <div class="jy-form-inline code2 rendered">
                    <input type="text" id="select2">
                    <script>
                        require(['jyui/select'], function (Select) {
                            Select.render({
                                elem: '#select2',
                                type: 'input',
                                data: [
                                    { label: '上海', value: 1 },
                                    { label: '广州', value: 2 },
                                    { label: '北京', value: 3 }
                                ]
                            });
                        });
                    </script>
                </div>
                <pre><code id="code2"></code></pre>
                <div class="pad-10" id="test2">示例2：</div>
                <div class="jy-form-inline code3 rendered" style="width:200px;">
                    <input type="text" id="select3">
                    <script>
                        require(['jyui/select'], function (Select) {
                            Select.render({
                                elem: '#select3',
                                multiselect: true,
                                data: [
                                    { label: '上海', value: 1 },
                                    { label: '广州', value: 2 },
                                    { label: '北京', value: 3 }
                                ]
                            });
                        });
                    </script>
                </div>
                <pre><code id="code3"></code></pre>
                <div class="pad-10" id="test3">示例3：</div>
                <div class="jy-form-inline code4 rendered" style="width:200px;">
                    <input type="text" id="select4">
                    <script>
                        require(['jyui/select'], function (Select) {
                            var citys = [{
                                label: '上海',
                                value: 1
                            }, {
                                label: '广州',
                                value: 2
                            }, {
                                label: '北京',
                                value: 3
                            }, {
                                label: '深圳',
                                value: 4
                            }]
                            Select.render({
                                elem: '#select4',
                                search: true,
                                searchMethod: function (value, cb) {
                                    var data = citys.filter(function (item) {
                                        return item.label.indexOf(value) > -1;
                                    });
                                    setTimeout(function () {
                                        cb(data);
                                    }, 500);
                                }
                            });
                        });
                    </script>
                </div>
                <pre><code id="code4"></code></pre>
            </div>
        </fieldset>
        <fieldset class="jy-field">
            <legend>模块方法</legend>
            <div class="jy-field-box">
                <table class="property-table">
                    <tr>
                        <th>方法</th>
                        <th>描述</th>
                        <th>参数</th>
                        <th>返回值</th>
                    </tr>
                    <tr>
                        <td>render</td>
                        <td>动态生成菜单</td>
                        <td>
                            <div>(object：参数配置)</div>
                        </td>
                        <td>Select 实例</td>
                    </tr>
                    <tr>
                        <td>on</td>
                        <td>监听事件</td>
                        <td>
                            <div>(string：监听类型[(过滤器)])</div>
                            <div>多个监听类型可用空格分隔</div>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>trigger</td>
                        <td>触发事件</td>
                        <td>
                            <div>(string：监听类型[(过滤器)]，object：回调函数的参数))</div>
                            <div>多个监听类型可用空格分隔</div>
                        </td>
                        <td></td>
                    </tr>
                </table>
            </div>
        </fieldset>
        <fieldset class="jy-field">
            <legend>实例方法</legend>
            <div class="jy-field-box">
                <table class="property-table">
                    <tr>
                        <th>方法</th>
                        <th>描述</th>
                        <th>参数</th>
                        <th>返回值</th>
                    </tr>
                    <tr>
                        <td>on</td>
                        <td>监听事件</td>
                        <td>
                            <div>(string：监听类型)</div>
                            <div>多个监听类型可用空格分隔</div>
                            <div>实例方法只能监听该实例对应的菜单事件</div>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>trigger</td>
                        <td>触发事件</td>
                        <td>
                            <div>(string：监听类型，object：回调函数的参数))</div>
                            <div>多个监听类型可用空格分隔</div>
                            <div>实例方法只能触发该实例对应的菜单事件</div>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>select</td>
                        <td>选中下拉项</td>
                        <td>
                            <div>(string：下拉项的值)</div>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>reload</td>
                        <td>重载实例</td>
                        <td>
                            <div>和 render 参数一致</div>
                        </td>
                        <td></td>
                    </tr>
                </table>
            </div>
        </fieldset>
        <fieldset class="jy-field">
            <legend><em>render </em>参数</legend>
            <div class="jy-field-box">
                <table class="property-table">
                    <tr>
                        <th>参数</th>
                        <th>类型</th>
                        <th>描述</th>
                        <th>默认值</th>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>string</td>
                        <td>
                            <div>组件类型，可选值：select，input</div>
                            <div>当type为 input 的时候，其效果为下拉提示框，具体情况如 <a href="#test1">【示例1】</a></div>
                        </td>
                        <td>"select"</td>
                    </tr>
                    <tr>
                        <td>disabled</td>
                        <td>boolean</td>
                        <td>
                            <div>是否禁用控件</div>
                        </td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>labelKey</td>
                        <td>string</td>
                        <td>
                            <div>下拉项标签的字段名称</div>
                        </td>
                        <td>"label"</td>
                    </tr>
                    <tr>
                        <td>valueKey</td>
                        <td>string</td>
                        <td>
                            <div>下拉项值的字段名称</div>
                        </td>
                        <td>"value"</td>
                    </tr>
                    <tr>
                        <td>placeholder</td>
                        <td>string</td>
                        <td>
                            <div>占位提示语；</div>
                            <div>注意：当 data 列表中的 value 值为空，其 label 将替换掉 placeholder</div>
                        </td>
                        <td>请选择</td>
                    </tr>
                    <tr>
                        <td>defaultOpen</td>
                        <td>boolean</td>
                        <td>
                            <div>初次渲染时，是否默认打开下拉框</div>
                        </td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>selectAble</td>
                        <td>boolean</td>
                        <td>
                            <div>下拉项目是否可选中</div>
                        </td>
                        <td>true</td>
                    </tr>
                    <tr>
                        <td>multiselect</td>
                        <td>boolean</td>
                        <td>
                            <div>是否支持多选；</div>
                            <div>当 type="input" 是，该选项无效，具体情况如 <a href="#test2">【示例2】</a></div>
                        </td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>searchEnable</td>
                        <td>boolean</td>
                        <td>
                            <div>是否支持搜索；</div>
                            <div>当 disabled=false 时，该选项无效</div>
                        </td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>focus</td>
                        <td>boolean</td>
                        <td>
                            <div>当空间初次渲染后，是否默认聚焦</div>
                        </td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>appendTo</td>
                        <td>string</td>
                        <td>
                            <div>当 appendTo="body" 时候，下拉弹框将被添加到 body 末尾</div>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>searchMethod</td>
                        <td>function</td>
                        <td>
                            <div>自定义搜索方法；</div>
                            <div>参数：(value, cb)，具体情况如 <a href="#test2">【示例3】</a></div>
                        </td>
                        <td></td>
                    </tr>
                </table>
            </div>
        </fieldset>
        <fieldset class="jy-field">
            <legend>事件</legend>
            <div class="jy-field-box">
                <table class="property-table">
                    <tr>
                        <th>事件</th>
                        <th>描述</th>
                        <th>回调参数</th>
                    </tr>
                    <tr>
                        <td>select</td>
                        <td>下拉项被选中时触发</td>
                        <td>object: {data：下拉项的 value 值，item：下拉项原始数据，dom：当前下拉项的 dom}</td>
                    </tr>
                </table>
            </div>
        </fieldset>
    </div>
</body>
<link rel="stylesheet" href="css/atom-one-light.min.css">
<script src="js/highlight.min.js"></script>
<script type="text/javascript">
    require(['jyui/select', 'jyui/jquery'], function (Select, $) {
        var codes = ['code1', 'code2', 'code3', 'code4'];
        codes.map(function (code) {
            var html = $('.' + code);
            var space = 0;
            if (html.hasClass('rendered')) {
                html = $('<div>' + html[0].innerHTML + '</div>');
                html.find('div.jy-select,div.jy-checkbox,div.jy-radio,div.jy-switch').remove();
            }
            html = html[0].innerHTML;
            html = html.split('\n');
            html = html.slice(1, html.length - 1);
            space = /^\s*/.exec(html[0]);
            space = space[0].length;
            html = html.map(function (line) {
                return line.slice(space);
            });
            $('#' + code).text(html.join('\n'));
        });
        try {
            hljs.highlightAll();
        } catch (e) { }
        $('#example').on('click', function () {
            window.top.openTab('表单示例', 'https://codepen.io/wanls4583/embed/bGRxVKQ?default-tab=html%2Cresult&editable=true&theme-id=light');
        });
    });
</script>

</html>