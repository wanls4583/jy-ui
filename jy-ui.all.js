/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */

/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */

!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=ue.type(e);return"function"!==i&&!ue.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,i){if(ue.isFunction(t))return ue.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ue.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(we.test(t))return ue.filter(t,e,i);t=ue.filter(t,e)}return ue.grep(e,function(e){return ue.inArray(e,t)>-1!==i})}function a(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function r(e){var t={};return ue.each(e.match(De)||[],function(e,i){t[i]=!0}),t}function s(){ne.addEventListener?(ne.removeEventListener("DOMContentLoaded",o),e.removeEventListener("load",o)):(ne.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(ne.addEventListener||"load"===e.event.type||"complete"===ne.readyState)&&(s(),ue.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Be,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Ae.test(i)?ue.parseJSON(i):i)}catch(e){}ue.data(e,t,i)}else i=void 0}return i}function d(e){var t;for(t in e)if(("data"!==t||!ue.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,i,n){if(Ee(e)){var a,r,s=ue.expando,o=e.nodeType,l=o?ue.cache:e,d=o?e[s]:e[s]&&s;if(d&&l[d]&&(n||l[d].data)||void 0!==i||"string"!=typeof t)return d||(d=o?e[s]=ie.pop()||ue.guid++:s),l[d]||(l[d]=o?{}:{toJSON:ue.noop}),"object"!=typeof t&&"function"!=typeof t||(n?l[d]=ue.extend(l[d],t):l[d].data=ue.extend(l[d].data,t)),r=l[d],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[ue.camelCase(t)]=i),"string"==typeof t?null==(a=r[t])&&(a=r[ue.camelCase(t)]):a=r,a}}function h(e,t,i){if(Ee(e)){var n,a,r=e.nodeType,s=r?ue.cache:e,o=r?e[ue.expando]:ue.expando;if(s[o]){if(t&&(n=i?s[o]:s[o].data)){ue.isArray(t)?t=t.concat(ue.map(t,ue.camelCase)):t in n?t=[t]:(t=ue.camelCase(t),t=t in n?[t]:t.split(" ")),a=t.length;for(;a--;)delete n[t[a]];if(i?!d(n):!ue.isEmptyObject(n))return}(i||(delete s[o].data,d(s[o])))&&(r?ue.cleanData([e],!0):he.deleteExpando||s!=s.window?delete s[o]:s[o]=void 0)}}}function u(e,t,i,n){var a,r=1,s=20,o=n?function(){return n.cur()}:function(){return ue.css(e,t,"")},l=o(),d=i&&i[3]||(ue.cssNumber[t]?"":"px"),c=(ue.cssNumber[t]||"px"!==d&&+l)&&Le.exec(ue.css(e,t));if(c&&c[3]!==d){d=d||c[3],i=i||[],c=+l||1;do{r=r||".5",c/=r,ue.style(e,t,c+d)}while(r!==(r=o()/l)&&1!==r&&--s)}return i&&(c=+c||+l||0,a=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=d,n.start=c,n.end=a)),a}function p(e){var t=qe.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){var i,n,a=0,r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[a]);a++)!t||ue.nodeName(n,t)?r.push(n):ue.merge(r,f(n,t));return void 0===t||t&&ue.nodeName(e,t)?ue.merge([e],r):r}function y(e,t){for(var i,n=0;null!=(i=e[n]);n++)ue._data(i,"globalEval",!t||ue._data(t[n],"globalEval"))}function v(e){Oe.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t,i,n,a){for(var r,s,o,l,d,c,h,u=e.length,m=p(t),g=[],b=0;b<u;b++)if((s=e[b])||0===s)if("object"===ue.type(s))ue.merge(g,s.nodeType?[s]:s);else if(ze.test(s)){for(l=l||m.appendChild(t.createElement("div")),d=(Re.exec(s)||["",""])[1].toLowerCase(),h=We[d]||We._default,l.innerHTML=h[1]+ue.htmlPrefilter(s)+h[2],r=h[0];r--;)l=l.lastChild;if(!he.leadingWhitespace&&Fe.test(s)&&g.push(t.createTextNode(Fe.exec(s)[0])),!he.tbody)for(s="table"!==d||Ke.test(s)?"<table>"!==h[1]||Ke.test(s)?0:l:l.firstChild,r=s&&s.childNodes.length;r--;)ue.nodeName(c=s.childNodes[r],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ue.merge(g,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=m.lastChild}else g.push(t.createTextNode(s));for(l&&m.removeChild(l),he.appendChecked||ue.grep(f(g,"input"),v),b=0;s=g[b++];)if(n&&ue.inArray(s,n)>-1)a&&a.push(s);else if(o=ue.contains(s.ownerDocument,s),l=f(m.appendChild(s),"script"),o&&y(l),i)for(r=0;s=l[r++];)Pe.test(s.type||"")&&i.push(s);return l=null,m}function g(){return!0}function b(){return!1}function $(){try{return ne.activeElement}catch(e){}}function x(e,t,i,n,a,r){var s,o;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(o in t)x(e,o,i,n,t[o],r);return e}if(null==n&&null==a?(a=i,n=i=void 0):null==a&&("string"==typeof i?(a=n,n=void 0):(a=n,n=i,i=void 0)),!1===a)a=b;else if(!a)return e;return 1===r&&(s=a,a=function(e){return ue().off(e),s.apply(this,arguments)},a.guid=s.guid||(s.guid=ue.guid++)),e.each(function(){ue.event.add(this,t,a,n,i)})}function w(e,t){return ue.nodeName(e,"table")&&ue.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function k(e){return e.type=(null!==ue.find.attr(e,"type"))+"/"+e.type,e}function j(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&ue.hasData(e)){var i,n,a,r=ue._data(e),s=ue._data(t,r),o=r.events;if(o){delete s.handle,s.events={};for(i in o)for(n=0,a=o[i].length;n<a;n++)ue.event.add(t,i,o[i][n])}s.data&&(s.data=ue.extend({},s.data))}}function T(e,t){var i,n,a;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!he.noCloneEvent&&t[ue.expando]){a=ue._data(t);for(n in a.events)ue.removeEvent(t,n,a.handle);t.removeAttribute(ue.expando)}"script"===i&&t.text!==e.text?(k(t).text=e.text,j(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),he.html5Clone&&e.innerHTML&&!ue.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Oe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function D(e,t,i,n){t=re.apply([],t);var a,r,s,o,l,d,c=0,h=e.length,u=h-1,p=t[0],y=ue.isFunction(p);if(y||h>1&&"string"==typeof p&&!he.checkClone&&tt.test(p))return e.each(function(a){var r=e.eq(a);y&&(t[0]=p.call(this,a,r.html())),D(r,t,i,n)});if(h&&(d=m(t,e[0].ownerDocument,!1,e,n),a=d.firstChild,1===d.childNodes.length&&(d=a),a||n)){for(o=ue.map(f(d,"script"),k),s=o.length;c<h;c++)r=d,c!==u&&(r=ue.clone(r,!0,!0),s&&ue.merge(o,f(r,"script"))),i.call(e[c],r,c);if(s)for(l=o[o.length-1].ownerDocument,ue.map(o,j),c=0;c<s;c++)r=o[c],Pe.test(r.type||"")&&!ue._data(r,"globalEval")&&ue.contains(l,r)&&(r.src?ue._evalUrl&&ue._evalUrl(r.src):ue.globalEval((r.text||r.textContent||r.innerHTML||"").replace(nt,"")));d=a=null}return e}function _(e,t,i){for(var n,a=t?ue.filter(t,e):e,r=0;null!=(n=a[r]);r++)i||1!==n.nodeType||ue.cleanData(f(n)),n.parentNode&&(i&&ue.contains(n.ownerDocument,n)&&y(f(n,"script")),n.parentNode.removeChild(n));return e}function M(e,t){var i=ue(t.createElement(e)).appendTo(t.body),n=ue.css(i[0],"display");return i.detach(),n}function E(e){var t=ne,i=ot[e];return i||(i=M(e,t),"none"!==i&&i||(st=(st||ue("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(st[0].contentWindow||st[0].contentDocument).document,t.write(),t.close(),i=M(e,t),st.detach()),ot[e]=i),i}function A(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function B(e){if(e in wt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=xt.length;i--;)if((e=xt[i]+t)in wt)return e}function H(e,t){for(var i,n,a,r=[],s=0,o=e.length;s<o;s++)n=e[s],n.style&&(r[s]=ue._data(n,"olddisplay"),i=n.style.display,t?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Se(n)&&(r[s]=ue._data(n,"olddisplay",E(n.nodeName)))):(a=Se(n),(i&&"none"!==i||!a)&&ue._data(n,"olddisplay",a?i:ue.css(n,"display"))));for(s=0;s<o;s++)n=e[s],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[s]||"":"none"));return e}function L(e,t,i){var n=gt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function N(e,t,i,n,a){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,s=0;r<4;r+=2)"margin"===i&&(s+=ue.css(e,i+Ne[r],!0,a)),n?("content"===i&&(s-=ue.css(e,"padding"+Ne[r],!0,a)),"margin"!==i&&(s-=ue.css(e,"border"+Ne[r]+"Width",!0,a))):(s+=ue.css(e,"padding"+Ne[r],!0,a),"padding"!==i&&(s+=ue.css(e,"border"+Ne[r]+"Width",!0,a)));return s}function S(e,t,i){var n=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=ut(e),s=he.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,r);if(a<=0||null==a){if(a=pt(e,t,r),(a<0||null==a)&&(a=e.style[t]),dt.test(a))return a;n=s&&(he.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+N(e,t,i||(s?"border":"content"),n,r)+"px"}function I(e,t,i,n,a){return new I.prototype.init(e,t,i,n,a)}function O(){return e.setTimeout(function(){kt=void 0}),kt=ue.now()}function R(e,t){var i,n={height:e},a=0;for(t=t?1:0;a<4;a+=2-t)i=Ne[a],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function P(e,t,i){for(var n,a=(W.tweeners[t]||[]).concat(W.tweeners["*"]),r=0,s=a.length;r<s;r++)if(n=a[r].call(i,t,e))return n}function F(e,t,i){var n,a,r,s,o,l,d,c=this,h={},u=e.style,p=e.nodeType&&Se(e),f=ue._data(e,"fxshow");i.queue||(o=ue._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,ue.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],d=ue.css(e,"display"),"inline"===("none"===d?ue._data(e,"olddisplay")||E(e.nodeName):d)&&"none"===ue.css(e,"float")&&(he.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",he.shrinkWrapBlocks()||c.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in t)if(a=t[n],Ct.exec(a)){if(delete t[n],r=r||"toggle"===a,a===(p?"hide":"show")){if("show"!==a||!f||void 0===f[n])continue;p=!0}h[n]=f&&f[n]||ue.style(e,n)}else d=void 0;if(ue.isEmptyObject(h))"inline"===("none"===d?E(e.nodeName):d)&&(u.display=d);else{f?"hidden"in f&&(p=f.hidden):f=ue._data(e,"fxshow",{}),r&&(f.hidden=!p),p?ue(e).show():c.done(function(){ue(e).hide()}),c.done(function(){var t;ue._removeData(e,"fxshow");for(t in h)ue.style(e,t,h[t])});for(n in h)s=P(p?f[n]:0,n,c),n in f||(f[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function q(e,t){var i,n,a,r,s;for(i in e)if(n=ue.camelCase(i),a=t[n],r=e[i],ue.isArray(r)&&(a=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(s=ue.cssHooks[n])&&"expand"in s){r=s.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=a)}else t[n]=a}function W(e,t,i){var n,a,r=0,s=W.prefilters.length,o=ue.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=kt||O(),i=Math.max(0,d.startTime+d.duration-t),n=i/d.duration||0,r=1-n,s=0,l=d.tweens.length;s<l;s++)d.tweens[s].run(r);return o.notifyWith(e,[d,r,i]),r<1&&l?i:(o.resolveWith(e,[d]),!1)},d=o.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{},easing:ue.easing._default},i),originalProperties:t,originalOptions:i,startTime:kt||O(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ue.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(n),n},stop:function(t){var i=0,n=t?d.tweens.length:0;if(a)return this;for(a=!0;i<n;i++)d.tweens[i].run(1);return t?(o.notifyWith(e,[d,1,0]),o.resolveWith(e,[d,t])):o.rejectWith(e,[d,t]),this}}),c=d.props;for(q(c,d.opts.specialEasing);r<s;r++)if(n=W.prefilters[r].call(d,e,c,d.opts))return ue.isFunction(n.stop)&&(ue._queueHooks(d.elem,d.opts.queue).stop=ue.proxy(n.stop,n)),n;return ue.map(c,P,d),ue.isFunction(d.opts.start)&&d.opts.start.call(e,d),ue.fx.timer(ue.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function z(e){return ue.attr(e,"class")||""}function K(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,a=0,r=t.toLowerCase().match(De)||[];if(ue.isFunction(i))for(;n=r[a++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function U(e,t,i,n){function a(o){var l;return r[o]=!0,ue.each(e[o]||[],function(e,o){var d=o(t,i,n);return"string"!=typeof d||s||r[d]?s?!(l=d):void 0:(t.dataTypes.unshift(d),a(d),!1)}),l}var r={},s=e===Xt;return a(t.dataTypes[0])||!r["*"]&&a("*")}function J(e,t){var i,n,a=ue.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&ue.extend(!0,e,i),e}function Y(e,t,i){for(var n,a,r,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(s in o)if(o[s]&&o[s].test(a)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){r=s;break}n||(n=s)}r=r||n}if(r)return r!==l[0]&&l.unshift(r),i[r]}function V(e,t,i,n){var a,r,s,o,l,d={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)d[s.toLowerCase()]=e.converters[s];for(r=c.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=d[l+" "+r]||d["* "+r]))for(a in d)if(o=a.split(" "),o[1]===r&&(s=d[l+" "+o[0]]||d["* "+o[0]])){!0===s?s=d[a]:!0!==d[a]&&(r=o[0],c.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function X(e){return e.style&&e.style.display||ue.css(e,"display")}function G(e){if(!ue.contains(e.ownerDocument||ne,e))return!0;for(;e&&1===e.nodeType;){if("none"===X(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Q(e,t,i,n){var a;if(ue.isArray(t))ue.each(t,function(t,a){i||ti.test(e)?n(e,a):Q(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,i,n)});else if(i||"object"!==ue.type(t))n(e,t);else for(a in t)Q(e+"["+a+"]",t[a],i,n)}function Z(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return ue.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ie=[],ne=e.document,ae=ie.slice,re=ie.concat,se=ie.push,oe=ie.indexOf,le={},de=le.toString,ce=le.hasOwnProperty,he={},ue=function(e,t){return new ue.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^-ms-/,ye=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};ue.fn=ue.prototype={jquery:"1.12.4",constructor:ue,selector:"",length:0,toArray:function(){return ae.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ae.call(this)},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ue.each(this,e)},map:function(e){return this.pushStack(ue.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:ie.sort,splice:ie.splice},ue.extend=ue.fn.extend=function(){var e,t,i,n,a,r,s=arguments[0]||{},o=1,l=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[o]||{},o++),"object"==typeof s||ue.isFunction(s)||(s={}),o===l&&(s=this,o--);o<l;o++)if(null!=(a=arguments[o]))for(n in a)e=s[n],i=a[n],s!==i&&(d&&i&&(ue.isPlainObject(i)||(t=ue.isArray(i)))?(t?(t=!1,r=e&&ue.isArray(e)?e:[]):r=e&&ue.isPlainObject(e)?e:{},s[n]=ue.extend(d,r,i)):void 0!==i&&(s[n]=i));return s},ue.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray||function(e){return"array"===ue.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!ue.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ue.type(e)||e.nodeType||ue.isWindow(e))return!1;try{if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!he.ownFirst)for(t in e)return ce.call(e,t);for(t in e);return void 0===t||ce.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[de.call(e)]||"object":typeof e},globalEval:function(t){t&&ue.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(fe,"ms-").replace(ye,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,a=0;if(i(e))for(n=e.length;a<n&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ue.merge(n,"string"==typeof e?[e]:e):se.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(oe)return oe.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,a=e.length;n<i;)e[a++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[a++]=t[n++];return e.length=a,e},grep:function(e,t,i){for(var n=[],a=0,r=e.length,s=!i;a<r;a++)!t(e[a],a)!==s&&n.push(e[a]);return n},map:function(e,t,n){var a,r,s=0,o=[];if(i(e))for(a=e.length;s<a;s++)null!=(r=t(e[s],s,n))&&o.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&o.push(r);return re.apply([],o)},guid:1,proxy:function(e,t){var i,n,a;if("string"==typeof t&&(a=e[t],t=e,e=a),ue.isFunction(e))return i=ae.call(arguments,2),n=function(){return e.apply(t||this,i.concat(ae.call(arguments)))},n.guid=e.guid=e.guid||ue.guid++,n},now:function(){return+new Date},support:he}),"function"==typeof Symbol&&(ue.fn[Symbol.iterator]=ie[Symbol.iterator]),ue.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var me=function(e){function t(e,t,i,n){var a,r,s,o,d,h,u,p,f=t&&t.ownerDocument,y=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return i;if(!n&&((t?t.ownerDocument||t:O)!==E&&M(t),t=t||E,B)){if(11!==y&&(h=ye.exec(e)))if(a=h[1]){if(9===y){if(!(s=t.getElementById(a)))return i;if(s.id===a)return i.push(s),i}else if(f&&(s=f.getElementById(a))&&S(t,s)&&s.id===a)return i.push(s),i}else{if(h[2])return X.apply(i,t.getElementsByTagName(e)),i;if((a=h[3])&&b.getElementsByClassName&&t.getElementsByClassName)return X.apply(i,t.getElementsByClassName(a)),i}if(b.qsa&&!W[e+" "]&&(!H||!H.test(e))){if(1!==y)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((o=t.getAttribute("id"))?o=o.replace(me,"\\$&"):t.setAttribute("id",o=I),u=k(e),r=u.length,d=ce.test(o)?"#"+o:"[id='"+o+"']";r--;)u[r]=d+" "+c(u[r]);p=u.join(","),f=ve.test(e)&&l(t.parentNode)||t}if(p)try{return X.apply(i,f.querySelectorAll(p)),i}catch(e){}finally{o===I&&t.removeAttribute("id")}}}return C(e.replace(re,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>$.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[I]=!0,e}function a(e){var t=E.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=i.length;n--;)$.attrHandle[i[n]]=t}function s(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function o(e){return n(function(t){return t=+t,n(function(i,n){for(var a,r=e([],i.length,t),s=r.length;s--;)i[a=r[s]]&&(i[a]=!(n[a]=i[a]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function c(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function h(e,t,i){var n=t.dir,a=i&&"parentNode"===n,r=P++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||a)return e(t,i,r)}:function(t,i,s){var o,l,d,c=[R,r];if(s){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,i,s))return!0}else for(;t=t[n];)if(1===t.nodeType||a){if(d=t[I]||(t[I]={}),l=d[t.uniqueID]||(d[t.uniqueID]={}),(o=l[n])&&o[0]===R&&o[1]===r)return c[2]=o[2];if(l[n]=c,c[2]=e(t,i,s))return!0}}}function u(e){return e.length>1?function(t,i,n){for(var a=e.length;a--;)if(!e[a](t,i,n))return!1;return!0}:e[0]}function p(e,i,n){for(var a=0,r=i.length;a<r;a++)t(e,i[a],n);return n}function f(e,t,i,n,a){for(var r,s=[],o=0,l=e.length,d=null!=t;o<l;o++)(r=e[o])&&(i&&!i(r,n,a)||(s.push(r),d&&t.push(o)));return s}function y(e,t,i,a,r,s){return a&&!a[I]&&(a=y(a)),r&&!r[I]&&(r=y(r,s)),n(function(n,s,o,l){var d,c,h,u=[],y=[],v=s.length,m=n||p(t||"*",o.nodeType?[o]:o,[]),g=!e||!n&&t?m:f(m,u,e,o,l),b=i?r||(n?e:v||a)?[]:s:g;if(i&&i(g,b,o,l),a)for(d=f(b,y),a(d,[],o,l),c=d.length;c--;)(h=d[c])&&(b[y[c]]=!(g[y[c]]=h));if(n){if(r||e){if(r){for(d=[],c=b.length;c--;)(h=b[c])&&d.push(g[c]=h);r(null,b=[],d,l)}for(c=b.length;c--;)(h=b[c])&&(d=r?Q(n,h):u[c])>-1&&(n[d]=!(s[d]=h))}}else b=f(b===s?b.splice(v,b.length):b),r?r(null,s,b,l):X.apply(s,b)})}function v(e){for(var t,i,n,a=e.length,r=$.relative[e[0].type],s=r||$.relative[" "],o=r?1:0,l=h(function(e){return e===t},s,!0),d=h(function(e){return Q(t,e)>-1},s,!0),p=[function(e,i,n){var a=!r&&(n||i!==T)||((t=i).nodeType?l(e,i,n):d(e,i,n));return t=null,a}];o<a;o++)if(i=$.relative[e[o].type])p=[h(u(p),i)];else{if(i=$.filter[e[o].type].apply(null,e[o].matches),i[I]){for(n=++o;n<a&&!$.relative[e[n].type];n++);return y(o>1&&u(p),o>1&&c(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(re,"$1"),i,o<n&&v(e.slice(o,n)),n<a&&v(e=e.slice(n)),n<a&&c(e))}p.push(i)}return u(p)}function m(e,i){var a=i.length>0,r=e.length>0,s=function(n,s,o,l,d){var c,h,u,p=0,y="0",v=n&&[],m=[],g=T,b=n||r&&$.find.TAG("*",d),x=R+=null==g?1:Math.random()||.1,w=b.length;for(d&&(T=s===E||s||d);y!==w&&null!=(c=b[y]);y++){if(r&&c){for(h=0,s||c.ownerDocument===E||(M(c),o=!B);u=e[h++];)if(u(c,s||E,o)){l.push(c);break}d&&(R=x)}a&&((c=!u&&c)&&p--,n&&v.push(c))}if(p+=y,a&&y!==p){for(h=0;u=i[h++];)u(v,m,s,o);if(n){if(p>0)for(;y--;)v[y]||m[y]||(m[y]=Y.call(l));m=f(m)}X.apply(l,m),d&&!n&&m.length>0&&p+i.length>1&&t.uniqueSort(l)}return d&&(R=x,T=g),v};return a?n(s):s}var g,b,$,x,w,k,j,C,T,D,_,M,E,A,B,H,L,N,S,I="sizzle"+1*new Date,O=e.document,R=0,P=0,F=i(),q=i(),W=i(),z=function(e,t){return e===t&&(_=!0),0},K=1<<31,U={}.hasOwnProperty,J=[],Y=J.pop,V=J.push,X=J.push,G=J.slice,Q=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ee+"+","g"),re=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),oe=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),de=new RegExp(ne),ce=new RegExp("^"+te+"$"),he={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},ue=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,me=/'|\\/g,ge=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},$e=function(){M()};try{X.apply(J=G.call(O.childNodes),O.childNodes),J[O.childNodes.length].nodeType}catch(e){X={apply:J.length?function(e,t){V.apply(e,G.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}b=t.support={},w=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:O;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,A=E.documentElement,B=!w(E),(i=E.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",$e,!1):i.attachEvent&&i.attachEvent("onunload",$e)),b.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=a(function(e){return e.appendChild(E.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=fe.test(E.getElementsByClassName),b.getById=a(function(e){return A.appendChild(e).id=I,!E.getElementsByName||!E.getElementsByName(I).length}),b.getById?($.find.ID=function(e,t){if(void 0!==t.getElementById&&B){var i=t.getElementById(e);return i?[i]:[]}},$.filter.ID=function(e){var t=e.replace(ge,be);return function(e){return e.getAttribute("id")===t}}):(delete $.find.ID,$.filter.ID=function(e){var t=e.replace(ge,be);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),$.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[a++];)1===i.nodeType&&n.push(i);return n}return r},$.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&B)return t.getElementsByClassName(e)},L=[],H=[],(b.qsa=fe.test(E.querySelectorAll))&&(a(function(e){A.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+I+"-]").length||H.push("~="),e.querySelectorAll(":checked").length||H.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||H.push(".#.+[+~]")}),a(function(e){var t=E.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(b.matchesSelector=fe.test(N=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&a(function(e){b.disconnectedMatch=N.call(e,"div"),N.call(e,"[s!='']:x"),L.push("!=",ne)}),H=H.length&&new RegExp(H.join("|")),L=L.length&&new RegExp(L.join("|")),t=fe.test(A.compareDocumentPosition),S=t||fe.test(A.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return _=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!b.sortDetached&&t.compareDocumentPosition(e)===i?e===E||e.ownerDocument===O&&S(O,e)?-1:t===E||t.ownerDocument===O&&S(O,t)?1:D?Q(D,e)-Q(D,t):0:4&i?-1:1)}:function(e,t){if(e===t)return _=!0,0;var i,n=0,a=e.parentNode,r=t.parentNode,o=[e],l=[t];if(!a||!r)return e===E?-1:t===E?1:a?-1:r?1:D?Q(D,e)-Q(D,t):0;if(a===r)return s(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;o[n]===l[n];)n++;return n?s(o[n],l[n]):o[n]===O?-1:l[n]===O?1:0},E):E},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==E&&M(e),i=i.replace(le,"='$1']"),b.matchesSelector&&B&&!W[i+" "]&&(!L||!L.test(i))&&(!H||!H.test(i)))try{var n=N.call(e,i);if(n||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,E,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==E&&M(e),S(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==E&&M(e);var i=$.attrHandle[t.toLowerCase()],n=i&&U.call($.attrHandle,t.toLowerCase())?i(e,t,!B):void 0;return void 0!==n?n:b.attributes||!B?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,a=0;if(_=!b.detectDuplicates,D=!b.sortStable&&e.slice(0),e.sort(z),_){for(;t=e[a++];)t===e[a]&&(n=i.push(a));for(;n--;)e.splice(i[n],1)}return D=null,e},x=t.getText=function(e){var t,i="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=x(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)i+=x(t);return i},$=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ge,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ge,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ge,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(a){var r=t.attr(a,e);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ae," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,a){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===n&&0===a?function(e){return!!e.parentNode}:function(t,i,l){var d,c,h,u,p,f,y=r!==s?"nextSibling":"previousSibling",v=t.parentNode,m=o&&t.nodeName.toLowerCase(),g=!l&&!o,b=!1;if(v){if(r){for(;y;){for(u=t;u=u[y];)if(o?u.nodeName.toLowerCase()===m:1===u.nodeType)return!1;f=y="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?v.firstChild:v.lastChild],s&&g){for(u=v,h=u[I]||(u[I]={}),c=h[u.uniqueID]||(h[u.uniqueID]={}),d=c[e]||[],p=d[0]===R&&d[1],b=p&&d[2],u=p&&v.childNodes[p];u=++p&&u&&u[y]||(b=p=0)||f.pop();)if(1===u.nodeType&&++b&&u===t){c[e]=[R,p,b];break}}else if(g&&(u=t,h=u[I]||(u[I]={}),c=h[u.uniqueID]||(h[u.uniqueID]={}),d=c[e]||[],p=d[0]===R&&d[1],b=p),
!1===b)for(;(u=++p&&u&&u[y]||(b=p=0)||f.pop())&&((o?u.nodeName.toLowerCase()!==m:1!==u.nodeType)||!++b||(g&&(h=u[I]||(u[I]={}),c=h[u.uniqueID]||(h[u.uniqueID]={}),c[e]=[R,b]),u!==t)););return(b-=a)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,i){var a,r=$.pseudos[e]||$.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[I]?r(i):r.length>1?(a=[e,e,"",i],$.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,a=r(e,i),s=a.length;s--;)n=Q(e,a[s]),e[n]=!(t[n]=a[s])}):function(e){return r(e,0,a)}):r}},pseudos:{not:n(function(e){var t=[],i=[],a=j(e.replace(re,"$1"));return a[I]?n(function(e,t,i,n){for(var r,s=a(e,null,n,[]),o=e.length;o--;)(r=s[o])&&(e[o]=!(t[o]=r))}):function(e,n,r){return t[0]=e,a(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(ge,be),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:n(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ge,be).toLowerCase(),function(t){var i;do{if(i=B?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!$.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return ue.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,i){return[i<0?i+t:i]}),even:o(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:o(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:o(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:o(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},$.pseudos.nth=$.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[g]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(g);for(g in{submit:!0,reset:!0})$.pseudos[g]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(g);return d.prototype=$.filters=$.pseudos,$.setFilters=new d,k=t.tokenize=function(e,i){var n,a,r,s,o,l,d,c=q[e+" "];if(c)return i?0:c.slice(0);for(o=e,l=[],d=$.preFilter;o;){n&&!(a=se.exec(o))||(a&&(o=o.slice(a[0].length)||o),l.push(r=[])),n=!1,(a=oe.exec(o))&&(n=a.shift(),r.push({value:n,type:a[0].replace(re," ")}),o=o.slice(n.length));for(s in $.filter)!(a=he[s].exec(o))||d[s]&&!(a=d[s](a))||(n=a.shift(),r.push({value:n,type:s,matches:a}),o=o.slice(n.length));if(!n)break}return i?o.length:o?t.error(e):q(e,l).slice(0)},j=t.compile=function(e,t){var i,n=[],a=[],r=W[e+" "];if(!r){for(t||(t=k(e)),i=t.length;i--;)r=v(t[i]),r[I]?n.push(r):a.push(r);r=W(e,m(a,n)),r.selector=e}return r},C=t.select=function(e,t,i,n){var a,r,s,o,d,h="function"==typeof e&&e,u=!n&&k(e=h.selector||e);if(i=i||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&b.getById&&9===t.nodeType&&B&&$.relative[r[1].type]){if(!(t=($.find.ID(s.matches[0].replace(ge,be),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(a=he.needsContext.test(e)?0:r.length;a--&&(s=r[a],!$.relative[o=s.type]);)if((d=$.find[o])&&(n=d(s.matches[0].replace(ge,be),ve.test(r[0].type)&&l(t.parentNode)||t))){if(r.splice(a,1),!(e=n.length&&c(r)))return X.apply(i,n),i;break}}return(h||j(e,u))(n,t,!B,i,!t||ve.test(e)&&l(t.parentNode)||t),i},b.sortStable=I.split("").sort(z).join("")===I,b.detectDuplicates=!!_,M(),b.sortDetached=a(function(e){return 1&e.compareDocumentPosition(E.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||r(Z,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);ue.find=me,ue.expr=me.selectors,ue.expr[":"]=ue.expr.pseudos,ue.uniqueSort=ue.unique=me.uniqueSort,ue.text=me.getText,ue.isXMLDoc=me.isXML,ue.contains=me.contains;var ge=function(e,t,i){for(var n=[],a=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&ue(e).is(i))break;n.push(e)}return n},be=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},$e=ue.expr.match.needsContext,xe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,we=/^.[^:#\[\.,]*$/;ue.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ue.find.matchesSelector(n,e)?[n]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},ue.fn.extend({find:function(e){var t,i=[],n=this,a=n.length;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;t<a;t++)if(ue.contains(n[t],this))return!0}));for(t=0;t<a;t++)ue.find(e,n[t],i);return i=this.pushStack(a>1?ue.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&$e.test(e)?ue(e):e||[],!1).length}});var ke,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ue.fn.init=function(e,t,i){var n,a;if(!e)return this;if(i=i||ke,"string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:je.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ue?t[0]:t,ue.merge(this,ue.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),xe.test(n[1])&&ue.isPlainObject(t))for(n in t)ue.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((a=ne.getElementById(n[2]))&&a.parentNode){if(a.id!==n[2])return ke.find(e);this.length=1,this[0]=a}return this.context=ne,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?void 0!==i.ready?i.ready(e):e(ue):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))}).prototype=ue.fn,ke=ue(ne);var Ce=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({has:function(e){var t,i=ue(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(ue.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,a=this.length,r=[],s=$e.test(e)||"string"!=typeof e?ue(e,t||this.context):0;n<a;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ue.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?ue.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?ue.inArray(this[0],ue(e)):ue.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ue.uniqueSort(ue.merge(this.get(),ue(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ge(e,"parentNode")},parentsUntil:function(e,t,i){return ge(e,"parentNode",i)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return ge(e,"nextSibling")},prevAll:function(e){return ge(e,"previousSibling")},nextUntil:function(e,t,i){return ge(e,"nextSibling",i)},prevUntil:function(e,t,i){return ge(e,"previousSibling",i)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return ue.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(i,n){var a=ue.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(a=ue.filter(n,a)),this.length>1&&(Te[e]||(a=ue.uniqueSort(a)),Ce.test(e)&&(a=a.reverse())),this.pushStack(a)}});var De=/\S+/g;ue.Callbacks=function(e){e="string"==typeof e?r(e):ue.extend({},e);var t,i,n,a,s=[],o=[],l=-1,d=function(){for(a=e.once,n=t=!0;o.length;l=-1)for(i=o.shift();++l<s.length;)!1===s[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=s.length,i=!1);e.memory||(i=!1),t=!1,a&&(s=i?[]:"")},c={add:function(){return s&&(i&&!t&&(l=s.length-1,o.push(i)),function t(i){ue.each(i,function(i,n){ue.isFunction(n)?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==ue.type(n)&&t(n)})}(arguments),i&&!t&&d()),this},remove:function(){return ue.each(arguments,function(e,t){for(var i;(i=ue.inArray(t,s,i))>-1;)s.splice(i,1),i<=l&&l--}),this},has:function(e){return e?ue.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return a=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return a=!0,i||c.disable(),this},locked:function(){return!!a},fireWith:function(e,i){return a||(i=i||[],i=[e,i.slice?i.slice():i],o.push(i),t||d()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(i){ue.each(t,function(t,r){var s=ue.isFunction(e[t])&&e[t];a[r[1]](function(){var e=s&&s.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,n):n}},a={};return n.pipe=n.then,ue.each(t,function(e,r){var s=r[2],o=r[3];n[r[1]]=s.add,o&&s.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?n:this,arguments),this},a[r[0]+"With"]=s.fireWith}),n.promise(a),e&&e.call(a,a),a},when:function(e){var t,i,n,a=0,r=ae.call(arguments),s=r.length,o=1!==s||e&&ue.isFunction(e.promise)?s:0,l=1===o?e:ue.Deferred(),d=function(e,i,n){return function(a){i[e]=this,n[e]=arguments.length>1?ae.call(arguments):a,n===t?l.notifyWith(i,n):--o||l.resolveWith(i,n)}};if(s>1)for(t=new Array(s),i=new Array(s),n=new Array(s);a<s;a++)r[a]&&ue.isFunction(r[a].promise)?r[a].promise().progress(d(a,i,t)).done(d(a,n,r)).fail(l.reject):--o;return o||l.resolveWith(n,r),l.promise()}});var _e;ue.fn.ready=function(e){return ue.ready.promise().done(e),this},ue.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){(!0===e?--ue.readyWait:ue.isReady)||(ue.isReady=!0,!0!==e&&--ue.readyWait>0||(_e.resolveWith(ne,[ue]),ue.fn.triggerHandler&&(ue(ne).triggerHandler("ready"),ue(ne).off("ready"))))}}),ue.ready.promise=function(t){if(!_e)if(_e=ue.Deferred(),"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll)e.setTimeout(ue.ready);else if(ne.addEventListener)ne.addEventListener("DOMContentLoaded",o),e.addEventListener("load",o);else{ne.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var i=!1;try{i=null==e.frameElement&&ne.documentElement}catch(e){}i&&i.doScroll&&function t(){if(!ue.isReady){try{i.doScroll("left")}catch(i){return e.setTimeout(t,50)}s(),ue.ready()}}()}return _e.promise(t)},ue.ready.promise();var Me;for(Me in ue(he))break;he.ownFirst="0"===Me,he.inlineBlockNeedsLayout=!1,ue(function(){var e,t,i,n;(i=ne.getElementsByTagName("body")[0])&&i.style&&(t=ne.createElement("div"),n=ne.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",he.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=ne.createElement("div");he.deleteExpando=!0;try{delete e.test}catch(e){he.deleteExpando=!1}e=null}();var Ee=function(e){var t=ue.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Ae=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Be=/([A-Z])/g;ue.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ue.cache[e[ue.expando]]:e[ue.expando])&&!d(e)},data:function(e,t,i){return c(e,t,i)},removeData:function(e,t){return h(e,t)},_data:function(e,t,i){return c(e,t,i,!0)},_removeData:function(e,t){return h(e,t,!0)}}),ue.fn.extend({data:function(e,t){var i,n,a,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(a=ue.data(r),1===r.nodeType&&!ue._data(r,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=ue.camelCase(n.slice(5)),l(r,n,a[n])));ue._data(r,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){ue.data(this,e)}):arguments.length>1?this.each(function(){ue.data(this,e,t)}):r?l(r,e,ue.data(r,e)):void 0},removeData:function(e){return this.each(function(){ue.removeData(this,e)})}}),ue.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=ue._data(e,t),i&&(!n||ue.isArray(i)?n=ue._data(e,t,ue.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=ue.queue(e,t),n=i.length,a=i.shift(),r=ue._queueHooks(e,t),s=function(){ue.dequeue(e,t)};"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===t&&i.unshift("inprogress"),delete r.stop,a.call(e,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ue._data(e,i)||ue._data(e,i,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(e,t+"queue"),ue._removeData(e,i)})})}}),ue.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ue.queue(this[0],e):void 0===t?this:this.each(function(){var i=ue.queue(this,e,t);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,a=ue.Deferred(),r=this,s=this.length,o=function(){--n||a.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=ue._data(r[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(o));return o(),a.promise(t)}}),function(){var e;he.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return(i=ne.getElementsByTagName("body")[0])&&i.style?(t=ne.createElement("div"),n=ne.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ne.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),Ne=["Top","Right","Bottom","Left"],Se=function(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)},Ie=function(e,t,i,n,a,r,s){var o=0,l=e.length,d=null==i;if("object"===ue.type(i)){a=!0;for(o in i)Ie(e,t,o,i[o],!0,r,s)}else if(void 0!==n&&(a=!0,ue.isFunction(n)||(s=!0),d&&(s?(t.call(e,n),t=null):(d=t,t=function(e,t,i){return d.call(ue(e),i)})),t))for(;o<l;o++)t(e[o],i,s?n:n.call(e[o],o,t(e[o],i)));return a?e:d?t.call(e):l?t(e[0],i):r},Oe=/^(?:checkbox|radio)$/i,Re=/<([\w:-]+)/,Pe=/^$|\/(?:java|ecma)script/i,Fe=/^\s+/,qe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=ne.createElement("div"),t=ne.createDocumentFragment(),i=ne.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",he.leadingWhitespace=3===e.firstChild.nodeType,he.tbody=!e.getElementsByTagName("tbody").length,he.htmlSerialize=!!e.getElementsByTagName("link").length,he.html5Clone="<:nav></:nav>"!==ne.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,t.appendChild(i),he.appendChecked=i.checked,e.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),i=ne.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),he.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,he.noCloneEvent=!!e.addEventListener,e[ue.expando]=1,he.attributes=!e.getAttribute(ue.expando)}();var We={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td;var ze=/<|&#?\w+;/,Ke=/<tbody/i;!function(){var t,i,n=ne.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(he[t]=i in e)||(n.setAttribute(i,"t"),he[t]=!1===n.attributes[i].expando);n=null}();var Ue=/^(?:input|select|textarea)$/i,Je=/^key/,Ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ve=/^(?:focusinfocus|focusoutblur)$/,Xe=/^([^.]*)(?:\.(.+)|)/;ue.event={global:{},add:function(e,t,i,n,a){var r,s,o,l,d,c,h,u,p,f,y,v=ue._data(e);if(v){for(i.handler&&(l=i,i=l.handler,a=l.selector),i.guid||(i.guid=ue.guid++),(s=v.events)||(s=v.events={}),(c=v.handle)||(c=v.handle=function(e){return void 0===ue||e&&ue.event.triggered===e.type?void 0:ue.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(De)||[""],o=t.length;o--;)r=Xe.exec(t[o])||[],p=y=r[1],f=(r[2]||"").split(".").sort(),p&&(d=ue.event.special[p]||{},p=(a?d.delegateType:d.bindType)||p,d=ue.event.special[p]||{},h=ue.extend({type:p,origType:y,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&ue.expr.match.needsContext.test(a),namespace:f.join(".")},l),(u=s[p])||(u=s[p]=[],u.delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),a?u.splice(u.delegateCount++,0,h):u.push(h),ue.event.global[p]=!0);e=null}},remove:function(e,t,i,n,a){var r,s,o,l,d,c,h,u,p,f,y,v=ue.hasData(e)&&ue._data(e);if(v&&(c=v.events)){for(t=(t||"").match(De)||[""],d=t.length;d--;)if(o=Xe.exec(t[d])||[],p=y=o[1],f=(o[2]||"").split(".").sort(),p){for(h=ue.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,u=c[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=u.length;r--;)s=u[r],!a&&y!==s.origType||i&&i.guid!==s.guid||o&&!o.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(u.splice(r,1),s.selector&&u.delegateCount--,h.remove&&h.remove.call(e,s));l&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,f,v.handle)||ue.removeEvent(e,p,v.handle),delete c[p])}else for(p in c)ue.event.remove(e,p+t[d],i,n,!0);ue.isEmptyObject(c)&&(delete v.handle,ue._removeData(e,"events"))}},trigger:function(t,i,n,a){var r,s,o,l,d,c,h,u=[n||ne],p=ce.call(t,"type")?t.type:t,f=ce.call(t,"namespace")?t.namespace.split("."):[];if(o=c=n=n||ne,3!==n.nodeType&&8!==n.nodeType&&!Ve.test(p+ue.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[ue.expando]?t:new ue.Event(p,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:ue.makeArray(i,[t]),d=ue.event.special[p]||{},a||!d.trigger||!1!==d.trigger.apply(n,i))){if(!a&&!d.noBubble&&!ue.isWindow(n)){for(l=d.delegateType||p,Ve.test(l+p)||(o=o.parentNode);o;o=o.parentNode)u.push(o),c=o;c===(n.ownerDocument||ne)&&u.push(c.defaultView||c.parentWindow||e)}for(h=0;(o=u[h++])&&!t.isPropagationStopped();)t.type=h>1?l:d.bindType||p,r=(ue._data(o,"events")||{})[t.type]&&ue._data(o,"handle"),r&&r.apply(o,i),(r=s&&o[s])&&r.apply&&Ee(o)&&(t.result=r.apply(o,i),!1===t.result&&t.preventDefault());if(t.type=p,!a&&!t.isDefaultPrevented()&&(!d._default||!1===d._default.apply(u.pop(),i))&&Ee(n)&&s&&n[p]&&!ue.isWindow(n)){c=n[s],c&&(n[s]=null),ue.event.triggered=p;try{n[p]()}catch(e){}ue.event.triggered=void 0,c&&(n[s]=c)}return t.result}},dispatch:function(e){e=ue.event.fix(e);var t,i,n,a,r,s=[],o=ae.call(arguments),l=(ue._data(this,"events")||{})[e.type]||[],d=ue.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,e)){for(s=ue.event.handlers.call(this,e,l),t=0;(a=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,i=0;(r=a.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((ue.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,o))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,a,r,s=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;i<o;i++)r=t[i],a=r.selector+" ",void 0===n[a]&&(n[a]=r.needsContext?ue(a,this).index(l)>-1:ue.find(a,this,null,[l]).length),n[a]&&n.push(r);n.length&&s.push({elem:l,handlers:n})}return o<t.length&&s.push({elem:this,handlers:t.slice(o)}),s},fix:function(e){if(e[ue.expando])return e;var t,i,n,a=e.type,r=e,s=this.fixHooks[a];for(s||(this.fixHooks[a]=s=Ye.test(a)?this.mouseHooks:Je.test(a)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new ue.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=r.srcElement||ne),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,a,r=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||ne,a=n.documentElement,i=n.body,e.pageX=t.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==$()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===$()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var n=ue.extend(new ue.Event,i,{type:e,isSimulated:!0});ue.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}},ue.removeEvent=ne.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t;e.detachEvent&&(void 0===e[n]&&(e[n]=null),e.detachEvent(n,i))},ue.Event=function(e,t){if(!(this instanceof ue.Event))return new ue.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?g:b):this.type=e,t&&ue.extend(this,t),this.timeStamp=e&&e.timeStamp||ue.now(),this[ue.expando]=!0},ue.Event.prototype={constructor:ue.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=g,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=g,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=g,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,a=e.relatedTarget,r=e.handleObj;return a&&(a===n||ue.contains(n,a))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),he.submit||(ue.event.special.submit={setup:function(){if(ue.nodeName(this,"form"))return!1;ue.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=ue.nodeName(t,"input")||ue.nodeName(t,"button")?ue.prop(t,"form"):void 0;i&&!ue._data(i,"submit")&&(ue.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),ue._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&ue.event.simulate("submit",this.parentNode,e))},teardown:function(){if(ue.nodeName(this,"form"))return!1;ue.event.remove(this,"._submit")}}),he.change||(ue.event.special.change={setup:function(){if(Ue.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ue.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),ue.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),ue.event.simulate("change",this,e)})),!1;ue.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ue.test(t.nodeName)&&!ue._data(t,"change")&&(ue.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ue.event.simulate("change",this.parentNode,e)}),ue._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ue.event.remove(this,"._change"),!Ue.test(this.nodeName)}}),he.focusin||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){ue.event.simulate(t,e.target,ue.event.fix(e))};ue.event.special[t]={setup:function(){var n=this.ownerDocument||this,a=ue._data(n,t);a||n.addEventListener(e,i,!0),ue._data(n,t,(a||0)+1)},teardown:function(){var n=this.ownerDocument||this,a=ue._data(n,t)-1;a?ue._data(n,t,a):(n.removeEventListener(e,i,!0),ue._removeData(n,t))}}}),ue.fn.extend({on:function(e,t,i,n){return x(this,e,t,i,n)},one:function(e,t,i,n){return x(this,e,t,i,n,1)},off:function(e,t,i){var n,a;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ue(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=b),this.each(function(){ue.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return ue.event.trigger(e,t,i,!0)}});var Ge=/ jQuery\d+="(?:null|\d+)"/g,Qe=new RegExp("<(?:"+qe+")[\\s/>]","i"),Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at=p(ne),rt=at.appendChild(ne.createElement("div"));ue.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,i){var n,a,r,s,o,l=ue.contains(e.ownerDocument,e);if(he.html5Clone||ue.isXMLDoc(e)||!Qe.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(rt.innerHTML=e.outerHTML,rt.removeChild(r=rt.firstChild)),!(he.noCloneEvent&&he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(n=f(r),o=f(e),s=0;null!=(a=o[s]);++s)n[s]&&T(a,n[s]);if(t)if(i)for(o=o||f(e),n=n||f(r),s=0;null!=(a=o[s]);s++)C(a,n[s]);else C(e,r);return n=f(r,"script"),n.length>0&&y(n,!l&&f(e,"script")),n=o=a=null,r},cleanData:function(e,t){for(var i,n,a,r,s=0,o=ue.expando,l=ue.cache,d=he.attributes,c=ue.event.special;null!=(i=e[s]);s++)if((t||Ee(i))&&(a=i[o],r=a&&l[a])){if(r.events)for(n in r.events)c[n]?ue.event.remove(i,n):ue.removeEvent(i,n,r.handle);l[a]&&(delete l[a],d||void 0===i.removeAttribute?i[o]=void 0:i.removeAttribute(o),ie.push(a))}}}),ue.fn.extend({domManip:D,detach:function(e){return _(this,e,!0)},remove:function(e){return _(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ne).createTextNode(e))},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){w(this,e).appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ue.cleanData(f(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ue.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ge,""):void 0;if("string"==typeof e&&!et.test(e)&&(he.htmlSerialize||!Qe.test(e))&&(he.leadingWhitespace||!Fe.test(e))&&!We[(Re.exec(e)||["",""])[1].toLowerCase()]){e=ue.htmlPrefilter(e);try{for(;i<n;i++)t=this[i]||{},1===t.nodeType&&(ue.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var i=this.parentNode;ue.inArray(this,e)<0&&(ue.cleanData(f(this)),i&&i.replaceChild(t,this))},e)}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",
replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var i,n=0,a=[],r=ue(e),s=r.length-1;n<=s;n++)i=n===s?this:this.clone(!0),ue(r[n])[t](i),se.apply(a,i.get());return this.pushStack(a)}});var st,ot={HTML:"block",BODY:"block"},lt=/^margin/,dt=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),ct=function(e,t,i,n){var a,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];a=i.apply(e,n||[]);for(r in t)e.style[r]=s[r];return a},ht=ne.documentElement;!function(){function t(){var t,c,h=ne.documentElement;h.appendChild(l),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=a=o=!1,n=s=!0,e.getComputedStyle&&(c=e.getComputedStyle(d),i="1%"!==(c||{}).top,o="2px"===(c||{}).marginLeft,a="4px"===(c||{width:"4px"}).width,d.style.marginRight="50%",n="4px"===(c||{marginRight:"4px"}).marginRight,t=d.appendChild(ne.createElement("div")),t.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",d.style.width="1px",s=!parseFloat((e.getComputedStyle(t)||{}).marginRight),d.removeChild(t)),d.style.display="none",r=0===d.getClientRects().length,r&&(d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d.childNodes[0].style.borderCollapse="separate",t=d.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",r=0===t[0].offsetHeight)),h.removeChild(l)}var i,n,a,r,s,o,l=ne.createElement("div"),d=ne.createElement("div");d.style&&(d.style.cssText="float:left;opacity:.5",he.opacity="0.5"===d.style.opacity,he.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===d.style.backgroundClip,l=ne.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",l.appendChild(d),he.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,ue.extend(he,{reliableHiddenOffsets:function(){return null==i&&t(),r},boxSizingReliable:function(){return null==i&&t(),a},pixelMarginRight:function(){return null==i&&t(),n},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),s},reliableMarginLeft:function(){return null==i&&t(),o}}))}();var ut,pt,ft=/^(top|right|bottom|left)$/;e.getComputedStyle?(ut=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},pt=function(e,t,i){var n,a,r,s,o=e.style;return i=i||ut(e),s=i?i.getPropertyValue(t)||i[t]:void 0,""!==s&&void 0!==s||ue.contains(e.ownerDocument,e)||(s=ue.style(e,t)),i&&!he.pixelMarginRight()&&dt.test(s)&&lt.test(t)&&(n=o.width,a=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=i.width,o.width=n,o.minWidth=a,o.maxWidth=r),void 0===s?s:s+""}):ht.currentStyle&&(ut=function(e){return e.currentStyle},pt=function(e,t,i){var n,a,r,s,o=e.style;return i=i||ut(e),s=i?i[t]:void 0,null==s&&o&&o[t]&&(s=o[t]),dt.test(s)&&!ft.test(t)&&(n=o.left,a=e.runtimeStyle,r=a&&a.left,r&&(a.left=e.currentStyle.left),o.left="fontSize"===t?"1em":s,s=o.pixelLeft+"px",o.left=n,r&&(a.left=r)),void 0===s?s:s+""||"auto"});var yt=/alpha\([^)]*\)/i,vt=/opacity\s*=\s*([^)]*)/i,mt=/^(none|table(?!-c[ea]).+)/,gt=new RegExp("^("+He+")(.*)$","i"),bt={position:"absolute",visibility:"hidden",display:"block"},$t={letterSpacing:"0",fontWeight:"400"},xt=["Webkit","O","Moz","ms"],wt=ne.createElement("div").style;ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=pt(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:he.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,s,o=ue.camelCase(t),l=e.style;if(t=ue.cssProps[o]||(ue.cssProps[o]=B(o)||o),s=ue.cssHooks[t]||ue.cssHooks[o],void 0===i)return s&&"get"in s&&void 0!==(a=s.get(e,!1,n))?a:l[t];if(r=typeof i,"string"===r&&(a=Le.exec(i))&&a[1]&&(i=u(e,t,a),r="number"),null!=i&&i===i&&("number"===r&&(i+=a&&a[3]||(ue.cssNumber[o]?"":"px")),he.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(e,i,n)))))try{l[t]=i}catch(e){}}},css:function(e,t,i,n){var a,r,s,o=ue.camelCase(t);return t=ue.cssProps[o]||(ue.cssProps[o]=B(o)||o),s=ue.cssHooks[t]||ue.cssHooks[o],s&&"get"in s&&(r=s.get(e,!0,i)),void 0===r&&(r=pt(e,t,n)),"normal"===r&&t in $t&&(r=$t[t]),""===i||i?(a=parseFloat(r),!0===i||isFinite(a)?a||0:r):r}}),ue.each(["height","width"],function(e,t){ue.cssHooks[t]={get:function(e,i,n){if(i)return mt.test(ue.css(e,"display"))&&0===e.offsetWidth?ct(e,bt,function(){return S(e,t,n)}):S(e,t,n)},set:function(e,i,n){var a=n&&ut(e);return L(e,i,n?N(e,t,n,he.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,a),a):0)}}}),he.opacity||(ue.cssHooks.opacity={get:function(e,t){return vt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,a=ue.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ue.trim(r.replace(yt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=yt.test(r)?r.replace(yt,a):r+" "+a)}}),ue.cssHooks.marginRight=A(he.reliableMarginRight,function(e,t){if(t)return ct(e,{display:"inline-block"},pt,[e,"marginRight"])}),ue.cssHooks.marginLeft=A(he.reliableMarginLeft,function(e,t){if(t)return(parseFloat(pt(e,"marginLeft"))||(ue.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ct(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(i){for(var n=0,a={},r="string"==typeof i?i.split(" "):[i];n<4;n++)a[e+Ne[n]+t]=r[n]||r[n-2]||r[0];return a}},lt.test(e)||(ue.cssHooks[e+t].set=L)}),ue.fn.extend({css:function(e,t){return Ie(this,function(e,t,i){var n,a,r={},s=0;if(ue.isArray(t)){for(n=ut(e),a=t.length;s<a;s++)r[t[s]]=ue.css(e,t[s],!1,n);return r}return void 0!==i?ue.style(e,t,i):ue.css(e,t)},e,t,arguments.length>1)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Se(this)?ue(this).show():ue(this).hide()})}}),ue.Tween=I,I.prototype={constructor:I,init:function(e,t,i,n,a,r){this.elem=e,this.prop=i,this.easing=a||ue.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(ue.cssNumber[i]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,i=I.propHooks[this.prop];return this.options.duration?this.pos=t=ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ue.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ue.cssProps[e.prop]]&&!ue.cssHooks[e.prop]?e.elem[e.prop]=e.now:ue.style(e.elem,e.prop,e.now+e.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ue.fx=I.prototype.init,ue.fx.step={};var kt,jt,Ct=/^(?:toggle|show|hide)$/,Tt=/queueHooks$/;ue.Animation=ue.extend(W,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return u(i.elem,e,Le.exec(t),i),i}]},tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var i,n=0,a=e.length;n<a;n++)i=e[n],W.tweeners[i]=W.tweeners[i]||[],W.tweeners[i].unshift(t)},prefilters:[F],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),ue.speed=function(e,t,i){var n=e&&"object"==typeof e?ue.extend({},e):{complete:i||!i&&t||ue.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ue.isFunction(t)&&t};return n.duration=ue.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ue.fx.speeds?ue.fx.speeds[n.duration]:ue.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){ue.isFunction(n.old)&&n.old.call(this),n.queue&&ue.dequeue(this,n.queue)},n},ue.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Se).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var a=ue.isEmptyObject(e),r=ue.speed(t,i,n),s=function(){var t=W(this,ue.extend({},e),r);(a||ue._data(this,"finish"))&&t.stop(!0)};return s.finish=s,a||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",r=ue.timers,s=ue._data(this);if(a)s[a]&&s[a].stop&&n(s[a]);else for(a in s)s[a]&&s[a].stop&&Tt.test(a)&&n(s[a]);for(a=r.length;a--;)r[a].elem!==this||null!=e&&r[a].queue!==e||(r[a].anim.stop(i),t=!1,r.splice(a,1));!t&&i||ue.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=ue._data(this),n=i[e+"queue"],a=i[e+"queueHooks"],r=ue.timers,s=n?n.length:0;for(i.finish=!0,ue.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ue.each(["toggle","show","hide"],function(e,t){var i=ue.fn[t];ue.fn[t]=function(e,n,a){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(R(t,!0),e,n,a)}}),ue.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ue.timers=[],ue.fx.tick=function(){var e,t=ue.timers,i=0;for(kt=ue.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||ue.fx.stop(),kt=void 0},ue.fx.timer=function(e){ue.timers.push(e),e()?ue.fx.start():ue.timers.pop()},ue.fx.interval=13,ue.fx.start=function(){jt||(jt=e.setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){e.clearInterval(jt),jt=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fn.delay=function(t,i){return t=ue.fx?ue.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var a=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(a)}})},function(){var e,t=ne.createElement("input"),i=ne.createElement("div"),n=ne.createElement("select"),a=n.appendChild(ne.createElement("option"));i=ne.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),i.appendChild(t),e=i.getElementsByTagName("a")[0],e.style.cssText="top:1px",he.getSetAttribute="t"!==i.className,he.style=/top/.test(e.getAttribute("style")),he.hrefNormalized="/a"===e.getAttribute("href"),he.checkOn=!!t.value,he.optSelected=a.selected,he.enctype=!!ne.createElement("form").enctype,n.disabled=!0,he.optDisabled=!a.disabled,t=ne.createElement("input"),t.setAttribute("value",""),he.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),he.radioValue="t"===t.value}();var Dt=/\r/g,_t=/[\x20\t\r\n\f]+/g;ue.fn.extend({val:function(e){var t,i,n,a=this[0];{if(arguments.length)return n=ue.isFunction(e),this.each(function(i){var a;1===this.nodeType&&(a=n?e.call(this,i,ue(this).val()):e,null==a?a="":"number"==typeof a?a+="":ue.isArray(a)&&(a=ue.map(a,function(e){return null==e?"":e+""})),(t=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))});if(a)return(t=ue.valHooks[a.type]||ue.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(a,"value"))?i:(i=a.value,"string"==typeof i?i.replace(Dt,""):null==i?"":i)}}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:ue.trim(ue.text(e)).replace(_t," ")}},select:{get:function(e){for(var t,i,n=e.options,a=e.selectedIndex,r="select-one"===e.type||a<0,s=r?null:[],o=r?a+1:n.length,l=a<0?o:r?a:0;l<o;l++)if(i=n[l],(i.selected||l===a)&&(he.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ue.nodeName(i.parentNode,"optgroup"))){if(t=ue(i).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var i,n,a=e.options,r=ue.makeArray(t),s=a.length;s--;)if(n=a[s],ue.inArray(ue.valHooks.option.get(n),r)>-1)try{n.selected=i=!0}catch(e){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),a}}}}),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,t){if(ue.isArray(t))return e.checked=ue.inArray(ue(e).val(),t)>-1}},he.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Mt,Et,At=ue.expr.attrHandle,Bt=/^(?:checked|selected)$/i,Ht=he.getSetAttribute,Lt=he.input;ue.fn.extend({attr:function(e,t){return Ie(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})}}),ue.extend({attr:function(e,t,i){var n,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?ue.prop(e,t,i):(1===r&&ue.isXMLDoc(e)||(t=t.toLowerCase(),a=ue.attrHooks[t]||(ue.expr.match.bool.test(t)?Et:Mt)),void 0!==i?null===i?void ue.removeAttr(e,t):a&&"set"in a&&void 0!==(n=a.set(e,i,t))?n:(e.setAttribute(t,i+""),i):a&&"get"in a&&null!==(n=a.get(e,t))?n:(n=ue.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,a=0,r=t&&t.match(De);if(r&&1===e.nodeType)for(;i=r[a++];)n=ue.propFix[i]||i,ue.expr.match.bool.test(i)?Lt&&Ht||!Bt.test(i)?e[n]=!1:e[ue.camelCase("default-"+i)]=e[n]=!1:ue.attr(e,i,""),e.removeAttribute(Ht?i:n)}}),Et={set:function(e,t,i){return!1===t?ue.removeAttr(e,i):Lt&&Ht||!Bt.test(i)?e.setAttribute(!Ht&&ue.propFix[i]||i,i):e[ue.camelCase("default-"+i)]=e[i]=!0,i}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,t){var i=At[t]||ue.find.attr;Lt&&Ht||!Bt.test(t)?At[t]=function(e,t,n){var a,r;return n||(r=At[t],At[t]=a,a=null!=i(e,t,n)?t.toLowerCase():null,At[t]=r),a}:At[t]=function(e,t,i){if(!i)return e[ue.camelCase("default-"+t)]?t.toLowerCase():null}}),Lt&&Ht||(ue.attrHooks.value={set:function(e,t,i){if(!ue.nodeName(e,"input"))return Mt&&Mt.set(e,t,i);e.defaultValue=t}}),Ht||(Mt={set:function(e,t,i){var n=e.getAttributeNode(i);if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i))return t}},At.id=At.name=At.coords=function(e,t,i){var n;if(!i)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},ue.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);if(i&&i.specified)return i.value},set:Mt.set},ue.attrHooks.contenteditable={set:function(e,t,i){Mt.set(e,""!==t&&t,i)}},ue.each(["width","height"],function(e,t){ue.attrHooks[t]={set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}}})),he.style||(ue.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Nt=/^(?:input|select|textarea|button|object)$/i,St=/^(?:a|area)$/i;ue.fn.extend({prop:function(e,t){return Ie(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ue.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ue.extend({prop:function(e,t,i){var n,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ue.isXMLDoc(e)||(t=ue.propFix[t]||t,a=ue.propHooks[t]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(e,i,t))?n:e[t]=i:a&&"get"in a&&null!==(n=a.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):Nt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),he.hrefNormalized||ue.each(["href","src"],function(e,t){ue.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),he.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),he.enctype||(ue.propFix.enctype="encoding");var It=/[\t\r\n\f]/g;ue.fn.extend({addClass:function(e){var t,i,n,a,r,s,o,l=0;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,z(this)))});if("string"==typeof e&&e)for(t=e.match(De)||[];i=this[l++];)if(a=z(i),n=1===i.nodeType&&(" "+a+" ").replace(It," ")){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o=ue.trim(n),a!==o&&ue.attr(i,"class",o)}return this},removeClass:function(e){var t,i,n,a,r,s,o,l=0;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(De)||[];i=this[l++];)if(a=z(i),n=1===i.nodeType&&(" "+a+" ").replace(It," ")){for(s=0;r=t[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");o=ue.trim(n),a!==o&&ue.attr(i,"class",o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ue.isFunction(e)?this.each(function(i){ue(this).toggleClass(e.call(this,i,z(this),t),t)}):this.each(function(){var t,n,a,r;if("string"===i)for(n=0,a=ue(this),r=e.match(De)||[];t=r[n++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==i||(t=z(this),t&&ue._data(this,"__className__",t),ue.attr(this,"class",t||!1===e?"":ue._data(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+z(i)+" ").replace(It," ").indexOf(t)>-1)return!0;return!1}}),ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Ot=e.location,Rt=ue.now(),Pt=/\?/,Ft=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ue.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,a=ue.trim(t+"");return a&&!ue.trim(a.replace(Ft,function(e,t,a,r){return i&&t&&(n=0),0===n?e:(i=a||t,n+=!r-!a,"")}))?Function("return "+a)():ue.error("Invalid JSON: "+t)},ue.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new e.DOMParser,i=n.parseFromString(t,"text/xml")):(i=new e.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(e){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+t),i};var qt=/#.*$/,Wt=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ut=/^(?:GET|HEAD)$/,Jt=/^\/\//,Yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vt={},Xt={},Gt="*/".concat("*"),Qt=Ot.href,Zt=Yt.exec(Qt.toLowerCase())||[];ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Qt,type:"GET",isLocal:Kt.test(Zt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?J(J(e,ue.ajaxSettings),t):J(ue.ajaxSettings,e)},ajaxPrefilter:K(Vt),ajaxTransport:K(Xt),ajax:function(t,i){function n(t,i,n,a){var r,h,g,b,x,k=i;2!==$&&($=2,l&&e.clearTimeout(l),c=void 0,o=a||"",w.readyState=t>0?4:0,r=t>=200&&t<300||304===t,n&&(b=Y(u,w,n)),b=V(u,b,w,r),r?(u.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ue.lastModified[s]=x),(x=w.getResponseHeader("etag"))&&(ue.etag[s]=x)),204===t||"HEAD"===u.type?k="nocontent":304===t?k="notmodified":(k=b.state,h=b.data,g=b.error,r=!g)):(g=k,!t&&k||(k="error",t<0&&(t=0))),w.status=t,w.statusText=(i||k)+"",r?y.resolveWith(p,[h,k,w]):y.rejectWith(p,[w,k,g]),w.statusCode(m),m=void 0,d&&f.trigger(r?"ajaxSuccess":"ajaxError",[w,u,r?h:g]),v.fireWith(p,[w,k]),d&&(f.trigger("ajaxComplete",[w,u]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var a,r,s,o,l,d,c,h,u=ue.ajaxSetup({},i),p=u.context||u,f=u.context&&(p.nodeType||p.jquery)?ue(p):ue.event,y=ue.Deferred(),v=ue.Callbacks("once memory"),m=u.statusCode||{},g={},b={},$=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===$){if(!h)for(h={};t=zt.exec(o);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===$?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return $||(e=b[i]=b[i]||e,g[e]=t),this},overrideMimeType:function(e){return $||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if($<2)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return c&&c.abort(t),n(0,t),this}};if(y.promise(w).complete=v.add,w.success=w.done,w.error=w.fail,u.url=((t||u.url||Qt)+"").replace(qt,"").replace(Jt,Zt[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=ue.trim(u.dataType||"*").toLowerCase().match(De)||[""],null==u.crossDomain&&(a=Yt.exec(u.url.toLowerCase()),u.crossDomain=!(!a||a[1]===Zt[1]&&a[2]===Zt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Zt[3]||("http:"===Zt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ue.param(u.data,u.traditional)),U(Vt,u,i,w),2===$)return w;d=ue.event&&u.global,d&&0==ue.active++&&ue.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Ut.test(u.type),s=u.url,u.hasContent||(u.data&&(s=u.url+=(Pt.test(s)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Wt.test(s)?s.replace(Wt,"$1_="+Rt++):s+(Pt.test(s)?"&":"?")+"_="+Rt++)),u.ifModified&&(ue.lastModified[s]&&w.setRequestHeader("If-Modified-Since",ue.lastModified[s]),ue.etag[s]&&w.setRequestHeader("If-None-Match",ue.etag[s])),(u.data&&u.hasContent&&!1!==u.contentType||i.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Gt+"; q=0.01":""):u.accepts["*"]);for(r in u.headers)w.setRequestHeader(r,u.headers[r]);if(u.beforeSend&&(!1===u.beforeSend.call(p,w,u)||2===$))return w.abort();x="abort";for(r in{success:1,error:1,complete:1})w[r](u[r]);if(c=U(Xt,u,i,w)){if(w.readyState=1,d&&f.trigger("ajaxSend",[w,u]),2===$)return w;u.async&&u.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")},u.timeout));try{$=1,c.send(g,n)}catch(e){if(!($<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,i){return ue.get(e,t,i,"json")},getScript:function(e,t){return ue.get(e,void 0,t,"script")}}),ue.each(["get","post"],function(e,t){ue[t]=function(e,i,n,a){return ue.isFunction(i)&&(a=a||n,n=i,i=void 0),ue.ajax(ue.extend({url:e,type:t,dataType:a,data:i,success:n},ue.isPlainObject(e)&&e))}}),ue._evalUrl=function(e){return ue.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ue.fn.extend({wrapAll:function(e){if(ue.isFunction(e))return this.each(function(t){ue(this).wrapAll(e.call(this,t))});if(this[0]){var t=ue(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(i){ue(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}}),ue.expr.filters.hidden=function(e){return he.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:G(e)},ue.expr.filters.visible=function(e){return!ue.expr.filters.hidden(e)};var ei=/%20/g,ti=/\[\]$/,ii=/\r?\n/g,ni=/^(?:submit|button|image|reset|file)$/i,ai=/^(?:input|select|textarea|keygen)/i;ue.param=function(e,t){var i,n=[],a=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){a(this.name,this.value)});else for(i in e)Q(i,e[i],t,a);return n.join("&").replace(ei,"+")},ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&ai.test(this.nodeName)&&!ni.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var i=ue(this).val();return null==i?null:ue.isArray(i)?ue.map(i,function(e){return{name:t.name,value:e.replace(ii,"\r\n")}}):{name:t.name,value:i.replace(ii,"\r\n")}}).get()}}),ue.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():ne.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var ri=0,si={},oi=ue.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in si)si[e](void 0,!0)}),he.cors=!!oi&&"withCredentials"in oi,oi=he.ajax=!!oi,oi&&ue.ajaxTransport(function(t){if(!t.crossDomain||he.cors){var i;return{send:function(n,a){var r,s=t.xhr(),o=++ri;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)s[r]=t.xhrFields[r];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&s.setRequestHeader(r,n[r]+"");s.send(t.hasContent&&t.data||null),i=function(e,n){var r,l,d;if(i&&(n||4===s.readyState))if(delete si[o],i=void 0,s.onreadystatechange=ue.noop,n)4!==s.readyState&&s.abort();else{d={},r=s.status,"string"==typeof s.responseText&&(d.text=s.responseText);try{l=s.statusText}catch(e){l=""}r||!t.isLocal||t.crossDomain?1223===r&&(r=204):r=d.text?200:404}d&&a(r,l,d,s.getAllResponseHeaders())},t.async?4===s.readyState?e.setTimeout(i):s.onreadystatechange=si[o]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=ne.head||ue("head")[0]||ne.documentElement;return{send:function(n,a){t=ne.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||a(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var li=[],di=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=li.pop()||ue.expando+"_"+Rt++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(t,i,n){var a,r,s,o=!1!==t.jsonp&&(di.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&di.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=ue.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(di,"$1"+a):!1!==t.jsonp&&(t.url+=(Pt.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return s||ue.error(a+" was not called"),s[0]},t.dataTypes[0]="json",r=e[a],e[a]=function(){s=arguments},n.always(function(){void 0===r?ue(e).removeProp(a):e[a]=r,t[a]&&(t.jsonpCallback=i.jsonpCallback,li.push(a)),s&&ue.isFunction(r)&&r(s[0]),s=r=void 0}),"script"}),ue.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||ne;var n=xe.exec(e),a=!i&&[];return n?[t.createElement(n[1])]:(n=m([e],t,a),a&&a.length&&ue(a).remove(),ue.merge([],n.childNodes))};var ci=ue.fn.load;ue.fn.load=function(e,t,i){if("string"!=typeof e&&ci)return ci.apply(this,arguments);var n,a,r,s=this,o=e.indexOf(" ");return o>-1&&(n=ue.trim(e.slice(o,e.length)),e=e.slice(0,o)),ue.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(a="POST"),s.length>0&&ue.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(n?ue("<div>").append(ue.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length},ue.offset={setOffset:function(e,t,i){var n,a,r,s,o,l,d,c=ue.css(e,"position"),h=ue(e),u={};"static"===c&&(e.style.position="relative"),o=h.offset(),r=ue.css(e,"top"),l=ue.css(e,"left"),d=("absolute"===c||"fixed"===c)&&ue.inArray("auto",[r,l])>-1,d?(n=h.position(),s=n.top,a=n.left):(s=parseFloat(r)||0,a=parseFloat(l)||0),ue.isFunction(t)&&(t=t.call(e,i,ue.extend({},o))),null!=t.top&&(u.top=t.top-o.top+s),null!=t.left&&(u.left=t.left-o.left+a),"using"in t?t.using.call(e,u):h.css(u)}},ue.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},a=this[0],r=a&&a.ownerDocument;if(r)return t=r.documentElement,ue.contains(t,a)?(void 0!==a.getBoundingClientRect&&(n=a.getBoundingClientRect()),i=te(r),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ue.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(i=e.offset()),i.top+=ue.css(e[0],"borderTopWidth",!0),i.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ue.css(n,"marginTop",!0),left:t.left-i.left-ue.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){
for(var e=this.offsetParent;e&&!ue.nodeName(e,"html")&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||ht})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);ue.fn[e]=function(n){return Ie(this,function(e,n,a){var r=te(e);if(void 0===a)return r?t in r?r[t]:r.document.documentElement[n]:e[n];r?r.scrollTo(i?ue(r).scrollLeft():a,i?a:ue(r).scrollTop()):e[n]=a},e,n,arguments.length,null)}}),ue.each(["top","left"],function(e,t){ue.cssHooks[t]=A(he.pixelPosition,function(e,i){if(i)return i=pt(e,t),dt.test(i)?ue(e).position()[t]+"px":i})}),ue.each({Height:"height",Width:"width"},function(e,t){ue.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){ue.fn[n]=function(n,a){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(!0===n||!0===a?"margin":"border");return Ie(this,function(t,i,n){var a;return ue.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===n?ue.css(t,i,s):ue.style(t,i,n,s)},t,r?n:void 0,r,null)}})}),ue.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"function"==typeof define&&define.amd&&define("modules/jquery",[],function(){return ue});var hi=e.jQuery,ui=e.$;return ue.noConflict=function(t){return e.$===ue&&(e.$=ui),t&&e.jQuery===ue&&(e.jQuery=hi),ue},t||e.$||(e.jQuery=e.$=ue),ue}),function(){function e(e){function t(){function e(t,i,n){n=n||e,n[t+"_event"]=n[t+"_event"]||[],n[t+"_event"].push(i)}function t(t,i,n){n=n||e,n[t+"_event"]||(n[t+"_event"]=[i])}function i(t,i,n){n=n||e;var a,r=n[t+"_event"];if(r)for(var s=0;s<r.length;s++)a=r[s](i);return a}return{on:e,once:t,trigger:i}}function i(){if(document.documentMode)return document.documentMode;var e=100,t=navigator.appVersion,i=t.split(";");return i.length>1&&i[1].indexOf("MSIE")>-1&&(e=parseInt(i[1].replace(/\s|MSIE/g,""))),e}function n(e,t,i){var n=e.rules.length;return e.insertRule?e.insertRule(t+"{"+i+"}",n):e.addRule&&e.addRule(t,i,n),n}function a(e,t){for(var i=e.cssRules||e.rules,n=0;n<i.length;n++)i[n].selectorText==t&&(e.deleteRule?e.deleteRule(n):e.removeRule(n),n--)}function r(e,t){for(var i=0;i<e.length;i++)if(e[i]==t)return i;return-1}function s(e,t){e=e.replace(/[^0123456789\.]/g,"");var i=/^\d+(\.\d*)?$/,n=i.exec(e),a=n&&n[0]||"";return void 0!==t&&(0===t&&a&&(a=parseInt(a)),n&&n[1]&&n[1].length>t+1&&(a=a.slice(0,a.length-(n[1].length-(t+1))))),a}function o(e){var t=e.getBoundingClientRect(),i=null;i=window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle;var n=i.paddingTop;n=s(n);var a=i.paddingBottom;a=s(a);var r=i.paddingLeft;r=s(r);var o=i.paddingRight;o=s(o);var l=i.marginTop;l=s(l);var d=i.marginBottom;d=s(d);var c=i.marginLeft;c=s(c);var h=i.marginRight;return h=s(h),{top:t.top,bottom:t.bottom,left:t.left,right:t.right,paddingTop:n,paddingBottom:a,paddingLeft:r,paddingRight:o,marginTop:l,marginBottom:d,marginLeft:c,marginRight:h,offsetTop:e.offsetTop,offsetBottom:e.offsetBottom,offsetLeft:e.offsetLeft,offsetRight:e.offsetRight}}function l(e,t){return window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(function(){e()},isNaN(t)?30:t)}function d(e){window.requestAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e)}function c(t){if(t.scrollWidth>t.clientWidth)return!0;var n=e(t),a=i(),r=n.clone().css({position:"absolute",top:"0",overflow:"visible",visiblity:"hidden",width:"auto",height:a<=6?n[0].offsetHeight:n.height()}).appendTo(window.document.body).addClass("jy-inline-block"),s=r[0].scrollWidth>n[0].scrollWidth;return r.remove(),s}function h(){var t=e('<div style="height:30px;overflow:auto;"><div style="height:100px;"></div></div>');e(window.document.body).append(t[0]);var i=t[0].offsetWidth-t[0].clientWidth;return t.remove(),i||17}function u(e,t){var i=u[e],n=null,a=[],r="";for(var s in t)r+=s+",",a.push(t[s]);if(r=r.slice(0,-1),i)n=u[e+r]||new Function(r,i);else{var o=/<%(.*?)%>/g,l=null,d=0;for(i='var str="";';l=o.exec(e);)d<l.index&&(i+="str+='"+e.slice(d,l.index).replace(/\n|\r/g,"").replace(/'/g,"\\'")+"';"),"-"==l[1].charAt(0)?i+="str+="+l[1].slice(1)+";":i+=l[1],d=l.index+l[0].length;i+="str+='"+e.slice(d).replace(/\n|\r/g,"")+"';",i+="return str;",n=new Function(r,i),u[e]=i,u[e+r]=n}return n.apply(window,a)}function p(e,t,i){function n(e,t,i){i=i||[];for(var r in t){var s=t[r];i.indexOf(r)>-1||("object"!=typeof s||null===s||s.nodeName&&s.nodeType||-1!=a.indexOf(s)?e[r]=s:(a.push(s),s instanceof Array?e[r]=n(e[r]||[],s):e[r]=n(e[r]||{},s)))}return e}var a=[];return n(e,t,i)}function f(e){function t(e,n){for(var a in n){var r=n[a],s="_jy"==a.slice(0,3);if("object"==typeof r&&null!==r&&-1==i.indexOf(r)){if(s)continue;i.push(r),r instanceof Array?e[a]=t([],r):e[a]=t({},r)}else s||(e[a]=r)}return e}var i=[];return t(e instanceof Array?[]:{},e)}function y(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function v(t,i){var n=window.document.body,a=window.document.documentElement,r=m.getIeVersion(),s=e('<div class="jy-msg"><span></span></div>'),o=0,l=0,d=0,c=0,h=0,u=0,p=null;if(i=i||{},p=e(i.container||n),i.icon){var f="";switch(f){case"danger":f="&#xe60b;";break;case"warn":f="&#xe60a;";break;case"question":f="&#xe613;";break;default:f="&#xe615;"}s.prepend('<i class="jy-msg-icon">'+f+"</i>").addClass("jy-msg-with-icon")}i.container?(h=p[0].clientWidth,u=p[0].clientHeight):(h=a.clientWidth||n.clientWidth,u=a.clientHeight||n.clientHeight,r<=6?(d=a.scrollTop||n.scrollTop||0,c=a.scrollLeft||n.scrollLeft||0):s.css("position","fixed")),s.children("span").text(t),p.append(s),o=s[0].offsetWidth,l=s[0].offsetHeight,s.css({left:(h-o)/2,top:(u-l)/2,marginLeft:c,marginTop:d}),setTimeout(function(){s.remove()},1500)}var m={getEvent:t,getIeVersion:i,indexOf:r,getNum:s,insertRule:n,deleteRule:a,getScrBarWidth:h,getRect:o,nextFrame:l,cancelNextFrame:d,htmlTemplate:u,checkOverflow:c,deepAssign:p,delInnerProperty:f,stopPropagation:y,showMsg:v};Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e,arguments)}}),Object.assign||(Object.assign=function(e,t){for(var i in t)e[i]=t[i];return e}),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)"keys"!=i&&t.push(i);return t}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(e==this[t])return t;return-1}),Array.prototype.map||(Array.prototype.map=function(e){for(var t=[],i=0;i<this.length;i++)t.push(e(this[i],i));return t}),Array.prototype.filter||(Array.prototype.filter=function(e){for(var t=[],i=0;i<this.length;i++)e(this[i])&&t.push(this[i]);return t}),Array.prototype.remove=function(e){for(var t=0;t<this.length;t++)this[t]==e&&(this.splice(t,1),t--)},Date.prototype.formatTime=function(e){var t=this,i=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),r=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return e=e||"yyyy-MM-dd",e=e.replace(/yyyy/i,i),e=e.replace("MM",("0"+n).slice(-2)),e=e.replace(/dd/i,("0"+a).slice(-2)),e=e.replace(/hh/i,("0"+r).slice(-2)),e=e.replace("mm",("0"+s).slice(-2)),e=e.replace(/ss/i,("0"+o).slice(-2))},Date.prototype.parseDateTime=function(e,t){function i(){for(var t="",i=0;i<e.length&&!e.charAt(i).match(/\d/);i++)i++;for(;i<e.length;i++){if(!e.charAt(i).match(/\d/)){e=e.slice(i+1);break}t+=e.charAt(i)}return t}t=t||"yyyy-MM-dd hh:mm:ss";for(var n=new Date,a=n.getFullYear(),r=n.getMonth(),a=n.getMonth(),s=n.getDate(),o=n.getHours(),l=n.getMinutes(),d=n.getSeconds(),c=0;c<t.length&&e.length;c++)if("yyyy"==t.slice(c,c+4)){if(!(a=i()))break;a=Number(a)}else if("MM"===t.slice(c,c+2)){if(!(r=i()))break;r=Number(r)-1}else if("dd"===t.slice(c,c+2)){if(!(s=i()))break;s=Number(s)}else if("hh"===t.slice(c,c+2)){if(!(o=i()))break;o=Number(o)}else if("mm"===t.slice(c,c+2)){if(!(l=i()))break;l=Number(l)}else if("ss"===t.slice(c,c+2)){if(!(d=i()))break;d=Number(d)}return new Date(a,r,s,o,l,d)};var g=window.parseInt;return window.parseInt=function(e,t){return g(e,t||10)},m}"function"==typeof define&&define.amd?define("modules/common",["./jquery"],function(t){return e(t)}):(window.JyUi=window.JyUi||{},window.JyUi.Common=e(window.$))}(window),function(e){function t(t,i){function n(e){var t=i.getEvent();this.on=t.on,this.once=t.once,this.trigger=t.trigger,this.option=i.deepAssign({},e),this.render()}var a={date:'<div class="jy-date">                <div class="jy-date-main">                    <div class="jy-date-header">                        <div class="jy-date-header-left">                            <i class="jy-icon jy-date-prev-year-btn">&#xe612;</i>                            <i class="jy-icon jy-date-prev-month-btn">&#xe733;</i>                        </div>                        <div class="jy-date-header-center">                            <div class="jy-date-header-year"></div>                            <div class="jy-date-header-month"></div>                            <div class="jy-date-header-year-range"></div>                            <div class="jy-date-header-time-label">选择时间</div>                            <div class="jy-date-header-month-label">选择月份</div>                        </div>                        <div class="jy-date-header-right">                            <i class="jy-icon jy-date-next-month-btn">&#xe734;</i>                            <i class="jy-icon jy-date-next-year-btn">&#xe61a;</i>                        </div>                    </div>                    <div class="jy-date-content">                    </div>                </div>                <div class="jy-date-footer">                    <div class="jy-date-footer-left">                        <span class="jy-date-result"></span>                    </div>                    <div class="jy-date-footer-right">                        <span class="jy-date-btn jy-date-empty">清空</span><span class="jy-date-btn jy-date-now">现在</span><span class="jy-date-btn jy-date-confirm">确定</span>                    </div>                </div>            </div>',dateRange:'<div class="jy-date-range">                <div class="jy-date-range-content">                </div>                <div class="jy-date-range-footer">                    <div class="jy-date-range-footer-left">                        <span class="jy-date-range-result"></span>                    </div>                    <div class="jy-date-range-footer-right">                        <span class="jy-date-btn jy-date-range-empty">清空</span><span class="jy-date-btn jy-date-range-confirm">确定</span>                    </div>                </div>            </div>',dateTable:'<table class="jy-date-date">                <thead>                    <tr>                        <th>日</th>                        <th>一</th>                        <th>二</th>                        <th>三</th>                        <th>四</th>                        <th>五</th>                        <th>六</th>                    </tr>                </thead>                <tbody>                </tbody>            </table>',time:'<div class="jy-date-time">                <ul>                    <li>时</li>                    <li>分</li>                    <li>秒</li>                </ul>                <ul>                    <li>                        <ol class="jy-date-time-hour">                        </ol>                    </li>                    <li>                        <ol class="jy-date-time-minute">                        </ol>                    </li>                    <li>                        <ol class="jy-date-time-second">                        </ol>                    </li>                </ul>            </div>',year:'<div class="jy-date-year"><ul></ul></div>',month:'<div class="jy-date-month"><ul></ul></div>',childBtn:'<span class="jy-date-btn jy-date-child"></span>',rangeChildBtn:'<span class="jy-date-btn jy-date-range-child"></span>',tip:'<span class="jy-date-tip"></span>'},r={date:"jy-date",dateRange:"jy-date-range",static:"jy-date-static",header:"jy-date-header",headerLeft:"jy-date-header-left",headerCenter:"jy-date-header-center",headerRight:"jy-date-header-right",content:"jy-date-content",rangeContent:"jy-date-range-content",year:"jy-date-header-year",yearRange:"jy-date-header-year-range",month:"jy-date-header-month",hour:"jy-date-time-hour",minute:"jy-date-time-minute",second:"jy-date-time-second",preMonth:"jy-date-prev-month",preMonthBtn:"jy-date-prev-month-btn",preYearBtn:"jy-date-prev-year-btn",nextMonth:"jy-date-next-month",nextMonthBtn:"jy-date-next-month-btn",nextYearBtn:"jy-date-next-year-btn",result:"jy-date-result",rangeResult:"jy-date-range-result",footer:"jy-date-footer",rangeFooter:"jy-date-range-footer",empty:"jy-date-empty",rangeEmpty:"jy-date-range-empty",now:"jy-date-now",confirm:"jy-date-confirm",rangeConfirm:"jy-date-range-confirm",child:"jy-date-child",rangeChild:"jy-date-range-child",active:"jy-date-active",showYear:"jy-date-show-year",showMonth:"jy-date-show-month",showYearMonth:"jy-date-show-year-month",showDate:"jy-date-show-date",showTime:"jy-date-show-time",disabled:"jy-date-btn-disabled",downAnimation:"jy-date-animation-hover-down"},s=i.getIeVersion(),o=e.document.body,l=e.document.documentElement,d=0,c=t(o),h=["一","二","三","四","五","六","七","八","九","十","十一","十二"],u={render:function(e){new n(e);return{}}};return n.prototype.render=function(){function e(){if(!n.data||!n.data.$date.is(":visible")){if(i(),n.option.range)n.renderRange();else switch(n.data.type){case"year":n.renderYear();break;case"month":case"yearmonth":n.renderMonth();break;case"date":case"datetime":n.renderDate();break;case"time":n.renderTime()}"static"==n.option.position?(n.$elem&&n.$elem.length?n.$elem.append(n.data.$date):t(o).append(n.data.$date),n.data.$date.addClass(r.static)):(t(o).append(n.data.$date),n.setPosition()),n.data.$date.on("click",function(){return!1}),n.option.range||n.bindHeaderEvent(),n.bindFooterEvent()}}function i(){n.data={},n.data.type=n.option.type||"date",n.data.split=n.option.split||"-",n.data.originType=n.data.type,d++,c.children("."+r.date+",."+r.dateRange).each(function(e,i){var n=t(i);n.hasClass(r.static)||n.remove()}),n.option.range?(n.data.value=[],n.$elem.length>=2?n.$elem.each(function(e,i){n.data.value.push(t(i).val())}):n.data.value=n.$elem.val()&&n.$elem.val().split(n.data.split)||[],n.option.value&&(n.data.value[0]=n.data.value[0]||n.option.value[0],n.data.value[1]=n.data.value[1]||n.option.value[1])):n.data.value=n.$elem.val()||n.option.value}var n=this;this.$elem=t(this.option.elem),this.triggerEvent=["change","focus","click"].indexOf(this.option.trigger)>-1?this.option.trigger:"click",this.$elem&&this.$elem.length?("static"===this.option.position?e():(this.$elem.on(this.triggerEvent,function(){e(),n.data.$date.addClass(r.downAnimation)}),t(o).on("click",function(){n.cancel()}),this.option.focus&&setTimeout(function(){n.$elem.trigger(n.triggerEvent)},100)),this.$elem.on("click",function(){return!1})):(this.option.position="static",e())},n.prototype.renderDate=function(){"string"==typeof this.data.value&&this.data.value?this.data.value=Date.prototype.parseDateTime(this.data.value):"number"==typeof this.data.value?this.data.value=new Date(this.data.value):this.data.value instanceof Date||(this.data.value=new Date),this.data.format=this.option.format||("datetime"==this.data.type?"yyyy-MM-dd hh:mm:ss":"yyyy-MM-dd"),this.data.$date=t(a.date),this.data.$table=t(a.dateTable),this.data.$content=this.data.$date.find("."+r.content),this.data.$header=this.data.$date.find("."+r.header),this.data.$footer=this.data.$date.find("."+r.footer),this.data.$result=this.data.$date.find("."+r.result),this.data.$content.append(this.data.$table),this.data.$date.addClass("date-layer"+d).addClass(r.showDate),"datetime"===this.data.type&&(this.data.$childBtn=t(a.childBtn).text("选择时间"),this.data.$result.html(this.data.$childBtn),this.data.$result=null),this.renderDateTable(),this.bindDateTableEvent()},n.prototype.renderDateTable=function(){var e=this.data.value.getFullYear(),t=this.data.value.getMonth(),i=this.data.value.getDate();this.setResult();var n=new Date(e,t,1).getDay(),a=this.getMonthDays(e,t),s=0;s=0==t?this.getMonthDays(e-1,11):this.getMonthDays(e,t-1);for(var o=0,l=0,d=!1,c="",h=0;h<42;h++){var u="";0===o&&(c+="<tr>"),h<n?l=s-(n-1)+h:h===n?l=1:l===a?(d=!0,l=1):l++,d?u=r.nextMonth:h<n?u=r.preMonth:l===i&&(u=r.active),c+='<td class="'+u+'">'+l+"</td>",7==++o&&(c+="</tr>",o=0)}this.data.$table.children("tbody").html(c),this.setHeader()},n.prototype.bindDateTableEvent=function(){var e=this;this.data.$content.delegate("td","click",function(){var i=Number(this.innerText),n=t(this);n.hasClass(r.preMonth)?"static"===e.option.position?e.renderPreMonth(i):e.setPreMonth(i):n.hasClass(r.nextMonth)?"static"===e.option.position?e.renderNextMonth(i):e.setNextMonth(i):(e.data.value.setDate(i),e.data.$table.find("."+r.active).removeClass(r.active),n.addClass(r.active)),e.confirm()})},n.prototype.renderTime=function(){this.data.format=this.option.format||"hh:mm:ss","string"==typeof this.data.value&&this.data.value?this.data.value=Date.prototype.parseDateTime(this.data.value,this.data.format):"number"==typeof this.data.value?this.data.value=new Date(this.data.value):this.data.value instanceof Date||(this.data.value=new Date),this.data.$date=t(a.date),this.data.$time=t(a.time),this.data.$hour=this.data.$time.find("."+r.hour),this.data.$minute=this.data.$time.find("."+r.minute),this.data.$second=this.data.$time.find("."+r.second),this.data.$content=this.data.$date.find("."+r.content),this.data.$header=this.data.$date.find("."+r.header),this.data.$footer=this.data.$date.find("."+r.footer),this.data.$result=this.data.$date.find("."+r.result),this.data.$content.append(this.data.$time),this.data.$date.addClass("date-layer"+d).addClass(r.showTime),this.renderTimeList(),this.bindTimeListEvent()},n.prototype.renderTimeList=function(){for(var e=this,t=this.data.value.getHours(),n=this.data.value.getMinutes(),a=this.data.value.getSeconds(),s="",o=0;o<24;o++)s+="<li "+(o===t?'class="'+r.active+'"':"")+">"+o+"</li>";this.data.$hour.append(s),s="";for(var o=0;o<60;o++)s+="<li "+(o===n?'class="'+r.active+'"':"")+">"+o+"</li>";this.data.$minute.append(s),s="";for(var o=0;o<60;o++)s+="<li "+(o===a?'class="'+r.active+'"':"")+">"+o+"</li>";this.data.$second.append(s),i.nextFrame(function(){e.data.$hour[0].scrollTop=30*t-75,e.data.$minute[0].scrollTop=30*n-75,e.data.$second[0].scrollTop=30*a-75}),this.setResult()},n.prototype.bindTimeListEvent=function(){var e=this;this.data.$hour.delegate("li","click",function(){var i=Number(this.innerText);e.data.value.setHours(i),e.data.$hour.find("."+r.active).removeClass(r.active),t(this).addClass(r.active),e.setResult()}),this.data.$minute.delegate("li","click",function(){var i=Number(this.innerText);e.data.value.setMinutes(i),e.data.$minute.find("."+r.active).removeClass(r.active),t(this).addClass(r.active),e.setResult()}),this.data.$second.delegate("li","click",function(){var i=Number(this.innerText);e.data.value.setSeconds(i),e.data.$second.find("."+r.active).removeClass(r.active),t(this).addClass(r.active),e.setResult()})},n.prototype.renderYear=function(){this.data.format=this.option.format||"yyyy","string"==typeof this.data.value&&this.data.value?this.data.value=Date.prototype.parseDateTime(this.data.value,this.data.format):"number"==typeof this.data.value?this.data.value=new Date(this.data.value):this.data.value instanceof Date||(this.data.value=new Date),this.data.$date=t(a.date),this.data.$year=t(a.year),this.data.$yearList=this.data.$year.children("ul"),this.data.$content=this.data.$date.find("."+r.content),this.data.$header=this.data.$date.find("."+r.header),this.data.$footer=this.data.$date.find("."+r.footer),this.data.$result=this.data.$date.find("."+r.result),this.data.$content.append(this.data.$year),this.data.$date.addClass("date-layer"+d).addClass(r.showYear),this.renderYearList(),this.bindYearListEvent()},n.prototype.renderYearList=function(){for(var e=this.data.value.getFullYear(),t="",i=e-7,n=e+7,a=i;a<=n;a++)t+='<li data-year="'+a+'" '+(a===e?'class="'+r.active+'"':"")+">"+a+"年</li>";this.setHeader(),this.data.$yearList.html(t),this.setResult()},n.prototype.bindYearListEvent=function(){var e=this;this.data.$yearList.delegate("li","click",function(){var i=t(this),n=Number(i.attr("data-year"));e.data.value.setFullYear(n),e.data.$yearList.find("."+r.active).removeClass(r.active),i.addClass(r.active),e.confirm()})},n.prototype.renderMonth=function(){this.data.format=this.option.format||("yearmonth"===this.data.type?"yyyy-MM":"MM"),"string"==typeof this.data.value&&this.data.value?this.data.value=Date.prototype.parseDateTime(this.data.value,this.data.format):"number"==typeof this.data.value?this.data.value=new Date(this.data.value):this.data.value instanceof Date||(this.data.value=new Date),this.data.$date=t(a.date),this.data.$month=t(a.month),this.data.$monthList=this.data.$month.children("ul"),this.data.$content=this.data.$date.find("."+r.content),this.data.$header=this.data.$date.find("."+r.header),this.data.$footer=this.data.$date.find("."+r.footer),this.data.$result=this.data.$date.find("."+r.result),this.data.$content.append(this.data.$month),this.data.$date.addClass("date-layer"+d).addClass("yearmonth"===this.data.type?r.showYearMonth:r.showMonth),this.renderMonthList(),this.bindMonthListEvent()},n.prototype.renderMonthList=function(){for(var e=this.data.value.getMonth(),t="",i=0;i<12;i++)t+='<li data-month="'+i+'" '+(i===e?'class="'+r.active+'"':"")+">"+h[i]+"月</li>";this.setHeader(),this.data.$monthList.html(t),this.setResult()},n.prototype.bindMonthListEvent=function(){var e=this;this.data.$monthList.delegate("li","click",function(){var i=t(this),n=Number(i.attr("data-month"));e.data.value.setMonth(n),e.data.$monthList.find("."+r.active).removeClass(r.active),i.addClass(r.active),e.confirm()})},n.prototype.renderRange=function(){this.data.$date=t(a.dateRange),this.data.$content=this.data.$date.find("."+r.rangeContent),this.data.$footer=this.data.$date.find("."+r.rangeFooter),this.data.$result=this.data.$date.find("."+r.rangeResult),this.data.$date.addClass("date-layer"+d),this.data.childs=[new n({elem:this.data.$content,type:this.data.originType,value:this.data.value[0],position:"static"}),new n({elem:this.data.$content,type:this.data.originType,value:this.data.value[1],position:"static"})],this.data.childs[0].data.parent=this,this.data.childs[1].data.parent=this,this.setResult(),"datetime"===this.data.type&&(this.data.$childBtn=t(a.rangeChildBtn).text("选择时间"),this.data.$childBtn.insertBefore(this.data.$result))},n.prototype.setPosition=function(){if(this.$elem.length){var e=this.$elem.offset();if(this.data.$date.css({top:e.top+this.$elem[0].offsetHeight+5,left:e.left}),s<=6){var t=l.scrollTop||o.scrollTop||0,i=l.scrollLeft||o.scrollLeft||0;this.data.$date.css({marginTop:t,marginLeft:i})}}},n.prototype.setHeader=function(){var e=this.data.value.getFullYear(),t=this.data.value.getMonth()+1,i=this.data.$header.children("."+r.headerCenter);i.find("."+r.year).text(e+"年"),i.find("."+r.month).text(t+"月"),i.children("."+r.yearRange).text(e-7+"年 - "+(e+7)+"年")},n.prototype.setResult=function(){var e="";this.data.$result&&(this.option.range?(this.data.value=[this.data.childs[0].data.value,this.data.childs[1].data.value],e=this.data.value[0].formatTime(this.data.childs[0].data.format)+" - "+this.data.value[1].formatTime(this.data.childs[0].data.format),this.data.value[0]>this.data.value[1]?this.data.$footer.find("."+r.rangeConfirm).addClass(r.disabled):this.data.$footer.find("."+r.rangeConfirm).removeClass(r.disabled)):e=this.data.value.formatTime(this.data.format),this.data.$result.text(e)),this.data.parent&&!this.data.parent.data.parent&&this.data.parent.setResult()},n.prototype.showType=function(){var e=this.data.$date[0].className;switch(e=e.replace(" "+r.showYearMonth,"").replace(" "+r.showMonth,"").replace(" "+r.showYear,"").replace(" "+r.showDate,"").replace(" "+r.showTime,""),this.data.type){case"year":e+=" "+r.showYear;break;case"month":e+=" "+r.showMonth;break;case"yearmonth":e+=" "+r.showYearMonth;break;case"date":case"datetime":e+=" "+r.showDate;break;case"time":e+=" "+r.showTime}this.data.$date[0].className=e},n.prototype.getMonthDays=function(e,t){var i=null;return 11==t?(e+=1,t=0):t+=1,i=new Date(e,t,1)-1e3,new Date(i).getDate()},n.prototype.bindHeaderEvent=function(){var e=this;this.data.$header.delegate("."+r.preMonthBtn,"click",function(){e.renderPreMonth()}),this.data.$header.delegate("."+r.nextMonthBtn,"click",function(){e.renderNextMonth()}),this.data.$header.delegate("."+r.preYearBtn,"click",function(){e.renderPrevYear()}),this.data.$header.delegate("."+r.nextYearBtn,"click",function(){e.renderNextYear()}),this.data.$header.delegate("."+r.year,"click",function(){e.renderChild("year")}),this.data.$header.delegate("."+r.month,"click",function(){e.renderChild("yearmonth")})},n.prototype.bindFooterEvent=function(){var e=this;this.data.$footer.delegate("."+r.child,"click",function(){switch(e.data.originType){case"datetime":e.renderChild("time")}}),this.data.$footer.delegate("."+r.empty,"click",function(){e.empty()}),this.data.$footer.delegate("."+r.now,"click",function(){e.now()}),this.data.$footer.delegate("."+r.confirm,"click",function(){e.confirm(!0)}),this.data.$footer.delegate("."+r.rangeChild,"click",function(){switch(e.data.originType){case"datetime":e.data.childs[0].renderChild("time"),e.data.childs[1].renderChild("time")}}),this.data.$footer.delegate("."+r.rangeEmpty,"click",function(){e.emptyRange()}),this.data.$footer.delegate("."+r.rangeConfirm,"click",function(){e.confirmRange(!0)})},n.prototype.renderPreMonth=function(e){switch(this.setPreMonth(e),this.data.type){case"date":case"datetime":this.renderDateTable()}},n.prototype.setPreMonth=function(e){var t=this.data.value.getFullYear(),i=this.data.value.getMonth(),n=this.data.value.getDate();0==i?(i=11,t-=1):i-=1;var a=this.getMonthDays(t,i);a<n&&this.data.value.setDate(a),this.data.value.setMonth(i),this.data.value.setFullYear(t),e&&this.data.value.setDate(e)},n.prototype.renderNextMonth=function(e){switch(this.setNextMonth(e),this.data.type){case"date":case"datetime":this.renderDateTable()}},n.prototype.setNextMonth=function(e){var t=this.data.value.getFullYear(),i=this.data.value.getMonth(),n=this.data.value.getDate();11==i?(i=0,t+=1):i+=1;var a=this.getMonthDays(t,i);a<n&&this.data.value.setDate(a),this.data.value.setMonth(i),this.data.value.setFullYear(t),e&&this.data.value.setDate(e)},n.prototype.renderPrevYear=function(){var e=this.data.value.getFullYear();switch(this.data.value.setFullYear(e-1),this.data.type){case"year":this.renderYearList();break;case"yearmonth":this.renderMonthList();break;case"date":case"datetime":this.renderDateTable()}},n.prototype.renderNextYear=function(){var e=this.data.value.getFullYear();switch(this.data.value.setFullYear(e+1),this.data.type){case"year":this.renderYearList();break;case"yearmonth":this.renderMonthList();break;case"date":case"datetime":this.renderDateTable()}},n.prototype.renderChild=function(e){switch(e){case"year":this.renderYearChild();break;case"yearmonth":this.renderMonthChild();break;case"time":this.renderTimeChild()}},n.prototype.renderYearChild=function(){this.data.type="year",this.data.$year||(this.data.$year=t(a.year),this.data.$yearList=this.data.$year.children("ul"),this.data.$content.append(this.data.$year),this.renderYearList(),this.bindYearListEvent()),this.showType()},n.prototype.renderMonthChild=function(){this.data.type="yearmonth",this.data.$month||(this.data.$month=t(a.month),this.data.$monthList=this.data.$month.children("ul"),this.data.$content.append(this.data.$month),this.renderMonthList(),this.bindMonthListEvent()),this.showType()},n.prototype.renderTimeChild=function(){var e=this.data.type;this.data.type="time",this.data.$time||(this.data.$time=t(a.time),this.data.$hour=this.data.$time.find("."+r.hour),this.data.$minute=this.data.$time.find("."+r.minute),this.data.$second=this.data.$time.find("."+r.second),this.data.$content.append(this.data.$time),this.renderTimeList(),this.bindTimeListEvent()),this.data.type!=e?this.data.$childBtn&&this.data.$childBtn.text("返回日期"):(this.data.$childBtn&&this.data.$childBtn.text("选择时间"),this.data.type=this.data.originType),this.showType()},n.prototype.cancel=function(){"position"!=this.option.position&&(this.data&&this.data.$date&&this.data.$date.remove(),this.data=null)},n.prototype.empty=function(){"position"!=this.option.position&&this.$elem.val(""),this.cancel()},n.prototype.now=function(){this.data.value=new Date,this.confirm(!0)},n.prototype.confirm=function(e){var t=this.data.value.formatTime(this.data.format);!e&&this.data.type!==this.data.originType||this.data.parent?(this.data.type=this.data.originType,this.showType(),this.setResult()):("static"!==this.option.position&&(this.$elem.val(t),this.data.$date.remove()),"function"==typeof this.option.change&&this.option.change(this.data.value,t)),this.setHeader()},n.prototype.emptyRange=function(){"position"!=this.option.position&&this.$elem.val(""),this.cancel()},n.prototype.confirmRange=function(){var e=[this.data.value[0].formatTime(this.data.childs[0].data.format),this.data.value[1].formatTime(this.data.childs[1].data.format)];if(this.data.value[0]>this.data.value[1])return void i.showMsg("开始时间不能大于结束时间",{container:this.data.$date});"static"!==this.option.position&&(1==this.$elem.length?this.$elem.val(e.join(this.data.split)):(t(this.$elem[0]).val(e[0]),t(this.$elem[1]).val(e[1])),this.data.$date.remove()),"function"==typeof this.option.change&&this.option.change(this.data.value,e)},u}"function"==typeof define&&define.amd?define("modules/date",["./jquery","./common"],function(e,i){return t(e,i)}):(e.JyUi=e.JyUi||{},e.JyUi.Date=t(e.$,e.JyUi.Common))}(window),function(e){function t(t,i){function n(n){n.type=n.type||"dialog",n.close=!1!==n.close,n.shadow=!1!==n.shadow,n.move=!1!==n.move,n.full=!1!==n.full,n.animation=!1!==n.animation?n.animation||"stretch":"";var a=++_,r=t(n.container||k),s=t('<div class="'+[C.shadow,C.layer+a].join(" ")+'" style="z-index:'+(a+99)+'"></div>'),o=t('<div class="'+[C.layer,C.layer+"-"+n.type,C.layer+a].join(" ")+'" jy-index="'+a+'" style="z-index:'+(a+100)+'"></div>'),d=t("<div "+(n.move?'onselectstart="return false;"':"")+' class="'+C.title+'">                    <span>'+n.title+'</span>                    <div class="jy-layer-op">                        <i class="jy-op-minus jy-icon">'+b+'</i>                        <i class="jy-op-full jy-icon">'+m+'</i>                        <i class="jy-op-recovery jy-icon">'+g+'</i>                        <i class="jy-op-close jy-icon">'+u+"</i>                    </div>                </div>"),$=t('<div class="'+C.body+'"><div></div></div>'),M=t('<div class="'+C.footer+'"></div>');if("object"==typeof n.content?$.append(t(n.content).show()):$.append(n.content),D[a]={option:n},d.find("i.jy-icon").hide(),n.animation&&"msg"!=n.type&&"loading"!=n.type){var E="jy-layer-animation-"+n.animation;o.addClass(E),setTimeout(function(){o.removeClass(E)},T>=9?300:0)}if(n.full&&(d.find("i.jy-op-minus").show(),d.find("i.jy-op-full").show()),n.close&&d.find("i.jy-op-close").show(),(n.shadow||n.mask)&&(r.append(s),n.mask&&s.css("background-color","#fff")),n.move&&d.css("cursor","move"),n.btn){for(var A="",B=0;B<n.btn.length;B++)A+='<button class="jy-btn'+(B>0?" jy-btn-primary":"")+("dialog"!=n.type?" jy-btn-sm":"")+'">'+n.btn[B]+"</button>";M.append(A)}if(!1!==n.title&&o.append(d),o.append($),n.btn&&o.append(M),r[0]!=k&&(s.addClass("jy-layer-absolute"),o.addClass("jy-layer-absolute")),n.icon){var H="",L="";switch(n.icon){case"success":H=p,L="jy-color-success"
;break;case"warn":H=f,L="jy-color-warn";break;case"error":H=y,L="jy-color-danger";break;case"question":H=v,L="jy-color-warn"}$.prepend('<i class="jy-layer-icon '+L+'">'+H+"</i>").css({paddingLeft:"55px",paddingTop:"20px",paddingBottom:"20px"}),"msg"==n.type&&o.removeClass(C.msg).addClass(C.iconMsg)}return n.duration&&setTimeout(function(){l(a)},n.duration),r.append(o),h(a,{width:n.width,height:n.height}),c(a,n.offset||"center"),function(){o.children(".jy-layer-title").on("click",function(){var e=++_+100;t(this).css("z-index",e)}),d.find("i.jy-op-close").on("click",function(){return l(a),!1}),n.full&&(d.find("i.jy-op-full").on("click",function(){t(this).hide(),d.find("i.jy-op-minus").hide(),d.find("i.jy-op-recovery").show(),D[a].area={width:T<=6?o.outerWidth():o.width(),height:T<=6?o.outerHeight():o.height()};var e={width:j.clientWidth||k.clientWidth,height:j.clientHeight||k.clientHeight};return h(a,e),c(a,n.offset||"center"),!1}),d.find("i.jy-op-recovery").on("click",function(){return t(this).hide(),d.find("i.jy-op-minus").show(),d.find("i.jy-op-full").show(),$.show(),M.show(),h(a,D[a].area),c(a,n.offset||"center"),!1}),d.find("i.jy-op-minus").on("click",function(){var e=t("div."+C.layer),i=o.find("div."+C.body).outerHeight()||0,n=o.find("div."+C.footer).outerHeight()||0,r=j.clientHeight||k.clientHeight;t(this).hide(),d.find("i.jy-op-full").hide(),d.find("i.jy-op-recovery").show(),D[a].area={width:T<=6?o.outerWidth():o.width(),height:T<=6?o.outerHeight():o.height()};var s={width:x,height:(T<=6?o.outerHeight():o.height())-i-n},l=0,u=[];e.each(function(e,t){t!=o[0]&&u.push(t.offsetLeft)}),u.sort(function(e,t){return e-t});for(var p=0;p<u.length;p++){if(p*x!=u[p]){l=p*x;break}l=(p+1)*x}return $.hide(),M.hide(),h(a,s),c(a,{left:l,top:r-d.outerHeight()}),!1})),n.move&&(d.on("mousedown",function(e){var t=i.getRect(o[0]),n=t.marginTop,a=t.marginLeft;d[0].startX=e.pageX,d[0].startY=e.pageY,d[0].startTop=T<=6?o[0].offsetTop-n:o[0].offsetTop,d[0].startLeft=T<=6?o[0].offsetLeft-a:o[0].offsetLeft}),t(k).on("mousemove",function(e){if(d[0].startX){var t=e.pageX-d[0].startX,i=e.pageY-d[0].startY;o.css({left:d[0].startLeft+t,top:d[0].startTop+i})}}).on("mouseup",function(){d[0].startX=0,d[0].startY=0})),M.find("button.jy-btn").each(function(e){var i=t(this);!function(e){i.on("click",function(){return 0==e?"function"==typeof n.yes?n.yes(o,a):"function"==typeof n["btn"+e]&&n["btn"+e](o,a):1==e&&"function"==typeof n.cancel?n.cancel(o,a):"function"==typeof n["btn"+e]&&n["btn"+e](o,a),!1})}(e)}),T<=6&&!w&&(w=!0,t(e).on("scroll",function(){var e=j.scrollTop||k.scrollTop||0,i=j.scrollLeft||k.scrollLeft||0;t(k).children("div."+C.layer).each(function(n,a){var r=t(a);r.children("div."+C.title)[0].startX||(a.offsetLeft+a.offsetWidth<k.scrollWidth&&r.css({marginLeft:i}),a.offsetTop+a.offsetHeight<k.scrollHeight&&r.css({marginTop:e}))})}))}(),"function"==typeof n.success&&n.success(o,a),a}function a(e,t){var i=function(e,t){l(t)},a={title:"信息",type:"alert",full:!1,content:e,btn:["确定"],yes:i};return t=t&&Object.assign(a,t)||a,n(t)}function r(e,t){var i=function(e,t){l(t)},a={title:"信息",type:"alert",icon:"warn",full:!1,content:e,btn:["确定","取消"],cancel:i};return t=t&&Object.assign(a,t)||a,n(t)}function s(e,t){var i=function(e,t){l(t)},a={title:!1,type:"msg",full:!1,duration:3e3,shadow:!1,content:e,yes:i};return t=t&&Object.assign(a,t)||a,t.tipMore||d("msg"),n(t)}function o(e){var t={title:!1,type:"loading",full:!1},i="";return e=e&&Object.assign(t,e)||t,i=!1!==e.shadow?"#fff":"#999",e.content="<div "+(i?'style="color:'+i+'"':"")+'><div class="'+C.loadingIcon+' jy-icon">'+$+"</div><div>"+(e.content||"")+"</div></div>",n(e)}function l(e){var i=t("div."+C.layer+"."+C.layer+e);i.length&&(t("div."+C.shadow+"."+C.layer+e).remove(),i.addClass("jy-layer-animation-fade-out"),setTimeout(function(){"function"==typeof D[e].option.end&&D[e].option.end(i,e),i.remove()},T>=9?300:0))}function d(e){if(e)switch(e){case"msg":t("div."+C.msg).remove(),t("div."+C.iconMsg).remove();break;case"dialog":t("div."+C.dialog).each(function(e,i){var n=t(i),a=n.attr("jy-index");t("div."+C.layer+a).remove()});break;case"alert":t("div."+C.alert).each(function(e,i){var n=t(i),a=n.attr("jy-index");t("div."+C.layer+a).remove()});break;case"confirm":t("div."+C.confirm).each(function(e,i){var n=t(i),a=n.attr("jy-index");t("div."+C.layer+a).remove()})}else t("div."+C.shadow).remove(),t("div."+C.layer).remove()}function c(e,i){var n=t("div."+C.layer+"."+C.layer+e),a=0,r=0;if(n.length)if("string"==typeof i){var s=n.parent(),o=0,l=0,d=s[0].tagName.toUpperCase();"BODY"==d?(o=j.clientWidth||k.clientWidth,l=j.clientHeight||k.clientHeight):(o=s[0].clientWidth,l=s[0].clientHeight),T<=6&&"BODY"==d&&(a=j.scrollTop||k.scrollTop||0,r=j.scrollLeft||k.scrollLeft||0);var c=n[0].offsetWidth,h=n[0].offsetHeight;switch(i=i.split(" "),i[1]=i[1]||i[0],"top"!=i[0]&&"bottom"!=i[0]||i.reverse(),i[0]){case"left":n.css({left:0,right:"auto",marginLeft:r});break;case"right":n.css({left:"auto",right:0,marginLeft:0});break;case"center":n.css({left:(o-c)/2+"px",right:"auto",marginLeft:r})}switch(i[1]){case"top":n.css({top:0,bottom:"auto",marginTop:a});break;case"center":n.css({top:(l-h)/2+"px",bottom:"auto",marginTop:a});break;case"bottom":n.css({top:"auto",bottom:0,marginTop:0})}}else n.css({left:i.left,top:i.top})}function h(e,n){var a=t("div."+C.layer+"."+C.layer+e),r=a.children("div."+C.body),s=n.width||(T<=6?a[0].offsetWidth:a[0].clientWidth),o=n.height||(T<=6?a[0].offsetHeight:a[0].clientHeight),l=a.find("div."+C.title).outerHeight()||0,d=a.find("div."+C.footer).outerHeight()||0,c=j.clientWidth||k.clientWidth,h=j.clientHeight||k.clientHeight,u=i.getRect(r[0]),p=a.parent()[0];T<=6&&t("div."+C.shadow+"."+C.layer+e).css({width:p.scrollWidth+"px",height:p.scrollHeight+"px"}),s>c&&(s=c),o>h&&(o=h),a.css({width:s+1,height:o+1}),o=o-l-d,r.css({height:(T<=6?o:o-u.paddingTop-u.paddingBottom)+1})}var u="&#xe735;",p="&#xe615;",f="&#xe60a;",y="&#xe60b;",v="&#xe613;",m="&#xe644;",g="&#xe617;",b="&#xe62d;",$="&#xe61e;",x=180,w=!1,k=e.document.body,j=e.document.documentElement,C={layer:"jy-layer",shadow:"jy-layer-shadow",title:"jy-layer-title",footer:"jy-layer-footer",body:"jy-layer-content",dialog:"jy-layer-dialog",alert:"jy-layer-alert",confirm:"jy-layer-confirm",msg:"jy-layer-msg",iconMsg:"jy-layer-msg-with-icon",loading:"jy-layer-loading",loadingIcon:"jy-layer-loading-icon"},T=i.getIeVersion(),D={},_=0;return{open:n,alert:a,confirm:r,msg:s,loading:o,close:l,setPosition:c,setArea:h}}"function"==typeof define&&define.amd?define("modules/dialog",["./jquery","./common"],function(e,i){return t(e,i)}):(e.JyUi=e.JyUi||{},e.JyUi.Dialog=t(e.$,e.JyUi.Common))}(window),function(e){function t(t,i){function n(e){var n=this,a=i.getEvent();this.on=a.on,this.once=a.once,this.trigger=a.trigger,this.option=i.deepAssign({},e),this.$elem=t(this.option.elem),this.type="input"===this.option.type?"input":"select",this.disabled=this.option.disabled,this.valueKey=this.option.valueKey||"value",this.labelKey=this.option.labelKey||("input"===this.type?this.valueKey:"label"),this.placeholder=this.option.placeholder||"请选择",this.defaultOpen=this.option.defaultOpen,this.selectAble=void 0===this.option.selectAble||this.option.selectAble,this.multiselect="select"===this.type&&this.option.multiselect,this.searchEnable=!this.disabled&&("input"==this.type||this.option.search),this.focus=this.option.focus,this.appendTo="body"===this.option.appendTo?"body":"input",this.searchMethod=this.option.searchMethod||function(e,t){var i=[];e?(e=e.toLowerCase(),i=n.data.filter(function(t){var i="";return i=t[n.labelKey]+"",i=i.toLowerCase(),!!(t[n.valueKey]&&i.indexOf(e)>-1)})):i=n.data,t(i)},this.data=this.option.data||[],this.data=this.data.map(function(e){return"object"!=typeof e?{label:e,value:e}:e}),n.selectValue="",n.selectLabel="",this.tags=[],this.render()}var a={select:'<div class="jy-select"></div>',title:'<div class="jy-select-title"><i class="jy-select-suffix">&#xe74b;</i></div>',tags:'<div class="jy-select-tags"></div>',tag:'<div class="jy-select-tag"><%-tag%></div>',input:'<input class="jy-input" />',selectBody:'<div class="jy-select-body">                <div class="jy-select-empty">无匹配数据</div>                <div class="jy-select-loading">加载中...</div>            </div>',selectDl:'<dl class="jy-select-dl"></dl>',checkbox:'<div class="jy-checkbox">                <span class="jy-checkbox-icon"><i>&#xe737;</i></span>                <span><%-label%></span>            </div>'},r={select:"jy-select",suggestion:"jy-suggestion",multi:"jy-multi-select",selectOpen:"jy-select-open",selectBody:"jy-select-body",selectHolder:"jy-color-holder",selectDisabled:"jy-select-disabled",selectActive:"jy-select-active",selectAnimation:"jy-form-animation-hover-down",empty:"jy-select-empty",loading:"jy-select-loading"},s=i.getIeVersion(),o=i.getEvent(),l=e.document.body,d=e.document.documentElement,c=!1;return e.jyUiSelects=e.jyUiSelects||[],n.prototype.render=function(){var i=this;this.$select=t(a.select),this.$title=t(a.title),this.$tags=t(a.tags),this.$input=t(a.input),this.$selectDl=t(a.selectDl),this.$selectBody=t(a.selectBody),this.$title.append(this.$input),this.$title.append(this.$tags),this.$selectBody.append(this.$selectDl),this.$select.append(this.$title),this.$select.append(this.$selectBody),this.$elem.next("."+r.select).remove(),this.$select.insertAfter(this.$elem),this.$elem.hide(),this.select(this.$elem.val()),this.$empty=this.$selectBody.children("."+r.empty),this.$loading=this.$selectBody.children("."+r.loading),"body"===this.appendTo&&(t(l).append(this.$selectBody),this.$selectBody.css("width",this.$title[0].offsetWidth)),"input"===this.type&&(this.$input.val(this.selectValue),this.$select.addClass(r.suggestion)),this.multiselect&&this.$select.addClass(r.multi),this.disabled?this.$select.addClass(r.selectDisabled):(this.searchEnable?this.search(!0):i.renderItem(this.data),this.defaultOpen||this.$selectBody.hide(),this.bindEvent()),this.searchEnable||this.$input.attr("readonly",!0),this.focus&&setTimeout(function(){i.$input.trigger("focus")},100),e.jyUiSelects.push(this)},n.prototype.renderItem=function(e){var t=this,n="",s=[];this.renderedData=e,e.map(function(e){var o=[],l=e[t.labelKey]||"",d=e[t.valueKey]||"",c="";if(e[t.labelKey]=l,e[t.valueKey]=d,"input"===t.type&&(l=d),t.multiselect){if(e.selected)o.push(r.selectActive),e.selected=!1,s.push(e);else for(var h=0;h<t.tags.length;h++)if(t.tags[h][t.valueKey]==d){o.push(r.selectActive);break}}else e.selected?(e.selected=!1,t.selectValue=d,t.selectLabel=l,o.push(r.selectActive)):d==t.selectValue&&o.push(r.selectActive);d||(t.placeholder=l||t.placeholder,o.push(r.selectHolder)),c=l||t.placeholder,t.multiselect&&(c=i.htmlTemplate(a.checkbox,{label:c})),n+='<dd class="'+o.join(" ")+'" data-value="'+d+'">'+c+"</dd>"}),this.$selectDl.html(n),this.setPosition(),this.multiselect&&s.length&&(this.tags=s,this.renderTags()),"input"===this.type?e.length?this.$selectBody.css("visibility","visible"):this.$selectBody.css("visibility","hidden"):(e.length?this.$empty.hide():this.$empty.show(),this.$input.attr("placeholder",this.placeholder))},n.prototype.renderTags=function(){var e=this;this.$tags.empty(),this.tags.map(function(t){e.$tags.append('<div class="jy-select-tag">'+t[e.labelKey]+"</div>")})},n.prototype.setPosition=function(){var e=this.$title[0].getBoundingClientRect(),t=d.clientHeight||l.clientHeight,i=this.$selectBody[0].offsetHeight,n=this.$title[0].offsetHeight;if(e.bottom+5+i>t&&e.top-5-i>0)if("body"===this.appendTo){var a=this.$title.offset();this.$selectBody.css({top:a.top-i-10,left:a.left})}else this.$selectBody.css("top",-i-10);else if("body"===this.appendTo){var a=this.$title.offset();this.$selectBody.css({top:a.top+n,left:a.left})}else this.$selectBody.css("top","100%");if("body"===this.appendTo&&s<=6){var r=d.scrollTop||l.scrollTop||0,o=d.scrollLeft||l.scrollLeft||0;this.$selectBody.css({marginTop:r,marginLeft:o})}var e=this.$title[0].getBoundingClientRect()},n.prototype.select=function(e){function t(e){var t=e[i.valueKey]||"";if(i.multiselect?i.$selectDl.children('dd[data-value="'+t+'"]').toggleClass(r.selectActive):(i.selectValue=t,i.selectLabel=e[i.labelKey]||"",i.$selectDl.children("dd."+r.selectActive).removeClass(r.selectActive),i.$selectDl.children('dd[data-value="'+t+'"]').addClass(r.selectActive)),"input"===i.type)i.$input.val(e[i.valueKey]||""),i.$elem.val(e[i.valueKey]||"");else if(i.multiselect){for(var n=-1,a=null,s=0;s<i.tags.length;s++)if(i.tags[s][i.valueKey]==t){n=s;break}-1==n?i.tags.push(e):i.tags.splice(n,1),a=i.tags.map(function(e){return e[i.valueKey]}),i.$elem.val(a.join(",")),i.renderTags()}else i.$elem.val(t),i.$input.val(t&&e[i.labelKey]||"")}var i=this,n=!1;e=e||"",this.selectAble&&(this.data.map(function(a){a[i.valueKey]==e&&(t(a),n=!0)}),!n&&this.renderedData&&this.renderedData.map(function(n){n[i.valueKey]==e&&t(n)}))},n.prototype.search=function(e){function t(){n.$empty.hide(),n.$selectDl.empty(),"input"===n.type?n.$selectBody.css("visibility","hidden"):n.$loading.show(),n.searchMethod(i,function(e){e=e||[],n.renderItem(e),n.$loading.hide()})}var i=this.$input.val(),n=this;clearTimeout(this.timer),e?t():this.timer=setTimeout(function(){t()},100)},n.prototype.hideOther=function(t){var i=this;e.jyUiSelects.map(function(e){(t||e!=i)&&e.$selectBody.is(":visible")&&(e.$title.trigger("blur"),e.$selectBody.hide())})},n.prototype.bindEvent=function(){var e=this,i=this.$select,n=this.$selectBody,a=this.$input;"input"===this.type?this.$input.on("focus",function(){n.show(),i.addClass(r.selectOpen),e.hideOther(),e.setPosition()}):this.$title.on("click",function(){if(!i.prop("disabled"))return n.is(":visible")?e.$title.trigger("blur"):(e.hideOther(),i.addClass(r.selectOpen),n.show().addClass(r.selectAnimation),e.setPosition(),e.multiselect&&(e.$input.show().focus(),e.$tags.hide())),!1}),this.$title.on("blur",function(){"input"!==e.type&&(e.multiselect?(e.$input.hide(),e.$tags.show()):e.$input.val(e.selectLabel)),n.hide().removeClass(r.selectAnimation),i.removeClass(r.selectOpen),e.searchEnable&&e.search(),setTimeout(function(){e.$input.blur()},50)}),n.delegate("dd","click",function(){var a=t(this),s=a.attr("data-value"),o=e.$elem.attr("jy-filter")||"";return e.select(s),e.multiselect||(n.hide(),i.removeClass(r.selectOpen),e.searchEnable&&e.search()),o&&e.trigger("select("+o+")",{data:s,dom:i[0]}),e.trigger("select",{data:s,dom:i[0]}),!1}),i.on("click",function(){return!1}),e.searchEnable&&a.on("input propertychange",function(){"input"===e.type&&e.$elem.val(this.value),e.search()}),c||(t(l).on("click",function(t){e.hideOther(!0)}),c=!0)},{on:o.on,once:o.once,trigger:o.trigger,render:function(e){var t=new n(e);return{on:t.on,once:t.once,trigger:t.trigger,select:t.select.bind(t)}}}}"function"==typeof define&&define.amd?define("modules/select",["./jquery","./common"],function(e,i){return t(e,i)}):(e.JyUi=e.JyUi||{},e.JyUi.Select=t(e.$,e.JyUi.Common))}(window),function(e){function t(t,i,n,a){function r(){var e=i.getEvent();this.on=e.on,this.once=e.once,this.trigger=e.trigger}var s=e.document.body,o={switchClass:"jy-switch",switchDisabled:"jy-switch-disabled",switchChecked:"jy-switch-checked",radio:"jy-radio",radioDisabled:"jy-radio-disabled",radioChecked:"jy-radio-checked",checkbox:"jy-checkbox",checkboxDisabled:"jy-checkbox-disabled",checkboxCheckd:"jy-checkbox-checked",checkboxCheckedDisabled:"jy-checkbox-checked-disabled",select:"jy-select"},l={required:{msg:"必填项不能为空",rule:/[\S]+/},number:{msg:"请输入数字",rule:/^\-?\d+(\.\d*)?$/},int:{msg:"请输入整数",rule:/^\-?\d+$/},date:{msg:"请输入正确的日期",rule:/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/},phone:{msg:"请输入正确的手机号",rule:/^1(3|4|5|6|7|8|9)\d{9}$/},email:{msg:"请输入正确的邮箱",rule:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/},identify:{msg:"请输入正确的身份证",rule:/(^\d{15}$)|(^\d{17}(x|X|\d)$)/i},url:{rule:/^(#|(http(s?)):\/\/|\/\/)[^\s]+\.[^\s]+$/,msg:"请输入正确的链接"}},d={"max-250":{msg:"最多输入250个字符",verify:function(e){return!(e&&e.length>250)}}};r.prototype.init=function(){var e=this;t(s).delegate('button[type="submit"]',"click",function(){var i=t(this).parents("form"),n=t(this).attr("jy-filter");if(i.length&e.verify(i)){var a=e.getJsonFromForm(i);n&&e.trigger("submit("+n+")",a),e.trigger("submit",a)}})},r.prototype.addRule=function(e){"object"==typeof e&&Object(d,e)},r.prototype.verify=function(e,i){var n=this,a=t(e||"form"),r=!0,s="";return a.find("input,textarea,select").each(function(e,i){var a=i.tagName.toLowerCase();if("text"==i.type||"password"==i.type||"textarea"==a||"select"==a){var c=t(i),h=c.attr("jy-verify")||"",u=c.val()||"";h=h.split("|");for(var e=0;e<h.length;e++){var p=d[h[e]]||l[h[e]];r&&p&&(r=p.verify?p.verify(u):p.rule.test(u),r?"select"==a?c.next("."+o.select).children(".jy-select-title").removeClass("jy-border-danger"):c.removeClass("jy-border-danger"):(n.showMsg(p.msg),s=p.msg,"select"==a?c.next("."+o.select).children(".jy-select-title").addClass("jy-border-danger"):c.addClass("jy-border-danger")))}}}),i&&i(r,s),r},r.prototype.getJsonFromForm=function(e){var i=t(e),n={};return i.find("input").each(function(e,i){var a=t(i),r=a.attr("name"),s=a.val(),o=a.attr("jy-skin");"text"==i.type||"hidden"==i.type||"password"==i.type?r&&(n[r]=s):"radio"==i.type?n[r]||(n[r]="",a.prop("checked")&&r&&(n[r]=s)):"checkbox"==i.type&&("switch"===o?n[r]=a.prop("checked"):(n[r]=n[r]||[],a.prop("checked")&&r&&n[r].push(s)))}),i.find("select").each(function(e,i){var a=t(i),r=a.attr("name"),s=a.val();r&&(n[r]=s)}),i.find("textarea").each(function(e,i){var a=t(i),r=a.attr("name"),s=a.val();r&&(n[r]=s)}),n},r.prototype.setData=function(e,i){var n=t(e);n.find("input,textarea,select").each(function(e,n){var a=t(n),r=n.name,s=i[r],o=n.tagName.toLowerCase();if(void 0===s||null===s)return!0;if(s+="","select"===o)a.val(s).find("option:selected").attr("selected",!0);else if("textarea"===o)a.val(s).html(s);else if("input"===o)switch(n.type){case"checkbox":s instanceof Array&&s.indexOf(n.value)>-1||n.value==s?(n.checked=!0,a.attr("checked","checked"),a.prop("checked",!0)):(a.removeAttr("checked"),a.prop("checked",!1));break;case"radio":n.value==s?(a.attr("checked","checked"),a.prop("checked",!0)):(a.removeAttr("checked"),a.prop("checked",!1));break;default:a.attr("value",s),a.val(s)}}),h.render("",n)},r.prototype.empty=function(e){var i=t(e);i.find("input,textarea,select").each(function(e,i){var n=t(i),a=i.tagName.toLowerCase();if("select"===a)n.val("").find("option:selected").removeAttr("selected");else if("textarea"===a)n.val("").html("");else if("input"===a)switch(i.type){case"checkbox":case"radio":n.removeAttr("checked"),n.prop("checked",!1);break;default:n.removeAttr("value"),n.val("")}}),h.render("",i)},r.prototype.render=function(e,t,i){var n="";if(e){var a=/^(.+?)(?:\((.+)\))?$/;e=e&&e.toLowerCase()||"",a=a.exec(e),n=a&&a[1]||"",e=a&&a[2]||""}switch(n){case"switch":this.renderSwitch(e,t,i);break;case"radiao":this.renderRadio(e,t,i);break;case"checkbox":this.renderCheckbox(e,t,i);break;case"select":this.renderSelect(e,t);break;default:this.renderSwitch("",t,i),this.renderRadio("",t,i),this.renderCheckbox("",t,i),this.renderSelect("",t)}},r.prototype.renderSwitch=function(e,i,n){var a=this,r=t(i||s),l='input[type="checkbox"][jy-skin="switch"]'+(e?'[jy-filter="'+e+'"]':"");r.is(l)?inputs=r:inputs=r.find(l),inputs.each(function(e,i){var s=t(i),l=void 0!==s.attr("jy-ignore"),d=[o.switchClass],c="OFF",h=s.next("."+o.switchClass);if(l)return void h.remove();if(s.prop("disabled")&&d.push(o.switchDisabled),s.prop("checked")&&(d.push(o.switchChecked),c="ON"),h.length){if(!n)return h.attr("class",d.join(" ")),void h.children("span").html(c);h.remove()}var u=t('<div class="'+d.join(" ")+'">                        <i></i>                        <span>'+c+"</span>                    </div>");u.insertAfter(i),s.hide(),a.bindSwitchEvent(u,r)})},r.prototype.bindSwitchEvent=function(e,i){var n=this;container=i[0]!==s&&i[0],e.on("click",function(){var e=t(this),i=e.prev("input"),a=i.attr("jy-filter"),r=i.prop("checked");i.prop("disabled")||(i.prop("checked",!r),e.toggleClass(o.switchChecked),e.find("span").html(r?"OFF":"ON"),a&&n.trigger("switch("+a+")",{data:i.prop("checked"),dom:i[0]}),n.trigger("switch",{data:i.prop("checked"),dom:i[0]}))})},r.prototype.renderRadio=function(e,i,n){var a=this,r=t(i||s),l='input[type="radio"]'+(e?'[jy-filter="'+e+'"]':"");r.is(l)?inputs=r:inputs=r.find(l),inputs.each(function(e,i){var s=t(i),l=void 0!==s.attr("jy-ignore"),d=[o.radio],c=s.next("."+o.radio);if(l)return void c.remove();if(s.prop("disabled")&&d.push(o.radioDisabled),s.prop("checked")&&d.push(o.radioChecked),c.length){if(!n)return void c.attr("class",d.join(" "));c.remove()}var h='<div class="'+d.join(" ")+'">                        <i class="jy-radio-icon-checked">&#xe61c;</i>                        <i class="jy-radio-icon-uncheck">&#xe619;</i>                        <span>'+(s.attr("title")||"&nbsp;")+"</span>                    </div>",u=t(h);u.insertAfter(i),s.hide(),r[0].radios=r[0].radios||[],r[0].radios.push(i),inputs!=r&&a.bindRadioEvent(u,r)})},r.prototype.bindRadioEvent=function(e,i){var n=this;container=i[0]!==s&&i[0],e.on("click",function(){var e=t(this),a=e.prev("input"),r=a.attr("name"),s=a.attr("jy-filter");a.prop("disabled")||(i[0].radios.map(function(e){var i=t(e);i.attr("name")==r&&i.attr("jy-filter")==s&&i.next("."+o.radio).removeClass(o.radioChecked)}),e.addClass(o.radioChecked),a.prop("checked",!0),s&&n.trigger("radio("+s+")",{data:a.val(),dom:a[0]}),n.trigger("radio",{data:a.val(),dom:a[0]}))})},r.prototype.renderCheckbox=function(e,i,n){var a=this,r=t(i||s),l='input[type="checkbox"][jy-skin!="switch"]'+(e?'[jy-filter="'+e+'"]':"");r.is(l)?inputs=r:inputs=r.find(l),inputs.each(function(e,i){var s=t(i),l=void 0!==s.attr("jy-ignore"),d=[o.checkbox],c=s.prop("disabled"),h=s.prop("checked"),u=s.next("."+o.checkbox);if(l)return void u.remove();if(h&&c?d.push(o.checkboxCheckedDisabled):(c&&d.push(o.checkboxDisabled),h&&d.push(o.checkboxCheckd)),u.length)return void(n?u.remove():u.attr("class",d.join(" ")));var p=t('<div class="'+d.join(" ")+'">                        <span class="jy-checkbox-icon"><i>&#xe737;</i></span>                        <span>'+(s.attr("title")||"&nbsp;")+"</span>                    </div>");p.insertAfter(i),s.hide(),r[0].checkboxs=r[0].checkboxs||[],r[0].checkboxs.push(i),inputs!=r&&a.bindCheckboxEvent(p,r)})},r.prototype.bindCheckboxEvent=function(e,i){var n=this;container=i[0]!==s&&i[0],e.on("click",function(){var e=t(this),a=e.prev("input"),r=a.attr("name"),s=a.attr("jy-filter"),l=a.prop("checked"),d=[];a.prop("disabled")||(e.toggleClass(o.checkboxCheckd),a.prop("checked",!l),i[0].checkboxs.map(function(e){var i=t(e);i.attr("name")==r&&i.attr("jy-filter")==s&&d.push(i.val())}),s&&n.trigger("checkbox("+s+")",{data:d,dom:a[0]}),n.trigger("checkbox",{data:d,dom:a[0]}))})},r.prototype.renderSelect=function(e,i){var a=this,r=t(i||s),o="select"+(e?'[jy-filter="'+e+'"]':"");r.is(o)?selects=r:selects=r.find(o),selects.each(function(e,i){var r=[],s=t(i),o=void 0!==s.attr("jy-ignore"),l=s.prop("disabled"),d=void 0!==s.attr("jy-search"),c=s.attr("placeholder"),h=s.attr("jy-filter"),u=s.attr("jy-append-to");if(!o){s.find("option").each(function(e,i){var n=t(i);r.push({label:n.text(),value:n.attr("value")})});var i=n.render({elem:i,disabled:l,search:d,appendTo:u,placeholder:c,data:r});h&&i.on("select("+h+")",function(e){a.trigger("select("+h+")",e)}),i.on("select",function(e){a.trigger("select",e)})}})},r.prototype.showMsg=function(e){i.showMsg(e,{icon:"danger"})};var c=new r,h={on:c.on,once:c.once,trigger:c.trigger,verifyRules:l,render:c.render.bind(c),addRule:c.addRule.bind(c),verify:c.verify.bind(c),getJsonFromForm:c.getJsonFromForm.bind(c),setData:c.setData.bind(c),empty:c.empty.bind(c)};return t(function(){c.init()}),h}"function"==typeof define&&define.amd?define("modules/form",["./jquery","./common","./select"],function(e,i,n){return t(e,i,n)}):(e.JyUi=e.JyUi||{},e.JyUi.Form=t(e.$,e.JyUi.Common,e.JyUi.Select))}(window),function(e){function t(t,i){function n(e){var n=this,a=i.getEvent();this.on=a.on,this.once=a.once,this.trigger=a.trigger,this.option=i.deepAssign({},e),this.$elem=t(this.option.elem),this.type="input"===this.option.type?"input":"select",this.disabled=this.option.disabled,this.valueKey=this.option.valueKey||"value",this.labelKey=this.option.labelKey||("input"===this.type?this.valueKey:"label"),this.placeholder=this.option.placeholder||"请选择",this.defaultOpen=this.option.defaultOpen,this.selectAble=void 0===this.option.selectAble||this.option.selectAble,this.multiselect="select"===this.type&&this.option.multiselect,this.searchEnable=!this.disabled&&("input"==this.type||this.option.search),this.focus=this.option.focus,this.appendTo="body"===this.option.appendTo?"body":"input",this.searchMethod=this.option.searchMethod||function(e,t){var i=[];e?(e=e.toLowerCase(),i=n.data.filter(function(t){var i="";return i=t[n.labelKey]+"",i=i.toLowerCase(),!!(t[n.valueKey]&&i.indexOf(e)>-1)})):i=n.data,t(i)},this.data=this.option.data||[],this.data=this.data.map(function(e){return"object"!=typeof e?{label:e,value:e}:e}),n.selectValue="",n.selectLabel="",this.tags=[],this.render()}var a={select:'<div class="jy-select"></div>',title:'<div class="jy-select-title"><i class="jy-select-suffix">&#xe74b;</i></div>',tags:'<div class="jy-select-tags"></div>',tag:'<div class="jy-select-tag"><%-tag%></div>',input:'<input class="jy-input" />',selectBody:'<div class="jy-select-body">                <div class="jy-select-empty">无匹配数据</div>                <div class="jy-select-loading">加载中...</div>            </div>',selectDl:'<dl class="jy-select-dl"></dl>',checkbox:'<div class="jy-checkbox">                <span class="jy-checkbox-icon"><i>&#xe737;</i></span>                <span><%-label%></span>            </div>'},r={select:"jy-select",suggestion:"jy-suggestion",multi:"jy-multi-select",selectOpen:"jy-select-open",selectBody:"jy-select-body",selectHolder:"jy-color-holder",selectDisabled:"jy-select-disabled",selectActive:"jy-select-active",selectAnimation:"jy-form-animation-hover-down",empty:"jy-select-empty",loading:"jy-select-loading"},s=i.getIeVersion(),o=i.getEvent(),l=e.document.body,d=e.document.documentElement,c=!1;return e.jyUiSelects=e.jyUiSelects||[],n.prototype.render=function(){var i=this;this.$select=t(a.select),this.$title=t(a.title),this.$tags=t(a.tags),this.$input=t(a.input),this.$selectDl=t(a.selectDl),this.$selectBody=t(a.selectBody),this.$title.append(this.$input),this.$title.append(this.$tags),this.$selectBody.append(this.$selectDl),this.$select.append(this.$title),this.$select.append(this.$selectBody),this.$elem.next("."+r.select).remove(),this.$select.insertAfter(this.$elem),this.$elem.hide(),this.select(this.$elem.val()),this.$empty=this.$selectBody.children("."+r.empty),this.$loading=this.$selectBody.children("."+r.loading),"body"===this.appendTo&&(t(l).append(this.$selectBody),this.$selectBody.css("width",this.$title[0].offsetWidth)),"input"===this.type&&(this.$input.val(this.selectValue),this.$select.addClass(r.suggestion)),this.multiselect&&this.$select.addClass(r.multi),this.disabled?this.$select.addClass(r.selectDisabled):(this.searchEnable?this.search(!0):i.renderItem(this.data),this.defaultOpen||this.$selectBody.hide(),this.bindEvent()),this.searchEnable||this.$input.attr("readonly",!0),this.focus&&setTimeout(function(){i.$input.trigger("focus")},100),e.jyUiSelects.push(this)},n.prototype.renderItem=function(e){var t=this,n="",s=[];this.renderedData=e,e.map(function(e){var o=[],l=e[t.labelKey]||"",d=e[t.valueKey]||"",c="";if(e[t.labelKey]=l,e[t.valueKey]=d,"input"===t.type&&(l=d),t.multiselect){if(e.selected)o.push(r.selectActive),e.selected=!1,s.push(e);else for(var h=0;h<t.tags.length;h++)if(t.tags[h][t.valueKey]==d){o.push(r.selectActive);break}}else e.selected?(e.selected=!1,t.selectValue=d,t.selectLabel=l,o.push(r.selectActive)):d==t.selectValue&&o.push(r.selectActive);d||(t.placeholder=l||t.placeholder,o.push(r.selectHolder)),c=l||t.placeholder,t.multiselect&&(c=i.htmlTemplate(a.checkbox,{label:c})),n+='<dd class="'+o.join(" ")+'" data-value="'+d+'">'+c+"</dd>"}),this.$selectDl.html(n),this.setPosition(),this.multiselect&&s.length&&(this.tags=s,this.renderTags()),"input"===this.type?e.length?this.$selectBody.css("visibility","visible"):this.$selectBody.css("visibility","hidden"):(e.length?this.$empty.hide():this.$empty.show(),this.$input.attr("placeholder",this.placeholder))},n.prototype.renderTags=function(){var e=this;this.$tags.empty(),this.tags.map(function(t){e.$tags.append('<div class="jy-select-tag">'+t[e.labelKey]+"</div>")})},n.prototype.setPosition=function(){var e=this.$title[0].getBoundingClientRect(),t=d.clientHeight||l.clientHeight,i=this.$selectBody[0].offsetHeight,n=this.$title[0].offsetHeight;if(e.bottom+5+i>t&&e.top-5-i>0)if("body"===this.appendTo){var a=this.$title.offset();this.$selectBody.css({top:a.top-i-10,left:a.left})}else this.$selectBody.css("top",-i-10);else if("body"===this.appendTo){var a=this.$title.offset();this.$selectBody.css({top:a.top+n,left:a.left})}else this.$selectBody.css("top","100%");if("body"===this.appendTo&&s<=6){var r=d.scrollTop||l.scrollTop||0,o=d.scrollLeft||l.scrollLeft||0;this.$selectBody.css({marginTop:r,marginLeft:o})}var e=this.$title[0].getBoundingClientRect()},n.prototype.select=function(e){function t(e){var t=e[i.valueKey]||"";if(i.multiselect?i.$selectDl.children('dd[data-value="'+t+'"]').toggleClass(r.selectActive):(i.selectValue=t,i.selectLabel=e[i.labelKey]||"",i.$selectDl.children("dd."+r.selectActive).removeClass(r.selectActive),i.$selectDl.children('dd[data-value="'+t+'"]').addClass(r.selectActive)),"input"===i.type)i.$input.val(e[i.valueKey]||""),i.$elem.val(e[i.valueKey]||"");else if(i.multiselect){for(var n=-1,a=null,s=0;s<i.tags.length;s++)if(i.tags[s][i.valueKey]==t){n=s;break}-1==n?i.tags.push(e):i.tags.splice(n,1),a=i.tags.map(function(e){return e[i.valueKey]}),i.$elem.val(a.join(",")),i.renderTags()}else i.$elem.val(t),i.$input.val(t&&e[i.labelKey]||"")}var i=this,n=!1;e=e||"",this.selectAble&&(this.data.map(function(a){a[i.valueKey]==e&&(t(a),n=!0)}),!n&&this.renderedData&&this.renderedData.map(function(n){n[i.valueKey]==e&&t(n)}))},n.prototype.search=function(e){function t(){n.$empty.hide(),n.$selectDl.empty(),"input"===n.type?n.$selectBody.css("visibility","hidden"):n.$loading.show(),n.searchMethod(i,function(e){e=e||[],n.renderItem(e),n.$loading.hide()})}var i=this.$input.val(),n=this;clearTimeout(this.timer),e?t():this.timer=setTimeout(function(){t()},100)},n.prototype.hideOther=function(t){var i=this;e.jyUiSelects.map(function(e){(t||e!=i)&&e.$selectBody.is(":visible")&&(e.$title.trigger("blur"),e.$selectBody.hide())})},n.prototype.bindEvent=function(){var e=this,i=this.$select,n=this.$selectBody,a=this.$input;"input"===this.type?this.$input.on("focus",function(){n.show(),i.addClass(r.selectOpen),e.hideOther(),e.setPosition()}):this.$title.on("click",function(){if(!i.prop("disabled"))return n.is(":visible")?e.$title.trigger("blur"):(e.hideOther(),i.addClass(r.selectOpen),n.show().addClass(r.selectAnimation),e.setPosition(),e.multiselect&&(e.$input.show().focus(),e.$tags.hide())),!1}),this.$title.on("blur",function(){"input"!==e.type&&(e.multiselect?(e.$input.hide(),e.$tags.show()):e.$input.val(e.selectLabel)),n.hide().removeClass(r.selectAnimation),i.removeClass(r.selectOpen),e.searchEnable&&e.search(),setTimeout(function(){e.$input.blur()},50)}),n.delegate("dd","click",function(){var a=t(this),s=a.attr("data-value"),o=e.$elem.attr("jy-filter")||"";return e.select(s),e.multiselect||(n.hide(),i.removeClass(r.selectOpen),e.searchEnable&&e.search()),o&&e.trigger("select("+o+")",{data:s,dom:i[0]}),e.trigger("select",{data:s,dom:i[0]}),!1}),i.on("click",function(){return!1}),e.searchEnable&&a.on("input propertychange",function(){"input"===e.type&&e.$elem.val(this.value),e.search()
}),c||(t(l).on("click",function(t){e.hideOther(!0)}),c=!0)},{on:o.on,once:o.once,trigger:o.trigger,render:function(e){var t=new n(e);return{on:t.on,once:t.once,trigger:t.trigger,select:t.select.bind(t)}}}}"function"==typeof define&&define.amd?define("modules/Select",["./jquery","./common"],function(e,i){return t(e,i)}):(e.JyUi=e.JyUi||{},e.JyUi.Select=t(e.$,e.JyUi.Common))}(window),function(e){function t(t,i){function n(e){var t=i.getEvent();this.on=t.on,this.once=t.once,this.trigger=t.trigger,this.option=Object.assign({},e),this.$menu=this.option.$menu,this.render()}var a={menu:'<ul class="jy-menu jy-menu-structure"></ul>',ul:"<ul></ul>",item:"<li><a></a></li>",rightIcon:'<i class="jy-menu-icon jy-menu-right-icon">&#xe734;</i>',downIcon:'<i class="jy-menu-icon jy-menu-down-icon">&#xe74b;</i>',upIcon:'<i class="jy-menu-icon jy-menu-up-icon">&#xe757;</i>',border:'<li class="jy-menu-border"></li>'},r={menu:"jy-menu",nav:"jy-menu-nav",vertical:"jy-menu-nav-vertical",horizontal:"jy-menu-nav-horizontal",structure:"jy-menu-structure",hoverRight:"jy-menu-hover-right",hoverDown:"jy-menu-hover-down",spread:"jy-menu-item-spread",title:"jy-menu-item-title",absolute:"jy-menu-absolute",border:"jy-menu-border",checked:"jy-menu-checked",checkedParent:"jy-menu-checked-parent",downIcon:"jy-menu-down-icon",upIcon:"jy-menu-up-icon",hover:"jy-menu-hover",child:"jy-menu-child",ieHack:"jy-menu-ie-hack"},s="jy-menu-animation-hover-down",o=e.document.body,l=e.document.documentElement,d=t(o),c=i.getIeVersion(),h=i.getEvent();n.prototype.render=function(){this.$elem=t(this.option.elem),this.data=this.option.data&&this.option.data.concat([])||[],this.$menu=this.$menu||t(a.menu),this.idKeyMap={},this.dataMap={},this.key=0,this.width=this.option.width,this.height=this.option.height||0,this.type="nav"===this.option.type?"nav":"menu",this.mode="horizontal"===this.option.mode?"horizontal":"vertical",this.position="absolute"===this.option.position?"absolute":"static",this.check=void 0===this.option.check||Boolean(this.option.check),this.showList=[],this.width&&this.$menu.css("width",this.width),this.height&&this.$menu.css("height",this.height),this.mounted=!this.$menu.hasClass(r.structure),"menu"===this.type?this.mountMenu():this.mountNav(),"nav"===this.type&&(this.$menu.addClass(r.nav),this.$menu.addClass("vertical"===this.mode?r.vertical:r.horizontal)),this.mounted?(this.setTitleLeftPadding(),this.$menu.find("ul").hide(),this.$menu.find("li").each(function(e,i){var n=t(i),s=n.children("a"),o=n.children("ul"),l=s.children("."+r.downIcon),d=s.children("."+r.upIcon),c=s.children("."+r.rightIcon);o.length&&(o.hasClass(r.hoverRight)?c.length||s.append(a.rightIcon):(l.length||(l=t(a.downIcon),s.append(l)),d.length||(d=t(a.upIcon),s.append(d)),n.hasClass(r.spread)&&(o.show(),l.hide(),d.show())))})):(this.appendItem(this.data,this.$menu,1),this.setTitleLeftPadding(),"menu"===this.type&&this.addBorder(),this.$menu.find("ul").hide(),this.showList.map(function(e){var i=t(e),n=i.parent("li"),a=n.children("a");i.show(),n.addClass(r.spread),i.hasClass(r.hoverRight)||(a.children("."+r.upIcon).show(),a.children("."+r.downIcon).hide())})),this.bindEvent()},n.prototype.mountMenu=function(){var e=this;"static"==this.position?!this.mounted&&this.$elem.length&&this.$elem.append(this.$menu):this.$elem&&this.$elem.length?(this.$menu.hide().addClass(r.absolute),this.triggerEvent=this.option.trigger||"click",this.triggerEvent="hover"===this.triggerEvent?"mouseenter":this.triggerEvent,this.$elem.on(this.triggerEvent,function(){return e.setPosition(),"mouseenter"===e.triggerEvent?(clearTimeout(e.hideMenuTimer),e.$menu.show().addClass(s)):e.$menu.toggle(),e.$menu[0].offsetWidth<e.$elem[0].offsetWidth&&e.$menu.css("width",e.$elem[0].offsetWidth-2),!1}),"mouseenter"===this.triggerEvent&&this.$elem.on("mouseleave",function(){e.hideMenuTimer=setTimeout(function(){e.$menu.hide().removeClass(s)},100)}),!this.mounted&&d.append(this.$menu),d.on("click",function(){"absolute"===e.position&&e.$menu.hide()})):!this.mounted&&d.append(this.$menu)},n.prototype.mountNav=function(){!this.mounted&&this.$elem.length&&this.$elem.append(this.$menu)},n.prototype.reload=function(e){this.option=Object.assign({},e||{}),this.$menu.remove(),this.render()},n.prototype.appendItem=function(e,i,n){var s=this;e.map(function(e){var o=t(a.item),l=o.children("a");if(e=Object.assign({},e),e._jy_key=s.key,o.attr("data-key",s.key),l.html("function"==typeof s.option.template?s.option.template(e):e.title),i.append(o),void 0!==e.id&&(s.idKeyMap[e.id]=s.key),s.dataMap[s.key]=e,s.key++,e.children&&e.children.length){var d=t(a.ul);o.append(d),"nav"===s.type&&"horizontal"==s.mode&&(e.spreadType=n<=1?"hover-down":"hover-right"),"hover-right"==e.spreadType?(d.addClass(r.hoverRight),l.append(a.rightIcon)):"hover-down"==e.spreadType?(d.addClass(r.hoverDown),l.append(a.downIcon+a.upIcon)):l.append(a.downIcon+a.upIcon),s.appendItem(e.children,d,n+1),(s.option.spread||e.spread)&&(-1==s.showList.indexOf(d[0])&&s.showList.push(d[0]),d.parents("ul").each(function(e,t){-1==s.showList.indexOf(t)&&s.showList.push(t)}))}})},n.prototype.addBorder=function(){this.$menu.find("li").each(function(e,i){var n=t(i),s=n.children("ul");if(s.length&&!s.hasClass(r.hoverRight)){var o=n.prev();n.next().length&&t(a.border).insertAfter(n),o.length&&!o.hasClass(r.border)&&t(a.border).insertBefore(n)}})},n.prototype.setTitleLeftPadding=function(){function e(n,a){var s=n.children("ul"),o=s.hasClass(r.hoverRight)||s.hasClass(r.hoverDown);n.children("li").each(function(n,r){t(r).children("a").css("padding-left",a*i+"px"),e(t(r),a+1)}),s.children("li").each(function(n,r){var s=t(r).children("a");a=o?1:a,s.css("padding-left",a*i+"px"),e(t(r),a+1)})}var i=15;"nav"===this.type&&(i=20),"nav"===this.type&&"horizontal"===this.mode||e(this.$menu,1)},n.prototype.setPosition=function(){var e=this.$elem.offset();if(this.$menu.css({top:e.top+this.$elem[0].offsetHeight+5,left:e.left}),c<=6){var t=l.scrollTop||o.scrollTop||0,i=l.scrollLeft||o.scrollLeft||0;this.$menu.css({marginTop:t,marginLeft:i})}},n.prototype.toggle=function(e,t){var i=this.$menu.find('li[data-key="'+e+'"]'),n=i.children("ul"),a=n.is(":visible");n.length&&(t&&!a||!t&&a)&&(n.hasClass(r.hoverRight)||n.hasClass(r.hoverDown)?i.trigger("mouseenter"):i.trigger("click"))},n.prototype.getKeyById=function(e){return this.idKeyMap[e]},n.prototype.getBindData=function(e){return this.dataMap&&this.dataMap[t(e).attr("data-key")]},n.prototype.bindEvent=function(){function n(e){function t(){o.animationTimer=requestAnimationFrame(function(){n-=a,n>0?(e.css("height",n),t()):e.css({height:"auto",overflow:"visible"}).hide()})}var i=e[0].clientHeight,n=i,a=i/10;e.css("overflow","hidden"),t()}function a(e){function t(){o.animationTimer=requestAnimationFrame(function(){n+=a,n<i?(e.css("height",n),t()):e.css({height:"auto",overflow:"visible"})})}var i=e[0].clientHeight,n=0,a=i/10;e.css("overflow","hidden"),t()}var o=this;"menu"===this.type&&"absolute"===this.position&&"mouseenter"===this.triggerEvent&&(this.$menu.on("mouseenter",function(){clearTimeout(o.hideMenuTimer)}),this.$menu.on("mouseleave",function(){o.hideMenuTimer=setTimeout(function(){o.$menu.hide().removeClass(s)},100)})),this.$menu.delegate("li","click",function(s){var l=t(this),d=l.children("a"),c=o.getBindData(this),h=l.children("ul");if(h.length){if(h.length&&!h.hasClass(r.hoverRight)&&!h.hasClass(r.hoverDown)){var p=h.is(":visible");p?(d.children("."+r.downIcon).show(),d.children("."+r.upIcon).hide(),e.requestAnimationFrame?n(h):h.hide(),h.parent("li").removeClass(r.spread)):(d.children("."+r.upIcon).show(),d.children("."+r.downIcon).hide(),h.show(),e.requestAnimationFrame&&a(h),h.parent("li").addClass(r.spread)),o.trigger(h.is(":visible")?"spread":"close",{dom:this,data:i.delInnerProperty(c)}),u.trigger(h.is(":visible")?"spread":"close",{dom:this,data:i.delInnerProperty(c)})}}else{if(o.check){if(o.$menu.find("a."+r.checked).removeClass(r.checked),o.$menu.find("a."+r.checkedParent).removeClass(r.checkedParent),"nav"===o.type&&"horizontal"===o.mode&&l.parent()[0]!=o.$menu[0]){var f=l.parents("li");f=t(f[f.length-1]),f.children("a").addClass(r.checked).removeClass(r.checkedParent),d.addClass(r.checkedParent)}else d.addClass(r.checked);l.parents("li").each(function(e,i){t(i).children("a").addClass(r.checkedParent)})}o.trigger("click",{dom:this,data:i.delInnerProperty(c)}),u.trigger("click",{dom:this,data:i.delInnerProperty(c)})}i.stopPropagation(s)}),this.$menu.delegate("li","mouseenter",function(){var e=t(this),n=o.getBindData(this),a=e.children("ul");a.length&&(a.hasClass(r.hoverRight)||a.hasClass(r.hoverDown))&&(clearTimeout(this.hideItemTimer),e.addClass(r.spread),a.show().addClass(a.hasClass(r.hoverRight)?"jy-menu-animation-hover-right":s),a.hasClass(r.hoverDown)&&a[0].offsetWidth<this.offsetWidth?a.css("width",this.offsetWidth):c<=7&&a.css("width",c<7?a[0].offsetWidth:a[0].clientWidth),o.trigger("spread",{dom:this,data:i.delInnerProperty(n)}),u.trigger("spread",{dom:this,data:i.delInnerProperty(n)}))}),this.$menu.delegate("li","mouseleave",function(){var e=t(this),n=e.children("ul"),a=o.getBindData(this);n.length&&(n.hasClass(r.hoverRight)||n.hasClass(r.hoverDown))&&(this.hideItemTimer=setTimeout(function(){n.hide().removeClass("jy-menu-animation-hover-right").removeClass(s),e.removeClass(r.spread),o.trigger("close",{dom:this,data:i.delInnerProperty(a)}),u.trigger("close",{dom:this,data:i.delInnerProperty(a)})},100))}),this.$menu.delegate("."+r.hoverRight+"."+r.hoverDown,"mouseenter",function(){var e=t(this),i=e.parent("li")[0];i&&clearTimeout(i.hideItemTimer)}),this.$menu.delegate("li a","mouseenter",function(){t(this).addClass(r.hover)}),this.$menu.delegate("li a","mouseleave",function(){t(this).removeClass(r.hover)})};var u={on:h.on,once:h.once,trigger:h.trigger,render:function(e){var t=new n(e);return{on:t.on,once:t.once,trigger:t.trigger,spread:function(e){var i=t.getKeyById(e);void 0!==i&&t.toggle(i,!0)},close:function(e){var i=t.getKeyById(e);void 0!==i&&t.toggle(i,!1)},reload:function(e){t.reload(e)},destroy:function(){t.$menu.remove()},setWidth:function(e){t.$menu.css("width",e)}}}};return t(function(){t("ul."+r.menu).each(function(e,i){var n=t(i);if(!n.hasClass(r.structure)){var a=n.hasClass(r.nav)?"nav":"menu",s=n.hasClass(r.horizontal)?"horizontal":"vertical",o=n.hasClass(r.absolute)?"absolute":"static",l="false"!==n.attr("jy-menu-check"),d=n.attr("jy-menu-elem"),c=n.attr("jy-menu-trigger");u.render({elem:d,$menu:n,type:a,position:o,mode:s,check:l,trigger:c})}})}),u}"function"==typeof define&&define.amd?define("modules/menu-nav",["./jquery","./common"],function(e,i){return t(e,i)}):(e.JyUi=e.JyUi||{},e.JyUi.MenuNav=t(e.$,e.JyUi.Common))}(window),function(){function e(e,t){function i(e){var i=t.getEvent();this.on=i.on,this.once=i.once,this.trigger=i.trigger,this.option=e,this.render()}var n={pager:"jy-pager",prev:"jy-pager-prev",prevDisabled:"jy-pager-prev-disabled",next:"jy-pager-next",nextDisabled:"jy-pager-next-disabled",limit:"jy-pager-limits",nums:"jy-pager-nums",num:"jy-pager-num",dot:"jy-pager-dot",now:"jy-pager-now",jump:"jy-pager-jump",input:"jy-pager-input",confirm:"jy-pager-confirm",count:"jy-pager-count"},a=t.getIeVersion(),r={render:function(e){var t=new i(e);return{on:t.on,once:t.once,trigger:t.trigger,setCount:t.setCount.bind(t),reload:t.reload.bind(t)}}};return i.prototype.render=function(){var t=this,i=e(this.option.elem);if(i.length){switch(this.$pager||(this.$pager=e('<div class="'+[n.pager,"jy-clear"].join(" ")+'"></div>'),this.$pager.insertAfter(i),i.hide()),this.option=Object.assign({},this.option),this.count=this.option.count||0,this.limit=this.option.limit||10,this.pages=Math.ceil(this.count/this.limit)||1,this.nowPage=this.option.nowPage||1,this.nowPage=this.nowPage>this.pages?this.pages:this.nowPage,this.limits=this.option.limits||[10,20,50,100],this.groups=this.option.groups||5,this.layout=this.option.layout||["count","prev","page","next","limit","jump"],this.prev=this.option.prev||"上一页",this.next=this.option.next||"下一页",this.size=this.option.size||"normal",-1==this.limits.indexOf(this.limit)&&(this.limits.push(this.limit),this.limits.sort(function(e,t){return e-t})),this.size){case"small":this.$pager.addClass("jy-pager-small")}if(this.layout.indexOf("count")>-1?(this.$count||(this.$count=e('<span class="'+n.count+'"></span>'),this.$pager.append(this.$count)),this.$count.html("共"+this.count+"条")):this.$count&&(this.$count.remove(),this.$count=void 0),this.layout.indexOf("prev")>-1?(this.$prev||(this.$prev=e('<a hidefocus="true" href="javascript:;" class="'+[n.prev,1==this.nowPage?n.prevDisabled:""].join(" ")+'"></a>'),this.$pager.append(this.$prev)),this.$prev.html(this.prev)):this.$prev&&(this.$prev.remove(),this.$prev=void 0),this.layout.indexOf("page")>-1?this.$page||(this.$page=e('<div class="'+n.nums+'"></div>'),this.$pager.append(this.$page)):this.$page&&(this.$page.remove(),this.$page=void 0),this.layout.indexOf("next")>-1?(this.$next||(this.$next=e('<a hidefocus="true" href="javascript:;" class="'+[n.next,1==this.nowPage?n.nextDisabled:""].join(" ")+'"></a>'),this.$pager.append(this.$next)),this.$next.html(this.next)):this.$next&&(this.$next.remove(),this.$next=void 0),this.layout.indexOf("limit")>-1){this.$select||(this.$select=e('<select class="'+n.limit+'" jy-ignore></select>'),this.$pager.append(this.$select)),this.$select.empty();for(var r=0;r<this.limits.length;r++)if(this.$select.append('<option value="'+this.limits[r]+'" '+(this.limit==this.limits[r]?"selected":"")+">"+this.limits[r]+"条每页</option>"),a<=11){var s=this.limit;e(function(){t.$select.val(s)})}}else this.$select&&(this.$select.remove(),this.$select=void 0);if(this.layout.indexOf("jump")>-1){if(this.$jump||(this.$jump=e('                    <div class="'+n.jump+'">                        <span>到</span>                        <input type="text" class="'+n.input+'">                        <span>页</span>                        <button class="'+n.confirm+'">确定</button>                    </div>'),this.$pager.append(this.$jump)),this.$jump.find("input."+n.input).val(this.nowPage),a<=11){var o=this.nowPage;e(function(){t.$jump.find("input."+n.input).val(o)})}}else this.$jump&&(this.$jump.remove(),this.$jump=void 0);this.renderNowPage(!0),this.bindEvent()}},i.prototype.setCount=function(e){this.count!=e&&(this.count=e||0,this.pages=Math.ceil(this.count/this.limit)||1,this.nowPage=this.nowPage>this.pages?this.pages:this.nowPage,this.renderNowPage(!0),this.$count.html("共"+this.count+"条"))},i.prototype.setLimit=function(e){this.limit=e||10,this.pages=Math.ceil(this.count/this.limit)||1,this.nowPage=this.nowPage>this.pages?this.pages:this.nowPage,this.renderNowPage()},i.prototype.renderNowPage=function(e){var i=this;if(e||(t.cancelNextFrame(this.triggerTimer),this.triggerTimer=t.nextFrame(function(){i.trigger("page",i.nowPage)})),this.$page){var a="";if(this.pages>this.groups){var r=Math.floor(this.groups/2),s=this.nowPage-r;for(s=s+this.groups-1>=this.pages-1?this.pages-this.groups+1:s,s=2==s&&this.groups>3?1:s,s=s>0?s:1,!1!==this.option.first&&(s>1&&(a+='<a hidefocus="true" href="javascript:;" class="'+n.num+'" data-page="1">'+(this.option.first||1)+"</a>"),s>2&&(a+='<a hidefocus="true" href="javascript:;" class="'+n.dot+'">...</a>')),j=0;j<this.groups&&s<=this.pages;s++,j++)a+='<a hidefocus="true" href="javascript:;" class="'+n.num+'" data-page="'+s+'">'+(1==s&&this.option.first?this.option.first:s)+"</a>";!1!==this.option.last&&s<=this.pages&&(s<=this.pages-1&&(a+='<a hidefocus="true" href="javascript:;" class="'+n.dot+'">...</a>'),a+='<a hidefocus="true" href="javascript:;" class="'+n.num+'" data-page="'+this.pages+'">'+(this.option.last||this.pages)+"</a>")}else for(var o=0;o<this.pages;o++)a+='<a hidefocus="true" href="javascript:;" class="'+n.num+'" data-page="'+(o+1)+'">'+(o+1)+"</a>";this.$page.html(a),this.$page.find("a."+n.num+'[data-page="'+this.nowPage+'"]').addClass(n.now),this.$jump&&this.$jump.find("input."+n.input).val(this.nowPage),1==this.nowPage?this.$prev&&this.$prev.addClass(n.prevDisabled):this.$prev&&this.$prev.removeClass(n.prevDisabled),this.nowPage==this.pages?this.$next&&this.$next.addClass(n.nextDisabled):this.$next&&this.$next.removeClass(n.nextDisabled)}},i.prototype.reload=function(e){this.option=Object.assign(this.option,e),this.render()},i.prototype.bindEvent=function(){if(!this.binded){var t=this;this.binded=!0,this.$pager.delegate("a."+n.prev,"click",function(){t.nowPage>1&&(t.nowPage--,t.renderNowPage())}),this.$pager.delegate("a."+n.next,"click",function(){t.nowPage<t.pages&&(t.nowPage++,t.renderNowPage())}),this.$pager.delegate("a."+n.num,"click",function(){var i=e(this),n=i.attr("data-page");t.nowPage=n,t.renderNowPage()}),this.$pager.delegate("button."+n.confirm,"click",function(){var e=t.$jump.find("input."+n.input).val();e>=1&&e<=t.pages&&(t.nowPage=e,t.renderNowPage())}),this.$pager.delegate("input."+n.input,"keydown",function(e){13==e.keyCode&&t.$jump.find("button."+n.confirm).trigger("click")}),this.$pager.delegate("select."+n.limit,"change",function(){var i=Number(e(this).val())||0;t.trigger("limit",i),t.setLimit(i)})}},r}"function"==typeof define&&define.amd?define("modules/pager",["./jquery","./common"],function(t,i){return e(t,i)}):(window.JyUi=window.JyUi||{},window.JyUi.Pager=e(window.$,window.JyUi.Common))}(window),function(e){function t(e,t){function i(e){var i=t.getEvent();this.on=i.on,this.once=i.once,this.trigger=i.trigger,this.option=Object.assign({},e),this.render()}function n(){e("div."+r.tab).each(function(t,n){e(n).hasClass(r.structure)||new i({$tab:e(n)})})}var a={tab:'<div class="jy-tab jy-tab-structure">                <div class="jy-tab-header">                    <div class="jy-tab-header-scroll">                        <div class="jy-tab-titles">                        </div>                    </div>                </div>                <div class="jy-tab-content">                </div>            </div>',item:'<div class="jy-tab-item<%-(active?" jy-tab-item-active":"")%>" target="<%-name%>"><%-content%></div>',title:'<div class="jy-tab-title<%-(active?" jy-tab-title-active":"")%>" name="<%-name%>"><%-title%></div>',prev:'<div class="jy-tab-prev">&#xe733;</div>',next:'<div class="jy-tab-next">&#xe734;</div>',closeIcon:'<i class="jy-tab-close">&#xe735;</i>'},r={tab:"jy-tab",tabLine:"jy-tab-line",structure:"jy-tab-structure",scroll:"jy-tab-scroll",header:"jy-tab-header",headerScroll:"jy-tab-header-scroll",content:"jy-tab-content",titles:"jy-tab-titles",title:"jy-tab-title",item:"jy-tab-item",titleActive:"jy-tab-title-active",itemActive:"jy-tab-item-active",prev:"jy-tab-prev",next:"jy-tab-next",closeIcon:"jy-tab-close"},s=t.getEvent();i.prototype.render=function(){this.$tab=this.option.$tab||e(a.tab),this.data=this.option.data||[],this.style="line"===this.option.style?"line":"card",this.colseEnable=!1!==this.option.colseEnable,this.$header=this.$tab.children("."+r.header),this.$headerScroll=this.$header.children("."+r.headerScroll),this.$titles=this.$headerScroll.children("."+r.titles),this.$content=this.$tab.children("."+r.content),this.option.$tab||(this.$elem=e(this.option.elem),this.appendItem(),this.$elem.hide(),this.$tab.insertAfter(this.$elem),"line"===this.style&&this.$tab.addClass(r.tabLine)),this.colseEnable&&this.$titles.children("."+r.title).each(function(t,i){var n=e(i);0==n.children("."+r.closeIcon).length&&n.append(a.closeIcon)}),this.checkScroll(),this.bindEvent()},i.prototype.appendItem=function(){var e=this;if(this.data.length){var i=!1;this.data.map(function(n){i=!i&&n.active,e.$titles.append(t.htmlTemplate(a.title,{title:n.title,name:n.name,active:i})),e.$content.append(t.htmlTemplate(a.item,{content:n.content||"",name:n.name,active:i}))}),0==e.$titles.children("."+r.titleActive).length&&(e.$titles.children().first().addClass(r.titleActive),e.$content.children().first().addClass(r.itemActive))}},i.prototype.addTab=function(i){for(var n=null,s=0;s<this.data.length;s++)if(this.data[s].name==i.name)return void this.$titles.children('[name="'+i.name+'"]').trigger("click");i.active&&(this.$titles.children("."+r.titleActive).removeClass(r.titleActive),this.$content.children("."+r.itemActive).removeClass(r.itemActive)),n=e(t.htmlTemplate(a.title,{title:i.title,name:i.name,active:i.active})),this.colseEnable&&n.append(a.closeIcon),this.$titles.append(n),this.$content.append(t.htmlTemplate(a.item,{content:i.content||"",name:i.name,active:i.active})),this.data.push(i),this.checkScroll()},i.prototype.removeTab=function(e){var t=this.$titles.children('[name="'+e+'"]'),i=t.prev();i.length||(i=t.next()),t.remove(),this.$content.children('[target="'+e+'"]').remove(),this.data=this.data.filter(function(t){return t.name!=e}),t.hasClass(r.titleActive)&&i.trigger("click"),this.checkScroll()},i.prototype.checkScroll=function(){if(this.$headerScroll[0].scrollWidth>this.$headerScroll[0].clientWidth){var e=this.$header.children("."+r.prev),t=this.$header.children("."+r.next);e.length||this.$header.append(a.prev),t.length||this.$header.append(a.next),this.$tab.addClass(r.scroll)}},i.prototype.bindEvent=function(){var t=this;this.$tab.delegate("."+r.title,"click",function(){var i=e(this),n=i.attr("name");t.$titles.children("."+r.titleActive).removeClass(r.titleActive),t.$content.children("."+r.itemActive).removeClass(r.itemActive),i.addClass(r.titleActive),t.$content.children('[target="'+n+'"]').addClass(r.itemActive),t.trigger("change",{data:n,dom:this}),o.trigger("change",{data:n,dom:this})}),this.$tab.delegate("."+r.prev,"click",function(){t.prev()}),this.$tab.delegate("."+r.next,"click",function(){t.next()}),this.$tab.delegate("."+r.closeIcon,"click",function(){var i=e(this).parent().attr("name");return t.removeTab(i),!1})},i.prototype.prev=function(){var e=this,t=this.$titles[0].offsetLeft,i=this.$headerScroll[0].clientWidth;this.$titles.children("."+r.title).each(function(n,a){if(a.offsetLeft+t>=0)return t=a.offsetLeft-i,t<0&&(t=0),e.$titles.css("left",-t),!1})},i.prototype.next=function(){var e=this,t=this.$titles[0].offsetLeft,i=this.$headerScroll[0].clientWidth,n=this.$titles[0].clientWidth;this.$titles.children("."+r.title).each(function(a,r){if(r.offsetLeft+r.offsetWidth+t>=i)return t=r.offsetLeft,t>n-i&&(t=n-i),e.$titles.css("left",-t),!1})},n();var o={on:s.on,once:s.once,trigger:s.trigger,check:n,render:function(e){var t=new i(e);return{on:t.on,once:t.once,trigger:t.trigger,addTab:t.addTab.bind(t),removeTab:t.removeTab.bind(t)}}};return o}"function"==typeof define&&define.amd?define("modules/tab",["./jquery","./common"],function(e,i){return t(e,i)}):(e.JyUi=e.JyUi||{},e.JyUi.Tab=t(e.$,e.JyUi.Common))}(window),function(){function e(e,t,i){function n(e){var i=t.getEvent();this.on=i.on,this.once=i.once,this.trigger=i.trigger,this.option=t.deepAssign({},e,["data"]),this.option.data=e.data,this.render()}function a(e,i,n,a){var r=e;return a.template?r=a.template(e,i,n,a):a.values&&(r="",e instanceof Array?(a.values.map(function(i){e&&e.length&&t.indexOf(e,i.value)>-1&&(r+=","+i.label)}),r=r.slice(1)):a.values.map(function(t){t.value==e&&(r=t.label)})),r}var r=e(window.document.body),s="&#xe74b;",o="&#xe735;",l=t.getIeVersion(),d=2,c=1,h={view:"jy-table-view",viewBorder:"jy-table-view-border",table:"jy-table",holder:"jy-table-col-holder",cell:"jy-table-cell",cellContent:"jy-table-cell-content",editCell:"jy-table-cell-edit",header:"jy-table-header",main:"jy-table-main",headerMain:"jy-table-header-main",tool:"jy-table-tool",toolbar:"jy-table-toolbar",toolbarSelf:"jy-table-tool-self",editing:"jy-table-editing",checkboxs:"jy-table-checkboxs",radios:"jy-table-radios",pager:"jy-table-pager",filter:"jy-table-filter",exports:"jy-table-exports",detailIcon:"jy-table-detail-icon",detail:"jy-table-detail",tipClose:"jy-table-detail-close",detail:"jy-table-detail",hover:"jy-table-hover",headerMainLeft:"jy-table-header-main-l",headerMainRgiht:"jy-table-header-main-r",confirm:"jy-table-confirm",cancel:"jy-table-cancel",mend:"jy-table-mend",sort:"jy-table-sort",sortUp:"jy-table-sort-up",sortDown:"jy-table-sort-down",sortHover:"jy-table-sort-hover",colResize:"jy-table-col-resize",sortConfirm:"jy-table-sort-confirm",unselect:"jy-table-unselect",error:"jy-table-error",resizeLine:"jy-table-resize-line",checkbox:"jy-table-checkbox",checkboxEdit:"jy-table-checkbox-edit",radio:"jy-table-radio",radioEdit:"jy-table-radio-edit",checked:"jy-table-checked",input:"jy-table-input",select:"jy-table-select",selectTitle:"jy-table-select-title",selectActive:"jy-table-select-active",empty:"jy-table-empty",downAnimation:"jy-table-animation-hover-down"},u={table:'<table class="jy-table"></table>',thead:"<thead></thead>",tbody:"<tbody></tbody>",headerMain:'<div class="jy-table-header-main"></div>',headerMainLeft:'<div class="jy-table-header-main-l"></div>',headerMainRgiht:'<div class="jy-table-header-main-r"></div>',headerMain:'<div class="jy-table-header-main"></div>',header:'<div class="jy-table-header"></div>',main:'<div class="jy-table-main"></div>',empty:'<div class="jy-table-empty">暂无数据</div>',td:'            <td class="<%-(col.align?"jy-table-align-"+col.align:"")%>"             data-key="<%-key%>-<%-col._key%>"             data-col="<%-col._key%>"             jy-event="<%-col.event||""%>"             <%if(col.style){%>             style="<%for(var k in col.style){%><%-k%>:<%-col.style[k]%>;<%}%><%-(col.hidden?"display:none":"")%>"             <%}%>             <%for(var k in col.attr){%> <%-k%>="<%-col.attr[k]%>"<%}%>>                <%-cell%>            </td>',cell:'<div class="jy-clear jy-table-cell jy-table-cell-<%-tableCount%>-<%-col._key%>"><div class="jy-table-cell-content"><%-(content||"&nbsp;")%></div></div>',radio:'<div class="jy-table-radio <%-(checked?"jy-table-checked":"")%>" data-key="<%-key%>">                <i class="jy-radio-icon-checked">&#xe61c;</i>                <i class="jy-radio-icon-uncheck">&#xe619;</i>                <span>&nbsp;</span>            </div>',radioEdit:'<div class="jy-table-radio-edit <%-(checked?"jy-table-checked":"")%>">                <i class="jy-radio-icon-checked">&#xe61c;</i>                <i class="jy-radio-icon-uncheck">&#xe619;</i>                <span><%-(title||"&nbsp;")%></span>            </div>',checkbox:'<div class="jy-table-checkbox <%-(checked?"jy-table-checked":"")%>" data-key="<%-key%>">                <span class="jy-checkbox-icon"><i>&#xe737;</i></span>                <span><%-(title||"&nbsp;")%></span>            </div>',checkboxEdit:'<div class="jy-table-checkbox-edit <%-(checked?"jy-table-checked":"")%>">                <span class="jy-checkbox-icon"><i>&#xe737;</i></span>                <span><%-(title||"&nbsp;")%></span>            </div>',select:'<div class="jy-table-select jy-table-select-open">                <div class="jy-table-select-title">                    <input type="text" class="jy-table-input" placeholder="请选择" readonly><i>'+s+'</i>                </div>                <dl class="jy-table-select-dl"></dl>            </div>',dd:'<dd class="<%-(selected?"jy-table-select-active":"")%>"><%-title%></dd>',btn:'<button type="button" class="jy-btn jy-btn-xs <%-(type?"jy-btn-"+type:"")%>" jy-event="<%-event%>" style="margin-right:10px" <%-(stop?\'jy-stop="true"\':"")%>><%-text%></button>',loading:'<div class="jy-table-loading"><i class="jy-table-icon">&#xe61e;</i></div>'},p={required:{msg:"必填项不能为空",rule:/[\S]+/},number:{msg:"请输入数字",rule:/^\-?\d+(\.\d*)?$/},int:{msg:"请输入整数",rule:/^\-?\d+$/},date:{msg:"请输入正确的日期",rule:/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/},phone:{msg:"请输入正确的手机号",rule:/^1(3|4|5|6|7|8|9)\d{9}$/},email:{msg:"请输入正确的邮箱",rule:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/},identify:{msg:"请输入正确的身份证",rule:/(^\d{15}$)|(^\d{17}(x|X|\d)$)/i},url:{rule:/^(#|(http(s?)):\/\/|\/\/)[^\s]+\.[^\s]+$/,msg:"请输入正确的链接"}};return n.prototype.render=function(){this.$elem=e(this.option.elem),this.$elem&&0!=this.$elem.length&&this.option&&this.option.cols.length&&(this.filter="table_"+Math.random(),this.tableCount=this.tableCount||c++,this.$view&&this.$view.remove(),this.$view=e('<div class="'+[h.view,h.view+"-"+this.tableCount].join(" ")+'"></div>'),this.$viewBorder=e('<div class="'+h.viewBorder+'"></div>'),this.$table=e(u.table),this.$tableColGroup=e("<colgroup></colgroup>"),this.$tableTbody=e(u.tbody),this.$headerMain=e(u.headerMain),this.$header=e(u.header),this.$headerTable=e(u.table),this.$headerTableColGroup=e("<colgroup></colgroup>"),this.$headerTableThead=e("<thead></thead>"),this.$main=e(u.main),this.$empty=e(u.empty),this.$filter=null,this.$exports=null,this.$leftHeaderMain=null,this.$rightHeaderMain=null,this.width=this.option.width,this.height=this.option.height,this.data=this.option.data,this.request=this.option.request,this.defaultToolbar=this.option.defaultToolbar,this.toolbar=this.option.toolbar,this.editTrigger=this.option.editTrigger||"click",this.nowPage=this.option.nowPage||1,this.limit=this.option.limit||20,this.stretch=this.option.stretch||!1,this.page=void 0===this.option.page||this.option.page,this.ellipsis=void 0===this.option.ellipsis||this.option.ellipsis,this.autoSave=void 0===this.option.autoSave||this.option.autoSave,this.enterSave=void 0===this.option.enterSave||this.option.enterSave,this.multilevelCols=this.option.cols[0]instanceof Array?this.option.cols:[this.option.cols],this.spanMethod=this.option.spanMethod,this.idCount=0,this.fixeLeftIdCount=0,this.fixeRightIdCount=0,this.renderedData=[],this.sortedData=[],this.addedData=[],this.deletedData=[],this.editedData=[],this.checkedData=[],this.selectedData=null,this.$details=[],this.fixedVisible=!1,this.hasLeftFixed=!1,this.hasRightFixed=!1,this.sortObj={field:"",sort:""},this.timers={},this.tempData={},this.idKeyMap={},this.dataMap={},this.editMap={},this.$view.append(this.$viewBorder),this.$view.insertAfter(this.$elem),this.$elem.hide(),this.initCols(),this.createSheet(),this.renderToolbar(),this.renderTableHead(),this.renderTableBody(),this.renderTableFixed(),this.renderPage(),this.setViewArea(),this.setColsWidth(),this.stretchTable(),this.bindEvent())},n.prototype.initCols=function(){function e(t,i,n,a){for(var r=0,s=0;r<n&&t[i][r]&&s<n;r++){var o=t[i][r];o.colspan>=2?(t[i+1]&&t[i+1].length?e(t,i+1,o.colspan,o):o.colspan=void 0,s+=o.colspan||1):s+=1,a&&(a.child=a.child||[],a.child.push(o),o.parent=a,o.hidden=a.hidden||o.hidden)}if(a){var l=0;a.child.map(function(e){l+=e.hidden?0:1}),a.colspan=l,l||(a.hidden=!0)}i>0&&(o.fixed=void 0),t[i].splice(0,n)}function t(e,n){e.map(function(e){e.child?(i.multilevelCols[n]=i.multilevelCols[n]||[],i.multilevelCols[n]=i.multilevelCols[n].concat(e.child),t(e.child,n+1)):i.cols.push(e)})}var i=this,n=this.multilevelCols.concat([]),a=0,r=[];n.map(function(e,t){n[t]=e.concat([]),n[t].map(function(e){e._key=a++,e.style=e.style||{},e.attr=e.attr||{},e.event&&(e.style.cursor="pointer"),0===t&&r.push(e)})}),e(n,0,1e3),n=r.filter(function(e){return"left"==e.fixed}),n=n.concat(r.filter(function(e){return"left"!=e.fixed&&"right"!=e.fixed&&(e.fixed=void 0,!0)})),n=n.concat(r.filter(function(e){return"right"==e.fixed})),this.multilevelCols=[n],this.cols=[],t(n,1),this.initCols.hasTyped=!1,this.cols.map(function(e){"radio"!=e.type&&"checkbox"!=e.type||(i.initCols.hasTyped&&(e.type="text",e.hidden=!0),i.initCols.hasTyped=!0)}),"left"===this.multilevelCols[0][0].fixed&&(this.hasLeftFixed=!0),"right"===this.multilevelCols[0][this.multilevelCols[0].length-1].fixed&&(this.hasRightFixed=!0),this.setColMap()},n.prototype.createSheet=function(){if(!this.sheet){var e=document.createElement("style");e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e),this.sheet=e.styleSheet||e.sheet,this.ellipsis||(t.insertRule(this.sheet,"."+h.view+"-"+this.tableCount+" tbody tr","height:auto"),t.insertRule(this.sheet,"."+h.view+"-"+this.tableCount+" ."+h.cellContent,"white-space:normal;text-overflow:unset"))}},n.prototype.reload=function(e){e=e||{},
this.option=t.deepAssign(this.option,e,["data"]),e.data&&(this.option.data=e.data),this.render()},n.prototype.reloadData=function(e){e=e||{},e.data&&(this.data=e.data),e.nowPage&&(this.nowPage=e.nowPage),e.request&&t.deepAssign(this.option.request,e.request),this.renderTableBody()},n.prototype.addRow=function(t){function i(t){var i=n.$table,o=null;"left"==t?(i=n.$leftTable,o=n.$leftTable.children("tbody").children("tr")[s-1]):"right"==t?(i=n.$rightTable,o=n.$rightTable.children("tbody").children("tr")[s-1]):o=n.$table.children("tbody").children("tr")[s-1],o?a.reverse().map(function(i,a){e(n.createTr(i,t)).insertAfter(o),t||r.push(i)}):a.map(function(a,s){var o=e(n.createTr(a,t));i.append(o),t||r.push(a)})}var n=this,a=t.data instanceof Array?t.data:[t.data],r=[],s=function(e){if(void 0!==e)for(var t=0;t<n.sortedData.length;t++)if(n.sortedData[t]._jy_key==e)return t;return n.sortedData.length}(t.key);i(),this.$leftHeaderMain&&i("left"),this.$rightHeaderMain&&i("right"),this.sortedData=this.sortedData.slice(0,s).concat(r).concat(this.sortedData.slice(s)),this.renderedData=this.renderedData.concat(r),this.checkAll(!1,!0),this.hideEmpty(),this.setFixedArea(),r.map(function(e){n.addedData.push(e)})},n.prototype.deleteRow=function(e){function t(t){var r=n.getTrByKey(e,t);r.children("td").each(function(e,t){var i=n.getBindData(t);if(i.$detail){var a=n.$details.indexOf(i.$detail);n.$details.splice(a,1),i.$detail.remove()}}),r.remove(),t||(n.selectedData&&n.selectedData._jy_key==e&&(n.selectedData=null),n.deletedData.push(a),n.deleteKeyById(a.id),i(n.addedData),i(n.editedData),i(n.checkedData),i(n.renderedData),i(n.sortedData))}function i(t){for(var i=0;i<t.length;i++)if(t[i]._jy_key==e){t.splice(i,1);break}}var n=this,a=this.getRowDataByKey(e);t(),this.$leftHeaderMain&&t("left"),this.$rightHeaderMain&&t("right"),this.checkAll(this.sortedData.length==this.checkedData.length,!0),this.delEditTdMap(e),this.renderedData.length||(this.$table.hide(),this.$empty.show())},n.prototype.selectRow=function(e){this.getColByType("radio")&&(this.$view.find("td div."+h.checked).removeClass(h.checked),this.$view.find("td div."+h.radio+'[data-key="'+e+'"]').addClass(h.checked),this.selectedData=this.getRowDataByKey(e))},n.prototype.checkRow=function(e,t){var i=this.getRowDataByKey(e);if(this.getColByType("checkbox")){for(var n=-1,a=0;a<this.checkedData.length;a++)if(this.checkedData[a]._jy_key==e){n=a;break}void 0===t&&(t=-1==n),t?(this.checkedData.push(i),this.$view.find("td div."+h.checkbox+'[data-key="'+e+'"]').addClass(h.checked)):(this.checkedData.splice(n,1),this.$view.find("td div."+h.checkbox+'[data-key="'+e+'"]').removeClass(h.checked)),this.checkAll(this.sortedData.length===this.checkedData.length,!0)}},n.prototype.checkAll=function(e,t){this.getColByType("checkbox")&&(void 0===e&&(e=this.sortedData.length!==this.checkedData.length),e?t?(this.$headerTable.find("div."+h.checkbox).addClass(h.checked),this.$leftHeaderTable&&this.$leftHeaderTable.find("div."+h.checkbox).addClass(h.checked),this.$rightHeaderTable&&this.$rightHeaderTable.find("div."+h.checkbox).addClass(h.checked)):(this.checkedData=this.sortedData.concat([]),this.$headerMain.find("div."+h.checkbox).addClass(h.checked),this.$leftHeaderMain&&this.$leftHeaderMain.find("div."+h.checkbox).addClass(h.checked),this.$rightHeaderMain&&this.$rightHeaderMain.find("div."+h.checkbox).addClass(h.checked)):t?(this.$headerTable.find("div."+h.checkbox).removeClass(h.checked),this.$leftHeaderTable&&this.$leftHeaderTable.find("div."+h.checkbox).removeClass(h.checked),this.$rightHeaderTable&&this.$rightHeaderTable.find("div."+h.checkbox).removeClass(h.checked)):(this.checkedData=[],this.$headerMain.find("div."+h.checkbox).removeClass(h.checked),this.$leftHeaderMain&&this.$leftHeaderMain.find("div."+h.checkbox).removeClass(h.checked),this.$rightHeaderMain&&this.$rightHeaderMain.find("div."+h.checkbox).removeClass(h.checked)))},n.prototype.save=function(i,n){function r(t,i){var n=null,r=s.getBindData(t),o=r.col,l=s.getEditAble(r);if("function"==typeof l.save){var d=e(t.children[0].children[0]);n=l.save(d)}else r.$input?n=r.$input.val():r.$select?n=r.$select[0].value:r.$checkbox?n=r.$checkbox[0].value:r.$radio&&(n=r.$radio[0].value);if(n=n||"",i){var c=r.rowData;c=Object.assign({},c),c.value=n,n=a(n,c,r.rowData._jy_key,o)}return n}var s=this,o=!0,l=[],d=this.getColByField(n);if(void 0!==i)this.editMap[i]&&this.editMap[i].map(function(t){(!n||d&&e(t).attr("data-col")==d._key)&&l.push(t)});else for(var c in this.editMap){var u=this.editMap[c];u&&u.map(function(e){l.push(e)})}for(var f=0;f<l.length;f++){var y=l[f];if(!(o=function(t){var i=!0,n=s.getBindData(t),a=r(t),o=s.getEditAble(n);if(o.rules)for(var l=0;l<o.rules.length;l++){var d=o.rules[l],c=d.msg;if("string"==typeof d.type&&(d=p[d.type],c=c||d.msg),"function"==typeof d.rule?i=d.rule(a):d.rule&&(i=d.rule.test(String(a||""))),!i){s.showMsg(c);break}}return i?e(t).removeClass(h.error):e(t).addClass(h.error),i}(y)))break}if(o){for(var f=0;f<l.length;f++){var y=l[f];!function(i){var n=s.getBindData(i),a=n.rowData._jy_key,o=n.col,l=e(i),d=r(i),c=r(i,!0),u=n.colData,p="";if(n.rowData[o.field]=d,n.colData=d,l.removeClass(h.editing),p='<div class="'+h.cellContent+'">'+(o.template?o.template(n.colData,n.rowData,a,o):c)+"</div>",n.editing=!1,n.$input=void 0,n.$select=void 0,n.$checkbox=void 0,i.children[0].innerHTML=p,o.fixed&&(s.getTrByKey(a,s.fixedVisible?"":o.fixed).children('td[data-key="'+a+"-"+o._key+'"]')[0].children[0].innerHTML=p),String(u)!=String(d)){for(var f=!0,y=0;y<s.editedData.length;y++)if(s.editedData[y]._jy_key==a){f=!1;break}f&&s.editedData.push(n.rowData),s.trigger("save",{data:d,dom:i.children[0].children[0],field:o.field,rowData:t.delInnerProperty(n.rowData)})}i.style.height&&s.setTdHeight(a,o,"auto")}(y),void 0!==i&&s.delEditTdMap(i,y)}void 0===i&&s.delEditTdMap()}return o},n.prototype.cancel=function(i,n){function a(e){var i=r.getBindData(e),n=i.colData,a=r.getEditAble(i);if("select"===a.type||"checkbox"===a.type||"radio"===a.type){var s=a.values;if("select"===a.type)s.map(function(e){e.value==n&&(n=e.label)});else{var o=[];n&&s.map(function(e){t.indexOf(n,e.value)>-1&&o.push(e.label)}),n=o.join("、")}}return n}var r=this,s=[],o=this.getColByField(n);if(void 0!==i)this.editMap[i]&&this.editMap[i].map(function(t){(!n||o&&e(t).attr("data-col")==o._key)&&s.push(t)});else for(var i in this.editMap){var l=this.editMap[i];l&&l.map(function(e){s.push(e)})}for(var d=0;d<s.length;d++){var c=s[d];!function(t){var i=r.getBindData(t),n=i.rowData._jy_key,s=i.col,o=e(t),l=a(t);t.children[0].innerHTML=s.template?s.template(i.colData,i.rowData,n,s):l,o.removeClass(h.editing),i.editing=!1,i.$input=void 0,i.$select=void 0,i.$checkbox=void 0,t.style.height&&r.setTdHeight(n,s,"auto")}(c),void 0!==i&&r.delEditTdMap(i,c)}void 0===i&&r.delEditTdMap()},n.prototype.edit=function(i,n){function a(i){var n=d.getBindData(i),a=n.colData,r=i.clientHeight-2,s=e(i.children[0].children[0]),o=e('<input class="'+[h.input].join(" ")+'">');o.val(a),r>38&&o.css({height:r,"line-height":r+"px"}),o.on("input propertychange",function(){if("number"==d.getEditAble(n).type){var e=t.getNum(o.val());e!==o.val()&&o.val(e)}}),s.html(o),n.$input=o,t.nextFrame(function(){o.trigger("focus")})}function r(i){var n=d.getBindData(i),a=d.getEditAble(n),r=a.values,s=n.colData,o=i.clientHeight-2,l=e(i.children[0].children[0]),c=e(u.select),p=c.children("."+h.selectTitle),f=p.children("input"),y=c.children("dl");o>38&&f.css({height:o,"line-height":o+"px"}),r.map(function(i){var n=!1,a=null;s==i.value&&(n=!0,f.val(i.label)),a=e(t.htmlTemplate(u.dd,{selected:n,title:i.label})),a[0].value=i.value,a[0].label=i.label,y.append(a)}),y.delegate("dd","click",function(){return y.find("dd."+h.selectActive).removeClass(h.selectActive),e(this).addClass(h.selectActive),f.val(this.label),c[0].value=this.value,y.hide(),!1}),p.on("click",function(){return y.toggle(),!1}),c[0].value=s,l.append(c),n.$select=c}function s(i){var n=d.getBindData(i),a=d.getEditAble(n),r=a.values,s=n.colData.concat([]),o=e(i.children[0].children[0]),l=e('<div class="'+h.checkboxs+'"></div>');r.map(function(i){var n=!1,a=null;t.indexOf(s,i.value)>-1&&(n=!0),a=e(t.htmlTemplate(u.checkboxEdit,{checked:n,title:i.label})),a[0].value=i.value,l.append(a)}),l.delegate("."+h.checkboxEdit,"click",function(){var i=e(this),n=this.value,a=t.indexOf(l[0].value,n);return a>-1?(l[0].value.splice(a,1),i.removeClass(h.checked)):(l[0].value.push(n),i.addClass(h.checked)),!1}),o.append(l),l[0].value=s,n.$checkbox=l}function o(i){var n=d.getBindData(i),a=d.getEditAble(n),r=a.values,s=n.colData,o=e(i.children[0].children[0]),l=e('<div class="'+h.radios+'"></div>');r.map(function(i){var n=!1,a=null;s==i.value&&(n=!0),a=e(t.htmlTemplate(u.radioEdit,{checked:n,title:i.label})),a[0].value=i.value,l.append(a)}),l.delegate("."+h.radioEdit,"click",function(){return l.find("div."+h.checked).removeClass(h.checked),e(this).addClass(h.checked),l[0].value=this.value,!1}),o.append(l),l[0].value=s,n.$radio=l}var d=this,c=[],p=this.getColByField(n);if(n&&p){var f=null;if(!(f=this.fixedVisible&&p.fixed?this.getTrByKey(i,p.fixed).children('td[data-col="'+p._key+'"]')[0]:this.getTrByKey(i).children('td[data-col="'+p._key+'"]')[0]))return;c=[f]}else this.getTrByKey(i).children("td").each(function(e,t){var i=d.getBindData(t);d.fixedVisible&&i.col.fixed||c.push(t)}),this.fixedVisible&&(this.$leftHeaderMain&&this.getTrByKey(i,"left").children("td").each(function(e,t){c.push(t)}),this.$rightHeaderMain&&this.getTrByKey(i,"right").children("td").each(function(e,t){c.push(t)}));for(var y=0;y<c.length;y++){var f=c[y];!function(i){var n=d.getBindData(i),c=n.col,u=d.getEditAble(n);if(u&&!n.editing){var p=n.colData,f=d.ellipsis?41:i.offsetHeight,y=n.rowData,v=n.rowData._jy_key,m=e(i.children[0]),g=e('<div class="'+h.editCell+'"></div>'),b=i.clientHeight-2,$=0;m.html(g),u.type=u.type||"text","function"==typeof u.edit?(g.append(u.edit(p,y,v,c)),g.find("input").trigger("focus")):"text"==u.type||"number"==u.type?a(i):"select"==u.type?r(i):"radio"==u.type?o(i):"checkbox"==u.type&&s(i),$=g[0].clientHeight,b>$&&g.css("padding",(b-$)/2+"px 0"),d.trigger("edit",{data:p,dom:g[0],field:c.field,rowData:t.delInnerProperty(n.rowData)}),e(i).addClass(h.editing),n.editing=!0,$+=2,Math.abs(f-$)>2&&d.setTdHeight(v,c,$+(l<=6?1:0))}}(f),d.setEditTdMap(i,f)}this.ellipsis||this.$main.trigger("scroll")},n.prototype.setData=function(i){function n(t,i){var n=e(t);n.children("td").each(function(e,t){var i=r.getBindData(t);i.editing&&-1==d.indexOf(i.col.field)&&d.push(i.col.field)}),n.replaceWith(r.createTr(c,i))}function a(e,t){for(var i=0;i<e.length;i++)if(e[i]._jy_key==s){e.splice(i,1,t);break}}var r=this,s=i.key,o=i.field,l=i.data,d=[],c=this.getRowDataByKey(s);o?c[o]!=l&&(c[o]=l):(l=t.deepAssign({},l),l._jy_key=s,l.id=c.id,c=l,this.selectedData&&this.selectedData._jy_key==s&&(this.selectedData=l),a(this.addedData,l),a(this.editedData,l),a(this.checkedData,l),a(this.renderedData,l),a(this.sortedData,l)),this.getTrByKey(s).each(function(e,t){n(t)}),this.$leftHeaderMain&&this.getTrByKey(s,"left").each(function(e,t){n(t,"left")}),this.$rightHeaderMain&&this.getTrByKey(s,"right").each(function(e,t){n(t,"right")}),this.delEditTdMap(s),d.map(function(e){r.edit(s,e)})},n.prototype.getData=function(e){var i=null;switch(e=e||"render"){case"render":i=this.sortedData;break;case"select":i=this.selectedData;break;case"check":i=this.checkedData;break;case"add":i=this.addedData;break;case"delete":i=this.deletedData;break;case"edit":i=this.editedData}return i&&(i=i instanceof Array?i.map(function(e){return t.delInnerProperty(e)}):t.delInnerProperty(i)),i},n.prototype.getDataById=function(e){for(var i=0;i<this.renderedData.length;i++)if(this.renderedData[i].id==e)return t.delInnerProperty(this.renderedData[i])},n.prototype.getTrByKey=function(e,t){return"left"==t?this.$leftTable.children("tbody").children('tr[data-key="'+e+'"]'):"right"==t?this.$rightTable.children("tbody").children('tr[data-key="'+e+'"]'):this.$table.children("tbody").children('tr[data-key="'+e+'"]')},n.prototype.getColByField=function(e){for(var t=0;t<this.multilevelCols.length;t++)for(var i=this.multilevelCols[t],n=0;n<i.length;n++)if(i[n].field==e)return i[n]},n.prototype.getColByKey=function(e){for(var t=0;t<this.multilevelCols.length;t++)for(var i=this.multilevelCols[t],n=0;n<i.length;n++)if(i[n]._key==e)return i[n]},n.prototype.getColByType=function(e){for(var t=0;t<this.cols.length;t++)if(this.cols[t].type==e)return this.cols[t]},n.prototype.getRowDataByKey=function(e){return this.dataMap[e].rowData},n.prototype.getBindData=function(t){var i=e(t).attr("data-key");return"TH"===t.tagName.toUpperCase()?this.colMap[i]:this.dataMap[i]},n.prototype.getClassNameWithKey=function(e,t){return t+"-"+this.tableCount+"-"+e._key},n.prototype.getEditAble=function(e){var t=e.col,i=null;return i="function"==typeof t.editable?t.editable(e.colData,e.rowData,e.rowData._key,t):t.editable,i&&"object"!=typeof i&&(i={}),i},n.prototype.stretchTable=function(){if(this.stretch){var e=this.$header[0].clientWidth;this.$headerTable[0].offsetWidth<e&&this.setColsWidth(null,this.$main[0].offsetWidth-18),this.stretch=!1}},n.prototype.setArea=function(e,t){this.$view.is(":visible")&&(this.width=e||this.width,this.height=t||this.height,this.option.width=this.width,this.option.height=this.height,this.stretch=this.option.stretch||!1,this.setViewArea(),this.setColsWidth(),this.stretchTable(),this.setFixedArea())},n.prototype.setViewArea=function(){var e=0,t=0;this.width&&(this.$view.css({width:this.width}),(e=this.$view[0].clientWidth)&&this.$main.css({width:e-2})),this.height&&(t=this.height,this.$view.css({height:t}),(t=this.$view[0].clientHeight)&&(t-=this.$header[0].offsetHeight,this.$toolbar&&(t-=this.$toolbar[0].offsetHeight),this.$pager&&(t-=this.$pager[0].offsetHeight),this.$main.css({height:t-2})))},n.prototype.setTableWidth=function(){var e=0;this.cols.map(function(t){e+=!t.hidden&&t._width||0}),this.$view.find("table."+h.table).css("width",e)},n.prototype.setFixedArea=function(){var e=this,t=1,i=1,n=null,a=0,r=0,s=0,o=!1,d=0;if((this.$leftHeaderMain||this.$rightHeaderMain)&&(n={clientWidth:this.$main[0].clientWidth,clientHeight:this.$main[0].clientHeight,scrollWidth:this.$main[0].scrollWidth,offsetWidth:this.$main[0].offsetWidth,offsetHeight:this.$main[0].offsetHeight},o=n.offsetHeight>n.clientHeight),o){if(this.$headerTableThead.children("tr").first().children("th").each(function(n,a){var r=e.getBindData(a).col;"left"!==r.fixed||r.hidden||(t+=r._width),"right"!==r.fixed||r.hidden||(i+=r._width)}),r=this.$header[0].offsetHeight,a=r+n.clientHeight,s=this.$toolbar&&this.$toolbar[0].offsetHeight||0,d=this.$main[0].scrollTop,this.fixedVisible=!0,this.$leftHeaderMain&&(this.$leftHeaderMain.css({top:s,width:t,height:a}).show(),this.$leftMain.css({height:n.clientHeight}),this.$leftMain[0].scrollTop=d),this.$rightHeaderMain){var c=n.offsetWidth>n.clientWidth;this.$rightHeaderMain.css({top:s,width:i,height:a,right:c?17:0}).show(),this.$rightMain.css({top:r,height:n.clientHeight}),this.$rightMain[0].scrollTop=d,7==l&&(this.$rightMain.css({left:-n.scrollWidth+i}),this.$rightHeader.css({left:-n.scrollWidth+i})),c?this.$mend.css({top:s,height:r}).show():this.$mend.hide()}}else this.$leftHeaderMain&&this.$leftHeaderMain.hide(),this.$rightHeaderMain&&this.$rightHeaderMain.hide(),this.$mend&&this.$mend.hide(),this.fixedVisible=!1},n.prototype.setColWidth=function(e,t){e.width=t,this.setColsWidth([e]),this.$headerTable.css({left:-this.$main[0].scrollLeft}),this.ellipsis||this.setViewArea(),this.setFixedArea()},n.prototype.setColsWidth=function(t,i){var n=this,a=[],r=[],s={},o=this.cols.map(function(e){return e._key});this.$view.find("."+h.table+" col").each(function(t,i){var n=e(i).attr("data-col");o.indexOf(Number(n))>-1&&(s[n]=s[n]||[],s[n].push(i))}),t&&(t=t.map(function(e){return e._key})),this.$headerTable.css({width:i||"auto","table-layout":"auto"}),this.$headerTableThead.find("th").each(function(e,i){var r=n.getBindData(i);o.indexOf(r.col._key)>-1&&(t?t.indexOf(r.col._key)>-1&&a.push(i):r.col.hidden||a.push(i))}),a.map(function(t,i){var a=n.getBindData(t),r=a.col.width||"auto";e(t.children[0]).css("width",r),s[a.col._key].map(function(t){e(t).css("width","auto")}),["radio","checkbox"].indexOf(a.col.type)>-1&&e(t).css("width",r)}),a.map(function(e,t){r.push(e.offsetWidth)}),a.map(function(t,i){var a=r[i],o=n.getBindData(t);o.col._width=a,s[o.col._key].map(function(t){e(t).css("width",7==l?a-1:a)})}),this.$headerTable.css({"table-layout":"fixed"}),this.setTableWidth(),this.$empty.css("width",this.$header[0].scrollWidth)},n.prototype.setTdHeight=function(e,t,i){this.$view.find('td[data-key="'+e+"-"+t._key+'"]').css("height",i)},n.prototype.setDataMap=function(e){var t=this,i=this.cols;e&&(void 0!==e.id&&(this.idKeyMap[e.id]=this.idKeyMap[e.id]||[],-1==this.idKeyMap[e.id].indexOf(e._jy_key)&&this.idKeyMap[e.id].push(e._jy_key)),this.dataMap[e._jy_key]={rowData:e},i.map(function(i){t.dataMap[e._jy_key+"-"+i._key]={colData:e[i.field],rowData:e,col:i}}))},n.prototype.setColMap=function(){var e=this;this.colMap={},this.multilevelCols.map(function(t){t.map(function(t){e.colMap["col-"+t._key]={col:t}})})},n.prototype.setEditTdMap=function(e,t){this.editMap[e]=this.editMap[e]||[],-1==this.editMap[e].indexOf(t)&&this.editMap[e].push(t)},n.prototype.delEditTdMap=function(e,t){if(void 0!==e){if(this.editMap[e]=this.editMap[e],this.editMap[e])if(t){var i=this.editMap[e].indexOf(t);i>-1&&this.editMap[e].splice(i,1)}else this.editMap[e]=void 0}else if(t){for(var e in this.editMap)for(var n=this.editMap[e],a=0;a<n.length;a++)if(n[a]===t){n.splice(a,1);break}}else this.editMap={}},n.prototype.renderToolbar=function(){var t=e('<div class="'+[h.toolbar,"jy-clear"].join(" ")+'"></div>');if(this.defaultToolbar){var i=this.defaultToolbar,n=e('<div class="'+h.toolbarSelf+'"></div>');i&&(i=["filter","exports","print"]);for(var a=0;a<i.length;a++)switch(i[a]){case"filter":n.append('<div title="筛选" class="'+[h.tool,"jy-icon","jy-inline-block"].join(" ")+'" jy-event="filter">&#xe61d;</div>');break;case"exports":var r=e('<div title="导出" class="'+[h.tool,"jy-icon","jy-inline-block"].join(" ")+'" jy-event="exports">&#xe618;</div>'),s=e('<ul class="'+h.exports+'" style="display:none">                                    <li jy-event="exports-excel">导出Excel文件</li>                                    <li jy-event="exports-csv">导出Csv文件</li>                                </ul>');r.append(s),n.append(r),this.$exports=s;break;case"print":n.append('<div title="打印" class="'+[h.tool,"jy-icon","jy-inline-block"].join(" ")+'" jy-event="print">&#xe62c;</div>')}t.append(n)}(this.toolbar||this.defaultToolbar)&&(this.$toolbar=t,t.append(this.toolbar),this.$viewBorder.prepend(t))},n.prototype.renderTableHead=function(){function i(i){for(var r=e("<tr></tr>"),s=0;s<i.length;s++){var o=i[s];o.type=o.type||"text";var d=e('<div class="'+h.cellContent+'">'+(o.title||"&nbsp;")+"</div>"),c=e('<div class="'+["jy-clear",h.cell+"-"+a.tableCount+"-"+o._key,h.cell].join(" ")+'"></div>'),p=e('<th data-col="'+o._key+'" data-key="col-'+o._key+'"></th>');if(c.append(d),o.hidden&&p.hide(),["radio","checkbox"].indexOf(o.type)>-1&&(o.width=50),o.colspan>=2?p.attr("colspan",o.colspan):!o.sortAble||!o.field||o.colspan>1?l<=8&&(p[0].onselectstart=function(){if(a.tempData.resizeData)return!1}):(l<=8&&(p[0].onselectstart=function(){return!1}),n(p,c,o)),o.align&&p.addClass("jy-table-align-"+o.align),o.child){var f=!0;o.child.map(function(e){e.holder||(f=!1)}),f&&(p.css("border-bottom",0),o._childHolder=!0)}o.parent&&o.parent._childHolder&&p.addClass(h.holder),o.rowspan>=2&&p.attr("rowspan",o.rowspan),p.append(c),r.append(p),"checkbox"==o.type&&d.html(t.htmlTemplate(u.checkbox,{checked:!1,title:"",key:"all"}))}a.$headerTableThead.append(r)}function n(t,i,n){var r=e('<div class="'+h.sortUp+'"></div>'),s=e('<div class="'+h.sortDown+'"></div>'),o=e('<div class="'+h.sort+'"></div>');o.append(r),o.append(s),e(i[0].children[0]).append(o),t.addClass(h.unselect),r.on("mouseenter",function(){r.addClass(h.sortHover)}).on("mouseleave",function(){r.removeClass(h.sortHover)}).on("click",function(){return a.$view.find("div."+h.sortConfirm).removeClass(h.sortConfirm),a.sortObj.field=n.field,a.sortObj.sort="asc",r.addClass(h.sortConfirm),a.renderTableBody(!0),!1}),s.on("mouseenter",function(){s.addClass(h.sortHover)}).on("mouseleave",function(){s.removeClass(h.sortHover)}).on("click",function(){return a.$view.find("div."+h.sortConfirm).removeClass(h.sortConfirm),a.sortObj.field=n.field,a.sortObj.sort="desc",s.addClass(h.sortConfirm),a.renderTableBody(!0),!1})}var a=this;this.multilevelCols.map(function(e){i(e)}),function(){for(var e=a.cols,t=0;t<e.length;t++){var i=e[t],n='<col data-col="'+i._key+'"/>';i.hidden||(a.$headerTableColGroup.append(n),a.$tableColGroup.append(n))}}(),this.$headerTable.append(this.$headerTableColGroup),this.$headerTable.append(this.$headerTableThead),this.$header.append(this.$headerTable),this.$headerMain.append(this.$header),this.$viewBorder.append(this.$headerMain)},n.prototype.renderTableBody=function(e){function i(){n(),t.cancelNextFrame(a.timers.renderTimer),a.timers.renderTimer=t.nextFrame(function(){a.idKeyMap={},a.dataMap={},a.editMap={},a.checkedData=[],a.selectedData=null,a.renderTr()},0)}function n(){var e={asc:function(e,t){return e-t},desc:function(e,t){return t-e}};a.sortedData=a.renderedData.concat([]),r.map(function(t){t.sortAble&&a.sortObj.field==t.field&&("object"==typeof t.sortAble&&(e=Object.assign(e,t.sortAble)),a.sortObj.sort&&e[a.sortObj.sort]&&a.sortedData.sort(function(i,n){return e[a.sortObj.sort](i[t.field],n[t.field])}))})}var a=this,r=this.cols;if(this.$main.inserted?this.showLoading():(this.$table.append(this.$tableColGroup),this.$table.append(this.$tableTbody),this.$main.append(this.$table),this.$main.append(this.$empty),this.$headerMain.append(this.$main),this.$main.inserted=!0,this.showLoading()),e)i();else if(this.data){var s=(this.nowPage-1)*this.limit,o=this.nowPage*this.limit;this.renderedData=this.data.slice(s,o).map(function(e){return t.deepAssign({},e)}),i()}else this.request&&this.httpGet(function(e){a.renderedData=e.data,a.pager&&a.pager.setCount(e.count),i()})},n.prototype.renderTableFixed=function(){this.hasLeftFixed&&(this.$leftHeaderMain||(this.$leftHeaderMain=e(u.headerMainLeft),this.$leftHeader=e(u.header),this.$leftHeaderTable=e(u.table),this.$leftMain=e(u.main),this.$leftTable=e(u.table),this.$leftHeader.append(this.$leftHeaderTable),this.$leftMain.append(this.$leftTable),this.$leftHeaderMain.append(this.$leftHeader),this.$leftHeaderMain.append(this.$leftMain),this.$viewBorder.append(this.$leftHeaderMain)),this.$leftHeaderTable.html(this.$headerTable.html()),this.$leftTable.html(this.$table.html())),this.hasRightFixed&&(this.$rightHeaderMain||(this.$rightHeaderMain=e(u.headerMainRgiht),this.$rightHeader=e(u.header),this.$rightHeaderTable=e(u.table),this.$rightMain=e(u.main),this.$rightTable=e(u.table),this.$rightHeader.append(this.$rightHeaderTable),this.$rightMain.append(this.$rightTable),this.$rightHeaderMain.append(this.$rightHeader),this.$rightHeaderMain.append(this.$rightMain),this.$mend=e('<div class="'+h.mend+'"></div>'),this.$viewBorder.append(this.$rightHeaderMain),this.$viewBorder.append(this.$mend)),this.$rightHeaderTable.html(this.$headerTable.html()),this.$rightTable.html(this.$table.html())),this.setFixedArea()},n.prototype.renderTr=function(){function e(r){var s=[];t.cancelNextFrame(n.timers.renderTimer);for(var o=r,l=0;o<a.length&&l<100;o++,l++)s.push(n.createTr(a[o]));n.$tableTbody.append(s.join("")),o<a.length?n.timers.renderTimer=t.nextFrame(function(){e(o)}):i()}function i(){if(n.hideLoading(),!n.sortedData.length)return void n.showEmepty();n.hideEmpty(),n.renderTableFixed(),n.checkAll(!1,!0),n.$main.trigger("scroll")}var n=this,a=this.sortedData;this.$tableTbody.empty(),e(0)},n.prototype.createTr=function(e){var t=this.cols,i=e._jy_key;void 0===i&&(i=this.idCount++);var n='<tr data-key="'+i+'">';e._jy_key=i;for(var a=0;a<t.length;a++){var r=t[a];n+=this.createTd(r,e)}return n+="</tr>",this.setDataMap(e),n},n.prototype.createTd=function(e,i){var n=i._jy_key,r="",s="";if("text"==e.type)s=a(i[e.field],i,n,e);else if("radio"==e.type){var o=this.selectedData&&this.selectedData._jy_key==n;s=t.htmlTemplate(u.radio,{checked:o,key:n})}else if("checkbox"==e.type){for(var o=!1,l=0;l<this.checkedData.length;l++)if(this.checkedData[l]._jy_key==n){o=!0;break}s=t.htmlTemplate(u.checkbox,{checked:o,title:"",key:n})}else if("operate"==e.type)if(e.btns)for(var d=0;d<e.btns.length;d++){var c=e.btns[d];s+=t.htmlTemplate(u.btn,{text:c.text,event:c.event,type:c.type,stop:c.stop})}else s=e.template(i[e.field],i,n,e);var h={},p={};e=Object.assign({},e);for(var f in e.style)"function"==typeof e.style[f]?h[f]=e.style[f](i[e.field],i,n,e):h[f]=e.style[f];for(var f in e.attr)"function"==typeof e.attr[f]?p[f]=e.attr[f](i[e.field],i,n,e):p[f]=e.attr[f];if(this.spanMethod){var y=this.spanMethod(i[e.field],i,n,e)||{};void 0!==y.rowspan&&(p.rowspan=y.rowspan),void 0!==y.colspan&&(p.colspan=y.colspan)}return 0!==p.rowspan&&0!==p.colspan||(h.display="none"),e.style=h,e.attr=p,r=t.htmlTemplate(u.cell,{tableCount:this.tableCount,col:e,content:s}),t.htmlTemplate(u.td,{tableCount:this.tableCount,col:e,cell:r,key:n})},n.prototype.renderPage=function(){var t=this;if(this.page){var n=e('<div class="'+h.pager+'"></div>'),a=e('<div jy-filter="table_pager_'+this.filter+'"></div>');n.append(a),this.$pager=n,this.pager=i.render({elem:a[0],nowPage:this.nowPage,limits:this.limits,limit:this.limit,size:"small",count:this.data?this.data.length:0,prev:'<span style="font-weight:bold">&#xe733;</span>',next:'<span style="font-weight:bold">&#xe734;</span>'}),this.pager.on("page",function(e){t.nowPage=e,t.renderTableBody()}),this.pager.on("limit",function(e){t.limit=e}),this.$pager.insertAfter(this.$headerMain)}},n.prototype.httpGet=function(t,i){var n=this,a=this.request.data||{};a[this.request.pageName||"page"]=this.nowPage,a[this.request.limitName||"limit"]=this.limit,e.ajax({url:this.request.url,method:this.request.method||"get",dataType:this.request.dataType||"json",contentType:this.request.contentType||"application/json",data:a,success:function(e){n.request.success&&n.request.success(e),t(n.request.parseData&&n.request.parseData(e)||e)},error:function(e){n.request.error&&n.request.error(e),i&&i(e)}})},n.prototype.showLoading=function(){var t=e(u.loading),i=this.$header[0].clientHeight;this.hideLoading(),this.$empty.hide(),this.$headerMain.append(t),t.css({marginLeft:-t[0].offsetWidth/2,marginTop:i/2-t[0].offsetHeight/2-8}),this.tempData.$loading=t},n.prototype.hideLoading=function(){this.tempData.$loading&&(this.tempData.$loading.remove(),this.tempData.$loading=void 0)},n.prototype.showEmepty=function(){this.$empty.show(),this.$table.hide(),this.$leftHeaderMain&&this.$leftHeaderMain.hide(),this.$leftHeaderMain&&this.$leftHeaderMain.hide()},n.prototype.hideEmpty=function(){this.$empty.hide(),this.$table.show()},n.prototype.showMsg=function(e){t.showMsg(e,{container:this.$headerMain,icon:"danger"})},n.prototype.getKeyById=function(e){var t=this.idKeyMap[e];return t=t&&t.length?t[0]:void 0},n.prototype.deleteKeyById=function(e){var t=this.idKeyMap[e];t&&(this.idKeyMap[e]=t.slice(1))},n.prototype.toggleCol=function(t,i,n){function a(t,i){var n=0;if(t.child.map(function(e){n+=e.hidden?0:1}),t.colspan!=n&&(t.colspan=n,r(t).map(function(t){e(t).attr("colspan",n||1)}),i)){var a=s.$filter.find("div."+h.checkbox+'[data-key="'+t._key+'"]');r(t).map(function(i){var r=e(i);e(i).attr("colspan",n||1),n?(t.hidden=!0,r.show(),a.addClass(h.checked)):(t.hidden=!1,r.hide(),a.removeClass(h.checked))})}}function r(e){for(var t=[],i=0;i<o.length;i++){s.getBindData(o[i]).col._key==e._key&&t.push(o[i])}return t}var s=this,o=[],l=this.$filter.find("div."+h.checkbox+'[data-key="'+t._key+'"]');void 0==i&&(i=Boolean(t.hidden)),t.hidden!=!i&&(t.child&&t.child.map(function(e){e.parent==t&&s.toggleCol(e,i,!0)}),t.hidden=!i,this.$view.find("th,td").each(function(n,a){var r=s.getBindData(this),l=e(a);if(r.col._key==t._key)if("TD"===a.tagName.toUpperCase()){var d=s.spanMethod&&s.spanMethod(r.colData,r.rowData,r.rowData._jy_key,r.col);d&&(0==d.rowspan||0==d.colspan)||!i?l.hide():l.show()}else i?l.show():l.hide();"TH"==a.tagName.toUpperCase()&&o.push(a)}),i?l.addClass(h.checked):l.removeClass(h.checked),t.child&&a(t),this.toggleHolderCol(t,i),n||(t.parent&&a(t.parent,!0),this.setViewArea(),this.setFixedArea(),this.$headerTable.css({left:-this.$main[0].scrollLeft})))},n.prototype.toggleHolderCol=function(t,i){if(!t.child){if(this.$headerTable.css({width:"auto","table-layout":"auto"}),i){var n=0;t._width=t._width||t.width+3||100,n=7==l?t._width-1:t._width;for(var a=-1,r=0;r<this.cols.length;r++){var s=this.cols[r];if(s._key==t._key){a=r;break}}for(;a>0;){a--;var s=this.cols[a];if(s&&!s.hidden){this.$view.find('col[data-col="'+s._key+'"]').each(function(i,a){e('<col data-col="'+t._key+'" style="width:'+n+'px"/>').insertAfter(a)}),a=1/0;break}}for(;a<this.cols.length-1;){a++;var s=this.cols[a];if(s&&!s.hidden){this.$view.find('col[data-col="'+s._key+'"]').each(function(i,a){e('<col data-col="'+t._key+'" style="width:'+n+'px"/>').insertBefore(a)});break}}}else this.$view.find('col[data-col="'+t._key+'"]').remove();this.$headerTable.css({"table-layout":"fixed"}),this.setTableWidth()}},n.prototype.bindEvent=function(){var i=this,n=this.editTrigger||"click";this.bindedEvent||(!function(){r.on("click",function(e){i.tempData.stopBodyEvent||(i.save(),i.$exports&&i.$exports.hide(),i.$filter&&i.$filter.hide()),i.tempData.stopBodyEvent=!1}),r.on("mousemove",function(e){t.cancelNextFrame(i.timers.resizingTimer),i.timers.resizingTimer=t.nextFrame(function(){var t=i.tempData.resizeData;if(t){var n=e.pageX-t.pageX,a=t.originWidth+n;a>30&&(i.tempData.$resizeLine.css({left:t.left+a}),t.width=a)}},0)}),r.on("mouseup",function(e){if(i.tempData.resizeData){var t=i.tempData.resizeData.th,n=i.getBindData(t),a=n.col,r=i.tempData.resizeData.width;i.tempData.$resizeLine.remove(),r&&i.setColWidth(a,r),i.$view.removeClass(h.colResize),i.tempData.resizeData=void 0,i.tempData.$resizeLine=void 0}})}(),this.bindedEvent=!0),function(){i.$view.delegate("td ."+h.radio,"click",function(){var t=e(this),n=t.attr("data-key");i.selectRow(n),i.trigger("change",{dom:this,data:i.selectedData.id})}),i.$view.delegate("td ."+h.checkbox,"click",function(){var t=e(this),n=t.attr("data-key"),a=t.parents("td"),r=a.attr("rowspan");if(i.checkRow(n),r>1)for(var s=a.parent("tr").next("tr"),o=1;o<r&&s.length;o++)n=s.attr("data-key"),i.checkRow(n),s=s.next("tr");i.trigger("change",{dom:this,data:i.checkedData.map(function(e){return e.id})})}),i.$view.delegate("th ."+h.checkbox,"click",function(){i.checkAll(),i.trigger("checkbox",{dom:this,data:i.checkedData.map(function(e){return e.id})})})}(),function(){i.$main.on("scroll",function(e){if(i.$headerTable.css({left:-i.$main[0].scrollLeft}),i.$leftMain&&(i.$leftMain[0].scrollTop=i.$main[0].scrollTop),i.$rightMain&&(i.$rightMain[0].scrollTop=i.$main[0].scrollTop),i.$details.length){var t=i.$view.find("td");i.$details.map(function(e){e.remove()}),t.each(function(e,t){i.getBindData(t).$detail=void 0})}})}(),function(){i.$view.on("click",function(n){function a(e){var n=e.attr("jy-event"),o=e.attr("jy-stop");if(n){var l={dom:r[0]};if(s[0]){var d=i.getBindData(s[0]);d&&(l.data=t.delInnerProperty(d.rowData))}i.trigger(n,l)}e[0]&&e[0]!==i.$view[0]&&!o&&a(e.parent())}var r=e(n.target),s=r.parents("td");a(r)}),i.$view.delegate("tbody","click",function(){i.tempData.stopBodyEvent=!0}),i.$view.delegate("tbody tr","click",function(){var e=i.getBindData(this);i.trigger("row",{dom:this,data:t.delInnerProperty(e.rowData)})}),i.$view.delegate("tbody td","click",function(){var e=i.getBindData(this);i.trigger("col",{dom:this,data:e.colData,
rowData:t.delInnerProperty(e.rowData)})})}(),function(){i.$view.on("keydown",function(t){if(i.enterSave){var n=e(t.target).parents("td");if(n.length&&13==t.keyCode){var a=i.getBindData(n[0]);i.save(a.rowData._jy_key)}}}),i.$view.on(n,function(t){var n=e(t.target);if(!n.attr("jy-event")){var a="TD"==t.target.tagName.toUpperCase()?n:n.parents("td");if(a.length){var r=i.getBindData(a[0]),s=r.rowData._jy_key,o=!0,l=i.getEditAble(r);r.editing||(i.autoSave&&(o=i.save()),l&&r.col.field&&o&&i.edit(s,r.col.field)),l&&r.col.field&&(i.tempData.stopBodyEvent=!0)}}})}(),function(){function n(t){t&&t.map(function(t){e(t).addClass(h.hover)})}function a(t){t&&t.map(function(t){e(t).removeClass(h.hover)})}l<=8||i.$view.delegate("tbody tr","mousemove",function(e){var r=i.getBindData(this),s=r.rowData._jy_key;t.cancelNextFrame(i.timers.hoverInTimer),i.timers.hoverInTimer=t.nextFrame(function(){a(i.tempData.hoverTrs),i.tempData.hoverTrs=[],i.getTrByKey(s).each(function(e,t){i.tempData.hoverTrs.push(t)}),i.$leftHeaderMain&&i.getTrByKey(s,"left").each(function(e,t){i.tempData.hoverTrs.push(t)}),i.$rightHeaderMain&&i.getTrByKey(s,"right").each(function(e,t){i.tempData.hoverTrs.push(t)}),n(i.tempData.hoverTrs)},0)}).delegate("tbody tr","mouseleave",function(e){t.cancelNextFrame(i.timers.hoverOutTimer),i.timers.hoverOutTimer=t.nextFrame(function(){a(i.tempData.hoverTrs),i.tempData.hoverTrs=void 0})})}(),function(){i.$view.delegate("th","mousemove",function(n){var a=this;t.cancelNextFrame(i.timers.resizeTimer),i.timers.resizeTimer=t.nextFrame(function(){var t=i.getBindData(a);if(!i.tempData.resizeData&&!t.col.child&&-1==["radio","checkbox"].indexOf(t.col.type)){var r=e(a);n.offsetX>a.clientWidth-10?(r.addClass(h.colResize),t.$detailIcon&&t.$detailIcon.remove(),t.$detailIcon=void 0):r.removeClass(h.colResize)}})}),i.$view.delegate("th","mousedown",function(t){if(!i.tempData.resizeData&&e(this).hasClass(h.colResize)){i.tempData.resizeData={pageX:t.pageX,th:this,left:e(this).offset().left-i.$view.offset().left,originWidth:this.clientWidth-d};var n=i.$toolbar?i.$toolbar[0].offsetHeight:0,a=i.$view[0].clientHeight-n-(i.$pager?i.$pager[0].offsetHeight:0);i.tempData.$resizeLine=e('<div class="'+h.resizeLine+'"></div>'),i.tempData.$resizeLine.css({top:n,height:a}),i.$viewBorder.append(i.tempData.$resizeLine),i.$view.addClass(h.colResize)}})}(),function(){i.ellipsis&&i.$view.delegate("th,td","mousemove",function(){var n=this;t.cancelNextFrame(i.timers.overflowTimer),i.timers.overflowTimer=t.nextFrame(function(){var a=e(n);if(!i.tempData.resizeData&&!a.hasClass(h.colResize)){var d=i.getBindData(n),c=d.col,u=a.children("."+h.cell);if(!d.$detailIcon&&"text"==c.type&&!d.editing&&t.checkOverflow(u[0].children[0])){var p=e('<div class="'+h.detailIcon+'">'+s+"</div>");d.$detailIcon=p,u.append(p),p.on("click",function(){var t=e('<div class="'+h.tipClose+'">'+o+"</div>"),n=u.offset(),a=document.documentElement.scrollTop||document.body.scrollTop||0;p.remove(),p=e('<div class="'+h.detail+'">'+e(u[0].children[0]).html()+"</div>"),p.append(t),r.append(p),d.$detail=p,i.$details.push(p),p.css({top:n.top-1+(l<=6?a:0),left:n.left-1}),t.on("click",function(){d.$detail=void 0,d.$detailIcon=void 0,p.remove()})})}}})}).delegate("th,td","mouseleave",function(){var e=i.getBindData(this);e.$detailIcon&&e.$detailIcon.remove(),e.$detailIcon=void 0,t.cancelNextFrame(i.timers.overflowTimer)})}(),function(){i.$view.delegate("th","click",function(t){var n=e(this),a=i.getBindData(this),r=a.col;if(r.sortAble&&!i.tempData.resizeData&&!n.hasClass(h.colResize)){var s=n.find("div."+h.sortUp),o=n.find("div."+h.sortDown);i.$view.find("div."+h.sortConfirm).removeClass(h.sortConfirm),i.sortObj.field!=r.field&&(i.sortObj.field=r.field,i.sortObj.sort=""),i.sortObj.sort?"asc"==i.sortObj.sort?(i.sortObj.sort="desc",o.addClass(h.sortConfirm)):i.sortObj.sort="":(i.sortObj.sort="asc",s.addClass(h.sortConfirm)),i.renderTableBody(!0)}})}(),function(){i.on("filter",function(e){i.$filter?(i.$filter.toggle(),i.$filter.is(":visible")?i.$filter.addClass(h.downAnimation):i.$filter.removeClass(h.downAnimation)):(i.createFilter(e.dom),i.$filter.addClass(h.downAnimation)),i.$exports&&i.$exports.hide(),i.tempData.stopBodyEvent=!0}),i.on("exports",function(e){i.$exports.toggle(),i.$filter&&i.$filter.hide(),i.tempData.stopBodyEvent=!0,i.$exports.is(":visible")?i.$exports.addClass(h.downAnimation):i.$exports.removeClass(h.downAnimation)}),i.on("exports-excel",function(e){i.exportsExecl(),i.$exports.hide()}),i.on("exports-csv",function(e){i.exportsCsv(),i.$exports.hide()}),i.on("print",function(e){i.print()})}()},n.prototype.createFilter=function(i){var n=this,a=e('<ul class="'+h.filter+'"></ul>'),r=[];this.$filter=a,this.multilevelCols.map(function(e){for(var i=0;i<e.length;i++){var n=e[i];if(n.holder)for(n=n.parent;n&&n.holder;)n=n.parent;n&&"text"==n.type&&-1==r.indexOf(n)&&(r.push(n),a.append("<li>"+t.htmlTemplate(u.checkbox,{checked:!n.hidden,title:n.title,key:n._key})+"</li>"))}}),e(i).append(a),a.delegate("li","click",function(){var t=e(this).children("div."+h.checkbox),i=n.getColByKey(t.attr("data-key"));n.toggleCol(i)})},n.prototype.exportsExecl=function(){if(window.btoa){var t=e(this.$headerTable[0].outerHTML),i=this.getColByType("radio")||this.getColByType("checkbox");t.append(this.$table.children("tbody").html()),i&&t.find('[data-col="'+i._key+'"]').remove(),t.find("th,td").each(function(t,i){var n=e(i);"none"==i.style.display?n.remove():n.text(n.text())});var n='<html xmlns:o="urn:schemas-microsoft-com:office:office"                xmlns:x="urn:schemas-microsoft-com:office:excel"                 xmlns="http://www.w3.org/TR/REC-html40">                <head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet>                <x:Name>Sheet1</x:Name>                <x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet>                </x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e                </head><body><table>'+t.html()+"</table></body></html>";window.location.href="data:application/vnd.ms-excel;base64,"+window.btoa(unescape(encodeURIComponent(n)))}else this.showMsg("该浏览器不支持导出，请使用谷歌浏览器")},n.prototype.exportsCsv=function(){var e=this.cols,i="",n="";e.map(function(e){i+=e.title+","}),i=i.slice(0,-1)+"\n",this.sortedData.map(function(i){var a="";e.map(function(e){if("text"==e.type){var n=i[e.field];if(e.template){var r=document.createElement("div");n=e.template(i[e.field],i,i._jy_key,e),r.innerHTML=n,n=r.innerText}else e.values&&(n="",cellValue instanceof Array?(e.values.map(function(e){cellValue&&cellValue.length&&t.indexOf(cellValue,e.value)>-1&&(n+=","+e.label)}),n=n.slice(1)):e.values.map(function(e){e.value==cellValue&&(n=e.label)}));a+=n+","}}),a=a.slice(0,-1)+"\n",n+=a});var a="data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(n),r=document.createElement("a");r.href=a,r.download="下载.csv",r.click()},n.prototype.print=function(){if(window.print){var t=e(this.$headerTable[0].outerHTML),i=window.open("","_blank","toolbar=no,scrollbars=yes,menubar=no");t.append(this.$table.children("tbody").html()),this.cols.map(function(e){"text"!==e.type&&t.find('th[data-col="'+e._key+'"],td[data-col="'+e._key+'"]').remove()}),t.find("th,td").each(function(t,i){var n=e(i);n.text(n.text())}),i.document.write("<head><style>                table{                    width:100%;                    border-collapse:collapse;                    border-spacing:0;                }                th,td{                    padding:5px 10px;                    border:1px solid #ccc;                    font-weight:normal;                    color:#666;                    text-align:left;                }</style></head><body>"+t[0].outerHTML+"</body>"),i.document.close(),i.print(),i.close()}else this.showMsg("该浏览器不支持打印，请使用谷歌浏览器")},{render:function(e){var i=new n(e);return{on:i.on,once:i.once,trigger:i.trigger,addRow:function(e){var e=t.deepAssign(e);e.key=i.getKeyById(e.id),i.addRow(e)},deleteRow:function(e){var t=i.getKeyById(e);void 0!==t&&i.deleteRow(t)},checkRow:function(e,t){var n=i.getKeyById(e);void 0!==n&&i.checkRow(n,t)},checkAll:function(e){i.checkAll(e)},save:function(e,t){var n=i.getKeyById(e);i.save(n,t)},cancel:function(e,t){var n=i.getKeyById(e);void 0!==n&&i.cancel(n,t)},edit:function(e,t){var n=i.getKeyById(e);void 0!==n&&i.edit(n,t)},setData:function(e){var e=t.deepAssign(e);e.key=i.getKeyById(e.id),void 0!==e.key&&i.setData(e)},getView:function(){return i.$view},toggleCol:function(e,t){var n=i.getColByField(e);i.toggleCol(n,t)},reload:i.reload.bind(i),reloadData:i.reloadData.bind(i),getData:i.getData.bind(i),getDataById:i.getDataById.bind(i),setArea:i.setArea.bind(i),setColWidth:i.setColWidth.bind(i),showLoading:i.showLoading.bind(i),hideLoading:i.hideLoading.bind(i),showEmepty:i.showEmepty.bind(i),exportsExecl:i.exportsExecl.bind(i),exportsCsv:i.exportsCsv.bind(i),print:i.print.bind(i)}}}}"function"==typeof define&&define.amd?define("modules/table",["./jquery","./common","./pager"],function(t,i,n){return e(t,i,n)}):(window.JyUi=window.JyUi||{},window.JyUi.Table=e(window.$,window.JyUi.Common,window.JyUi.Pager))}(window),function(e){function t(t,i){function n(e){var t=i.getEvent();this.on=t.on,this.once=t.once,this.trigger=t.trigger,this.option=Object.assign({},e),this.render()}var a=e.document.body,r=t(a),s={transfer:'<div class="jy-transfer"></div>',left:'<div class="jy-transfer-left">                <div class="jy-transfer-title">                    <div class="jy-transfer-checkbox"><span class="jy-checkbox-icon"><i>&#xe737;</i></span><span><%-(title||"&nbsp;")%></span></div>                </div>                <div class="jy-transfer-search">                    <div class="jy-transfer-search-container"><i>&#xe642;</i><input class="jy-transfer-search-input" placeholder="关键词搜索" /></div>                </div>                <div class="jy-transfer-left-body"><div class="jy-transfer-empty">无数据</div></div>            </div>',right:'<div class="jy-transfer-right">                <div class="jy-transfer-title">                    <div class="jy-transfer-checkbox"><span class="jy-checkbox-icon"><i>&#xe737;</i></span><span><%-(title||"&nbsp;")%></span></div>                </div>                <div class="jy-transfer-search">                    <div class="jy-transfer-search-container"><i>&#xe642;</i><input class="jy-transfer-search-input" placeholder="关键词搜索" /></div>                </div>                <div class="jy-transfer-right-body"><div class="jy-transfer-empty">无数据</div></div>            </div>',center:'<div class="jy-transfer-center"><div class="jy-transfer-btns"></div></div>',item:'<div class="jy-transfer-item" data-key="<%-key%>">                <div class="jy-transfer-checkbox" data-key="<%-key%>"><span class="jy-checkbox-icon"><i>&#xe737;</i></span><span><%-(title||"&nbsp;")%></span></div>            </div>',leftBtn:'<div class="jy-transfer-btn">&#xe612;</div>',rightBtn:'<div class="jy-transfer-btn">&#xe61a;</div>'},o={transfer:"jy-transfer",left:"jy-transfer-left",right:"jy-transfer-right",leftBody:"jy-transfer-left-body",rightBody:"jy-transfer-right-body",item:"jy-transfer-item",title:"jy-transfer-title",search:"jy-transfer-search",btns:"jy-transfer-btns",btn:"jy-transfer-btn",activeBtn:"jy-transfer-btn-active",checkbox:"jy-transfer-checkbox",checked:"jy-transfer-checked",disabled:"jy-transfer-disabled",checkedDisabled:"jy-tree-checked-disabled",empty:"jy-transfer-empty"},l={render:function(e){var t=new n(e);return{on:t.on,once:t.once,trigger:t.trigger,reload:function(e){t.reload(e)},destroy:function(){t.$transfer.remove()},getData:function(){return t.value.map(function(e){return i.delInnerProperty(e)})}}}};return n.prototype.render=function(){var e=null;this.stretch=this.option.stretch||!1,this.width=this.option.width||200,this.height=this.option.height||320,this.search=this.option.search||!1,e="function"==typeof this.option.searchMethod?this.option.searchMethod:function(e,t){return t.title.indexOf(e)>-1},this.searchMethod=function(t,n){var a=i.deepAssign({},n);return a.children=void 0,a=i.deepAssign({},a),e(t,a)},this.$elem=t(this.option.elem),this.$elem=this.$elem.length?this.$elem:r,this.leftData=Object.assign([],this.option.data),this.rightData=Object.assign([],this.option.value),this.$transfer=t(s.transfer),this.$left=t(i.htmlTemplate(s.left,{title:this.option.leftTitle||"列表1"})),this.$right=t(i.htmlTemplate(s.right,{title:this.option.rightTitle||"列表2"})),this.$leftBody=this.$left.children("."+o.leftBody),this.$rightBody=this.$right.children("."+o.rightBody),this.$leftTitle=this.$left.children("."+o.title),this.$rightTitle=this.$right.children("."+o.title),this.$leftSearch=this.$left.children("."+o.search),this.$rightSearch=this.$right.children("."+o.search),this.$leftBtn=t(s.leftBtn),this.$rightBtn=t(s.rightBtn),this.$center=t(s.center),this.idKeyMap={},this.dataMap={},this.key=1,this.showList=[],this.appendItem(this.leftData,this.$leftBody),this.appendItem(this.rightData,this.$rightBody),this.setAllChecked(),this.setBtnActive(),this.setEmpty(),this.stretch&&(this.width=this.$elem[0].clientWidth||this.$elem[0].offsetWidth,this.width=(this.width-84)/2),this.search&&(this.$leftSearch.show(),this.$rightSearch.show()),this.$left.css({width:this.width,height:this.height}),this.$center.css({height:this.height}),this.$right.css({width:this.width,height:this.height}),this.$center.children("."+o.btns).append(this.$rightBtn).append(this.$leftBtn),this.$transfer.append(this.$left),this.$transfer.append(this.$center),this.$transfer.append(this.$right),this.$elem.append(this.$transfer),this.bindEvent()},n.prototype.reload=function(e){this.option=Object.assign({},e||{}),this.$transfer.remove(),this.render()},n.prototype.appendItem=function(e,n){var a=this;e.map(function(e){e._jy_key=e._jy_key||a.key++;var r=t(i.htmlTemplate(s.item,{title:e.title,key:e._jy_key}));void 0!==e.id&&(a.idKeyMap[e.id]=e._jy_key),a.dataMap[e._jy_key]=e,n.append(r),e._jy_hidden=!1,e._jy_checked=e._jy_checked||e.checked&&!e.disabled,e._jy_disabled=e._jy_disabled||e.disabled,e._jy_checked&&e._jy_disabled?r.addClass(o.checkedDisabled):(e._jy_checked&&r.addClass(o.checked),e._jy_disabled&&r.addClass(o.disabled))})},n.prototype.bindEvent=function(){var e=this;this.$transfer.delegate("."+o.item,"click",function(){var i=t(this),n=i.attr("data-key"),a=e.dataMap[n],r=!a._jy_checked;return!a._jy_disabled&&(r?(a._jy_checked=!0,i.addClass(o.checked)):(a._jy_checked=!1,i.removeClass(o.checked)),e.setAllChecked(),e.setBtnActive(),!1)}),this.$transfer.delegate("."+o.title,"click",function(){var i=t(this),n=!1,a=i.parent("."+o.left).children("."+o.leftBody),r=e.getEnable(e.leftData);a.length||(a=e.$rightBody,r=e.getEnable(e.rightData)),n=e.getChecked(r).length!=r.length,n?i.addClass(o.checked):i.removeClass(o.checked),r.map(function(e){e._jy_disabled||(e._jy_checked=n)}),a.children("."+o.item).each(function(i,a){var r=t(a),s=e.dataMap[r.attr("data-key")];s._jy_disabled||s._jy_hidden||(n?r.addClass(o.checked):r.removeClass(o.checked))}),e.setBtnActive()}),this.$leftBtn.on("click",function(){var n=e.getChecked(e.rightData);n.length&&(e.leftData=e.leftData.concat(n),e.rightData=e.rightData.filter(function(e){return!e._jy_checked}),n.map(function(t){t._jy_checked=!1,e.leftSearchText&&!e.searchMethod(e.leftSearchText,t)?t._jy_hidden=!0:t._jy_hidden=!1}),e.$rightBody.children("."+o.checked).each(function(i,n){var a=t(n),r=e.dataMap[a.attr("data-key")];a.removeClass(o.checked),e.$leftBody.append(a),r._jy_hidden&&a.hide()}),t(this).removeClass(o.activeBtn),e.$leftTitle.removeClass(o.checked),e.$rightTitle.removeClass(o.checked),e.setEmpty(),e.trigger("change",{data:e.rightData.map(function(e){return i.delInnerProperty(e)}),dom:this}))}),this.$rightBtn.on("click",function(){var n=e.getChecked(e.leftData);n.length&&(e.rightData=e.rightData.concat(n),e.leftData=e.leftData.filter(function(e){return!e._jy_checked}),n.map(function(t){t._jy_checked=!1,e.rightSearchText&&!e.searchMethod(e.rightSearchText,t)?t._jy_hidden=!0:t._jy_hidden=!1}),e.$leftBody.children("."+o.checked).each(function(i,n){var a=t(n),r=e.dataMap[a.attr("data-key")];a.removeClass(o.checked),e.$rightBody.append(a),r._jy_hidden&&a.hide()}),t(this).removeClass(o.activeBtn),e.$leftTitle.removeClass(o.checked),e.$rightTitle.removeClass(o.checked),e.setEmpty(),e.trigger("change",{data:e.rightData.map(function(e){return i.delInnerProperty(e)}),dom:this}))}),this.$leftSearch.find("input").on("input propertychange",function(){e.leftSearchText=this.value,clearTimeout(e.bindEvent.inputTimer),e.bindEvent.inputTimer=setTimeout(function(){e.leftData.map(function(t){e.leftSearchText&&!e.searchMethod(e.leftSearchText,t)?t._jy_hidden=!0:t._jy_hidden=!1}),e.$leftBody.children("."+o.item).each(function(i,n){var a=t(n);e.dataMap[a.attr("data-key")]._jy_hidden?a.hide():a.show()}),e.setAllChecked(),e.setBtnActive()},50)}),this.$rightSearch.find("input").on("input propertychange",function(){e.rightSearchText=this.value,clearTimeout(e.bindEvent.inputTimer),e.bindEvent.inputTimer=setTimeout(function(){e.leftData.map(function(t){e.rightSearchText&&!e.searchMethod(e.rightSearchText,t)?t._jy_hidden=!0:t._jy_hidden=!1}),e.$rightBody.children("."+o.item).each(function(i,n){var a=t(n);e.dataMap[a.attr("data-key")]._jy_hidden?a.hide():a.show()}),e.setAllChecked(),e.setBtnActive()})})},n.prototype.setBtnActive=function(){this.getChecked(this.leftData).length>0?this.$rightBtn.addClass(o.activeBtn):this.$rightBtn.removeClass(o.activeBtn),this.getChecked(this.rightData).length>0?this.$leftBtn.addClass(o.activeBtn):this.$leftBtn.removeClass(o.activeBtn)},n.prototype.setAllChecked=function(){var e=null,t=null;e=this.getChecked(this.leftData),t=this.getEnable(this.leftData),e.length==t.length&&t.length?this.$leftTitle.addClass(o.checked):this.$leftTitle.removeClass(o.checked),e=this.getChecked(this.rightData),t=this.getEnable(this.rightData),e.length==t.length&&t.length?this.$rightTitle.addClass(o.checked):this.$rightTitle.removeClass(o.checked)},n.prototype.setEmpty=function(){var e=this.$leftBody.children("."+o.empty);this.leftData.length?e.hide():e.show(),e=this.$rightBody.children("."+o.empty),this.rightData.length?e.hide():e.show()},n.prototype.getKeyById=function(e){return this.idKeyMap[e]},n.prototype.getChecked=function(e){return e.filter(function(e){return e._jy_checked&&!e._jy_hidden})},n.prototype.getEnable=function(e){return e.filter(function(e){return!e._jy_disabled&&!e._jy_hidden})},n.prototype.getTransfered=function(e){var t=[];return this.rightData.map(function(e){t.push(i.delInnerProperty({},e))}),t},l}"function"==typeof define&&define.amd?define("modules/transfer",["./jquery","./common"],function(e,i){return t(e,i)}):(e.JyUi=e.JyUi||{},e.JyUi.Transfer=t(e.$,e.JyUi.Common))}(window),function(e){function t(t,i){function n(e){var t=i.getEvent();this.on=t.on,this.once=t.once,this.trigger=t.trigger,this.option=Object.assign({},e),this.render()}var a=i.getIeVersion(),r={tree:'<div class="jy-tree">                <div class="jy-tree-search">                    <div class="jy-tree-search-container"><i>&#xe642;</i><input class="jy-tree-search-input" placeholder="关键词搜索" /></div>                </div>            </div>',ul:'<div class="jy-tree-ul"><%if(style=="line"){%><i class="jy-tree-v-line"></i><%}%></div>',item:'<div class="jy-tree-item" data-key="<%-key%>"><%if(!isRoot&&style=="line"){%><i class="jy-tree-h-line"></i><%}%></div>',title:'<div class="jy-tree-item-title" data-key="<%-key%>">                <%if(isChild){%>                <div class="jy-tree-child-icon">&#xe6fd;</div>                <%}else{%>                <div class="jy-tree-click-icon <%-style=="arrow"?"jy-tree-arrow":""%>"><%-style=="line"?"&#xe95e;":"&#xe734;"%></div>                <div class="jy-tree-click-icon <%-style=="arrow"?"jy-tree-arrow":""%>" style="display:none;"><%-style=="line"?"&#xe62d;":"&#xe74b;"%></div>                <%}%>                <%if(showCheckbox){%>                <div class="jy-tree-checkbox" data-key="<%-key%>"><span class="jy-checkbox-icon"><i>&#xe737;</i></span><span>&nbsp;</span></div>                <%}%>                <span class="jy-tree-text"><%-title%></span>            </div>',search:""},s={checkbox:"jy-tree-checkbox",checked:"jy-tree-checked",disabled:"jy-tree-disabled",checkedDisabled:"jy-tree-checked-disabled",search:"jy-tree-search",ul:"jy-tree-ul",vLine:"jy-tree-v-line",item:"jy-tree-item",title:"jy-tree-item-title",clickIcon:"jy-tree-click-icon",text:"jy-tree-text",downAnimation:"jy-tree-animation-down",upAnimation:"jy-tree-animation-up",ieHack:"jy-tree-ie-hack"},o={render:function(e){var t=new n(e);return{on:t.on,once:t.once,trigger:t.trigger,getChecked:t.getChecked.bind(t),spread:function(e){var i=t.getKeyById(e);void 0!==i&&t.toggle(i,!0)},close:function(e){var i=t.getKeyById(e);void 0!==i&&t.toggle(i,!1)},reload:function(e){t.reload(e)},destroy:function(){t.$tree.remove()}}}};return n.prototype.render=function(){var e=null;this.width=this.option.width||"auto",this.height=this.option.height||"atuo",this.showCheckbox=this.option.showCheckbox,this.spread=this.option.spread,this.style=this.option.style,this.onlyIconSwitch=this.option.onlyIconSwitch,this.searchVisible=this.option.search,e="function"==typeof this.option.searchMethod?this.option.searchMethod:function(e,t){return t.title.indexOf(e)>-1},this.searchMethod=function(t,n){var a=i.deepAssign({},n);return a.children=void 0,a=i.deepAssign({},a),e(t,a)},this.$elem=t(this.option.elem),this.data=Object.assign([],this.option.data),this.$tree=t(r.tree),this.$search=this.$tree.children("div."+s.search),this.idKeyMap={},this.dataMap={},this.key=0,this.showList=[],-1==["arrow","line"].indexOf(this.style)&&(this.style="line"),this.searchVisible&&this.$search.show(),this.$tree.css({width:this.width,height:this.height}),this.appendItem(this.data,this.$tree),this.$elem.append(this.$tree),this.bindEvent(),this.showList.map(function(e){var i=t(e),n=i.children("div."+s.title),r=i.children("."+s.ul);n.children("div."+s.clickIcon).toggle(),r.show(),a<=6&&setTimeout(function(){r.children("div."+s.vLine).css("height",r[0].offsetHeight),r.parents("div."+s.ul).each(function(e,i){t(i).children("."+s.vLine).css("height",i.offsetHeight),console.log(i.offsetHeight)})})}),a<=7&&this.$tree.addClass(s.ieHack)},n.prototype.reload=function(e){this.option=Object.assign({},e||{}),this.$tree.remove(),this.render()},n.prototype.appendItem=function(e,n){var a=this;e.map(function(e,o){e._jy_key=a.key;var l=t(i.htmlTemplate(r.item,{isRoot:!e._jy_parent,style:a.style,key:e._jy_key})),d=t(i.htmlTemplate(r.title,{title:e.title,isRoot:!e._jy_parent,isChild:!e.children||!e.children.length,showCheckbox:a.showCheckbox,style:a.style,key:e._jy_key}));if(void 0!==e.id&&(a.idKeyMap[e.id]=a.key),a.dataMap[a.key]=e,a.key++,l.append(d),n.append(l),e._jy_checked=e._jy_checked||e.checked,e._jy_disabled=e._jy_disabled||e.disabled,e._jy_checked&&a.showCheckbox&&e._jy_disabled?d.addClass(s.checkedDisabled):(e._jy_disabled&&d.addClass(s.disabled),e._jy_checked&&a.showCheckbox&&d.addClass(s.checked)),e.children&&e.children.length){var c=t(i.htmlTemplate(r.ul,{style:a.style}));e.children.map(function(t){t._jy_parent=e,t._jy_checked=e._jy_checked,t._jy_disabled=e._jy_disabled}),(a.spread||e.spread)&&(a.showList.push(l[0]),l.parents("."+s.item).each(function(e,t){-1==a.showList.indexOf(t)&&a.showList.push(t)})),l.append(c),a.appendItem(e.children,c)}})},n.prototype.bindEvent=function(){var n=this;this.$tree.delegate("."+s.checkbox,"click",function(){var e=t(this),a=e.attr("data-key"),r=n.dataMap[a];if(!r._jy_disabled)return n.checkItem(a),n.trigger("change",{data:i.delInnerProperty(r),checked:r._jy_checked||!1,dom:this}),!1}),this.$tree.delegate("."+s.clickIcon,"click",function(){var e=t(this).parent("."+s.title),a=e.attr("data-key"),r=n.dataMap[a];return n.toggle(a),n.trigger(e.next("."+s.ul).is(":visible")?"spread":"close",{data:i.delInnerProperty(r),dom:this}),!1}),this.$tree.delegate("."+s.text,"click",function(){var a=t(this).parent("."+s.title),r=a.attr("data-key"),o=n.dataMap[r];return o.children&&o.children.length?!n.onlyIconSwitch&&n.toggle(r):a.children("div."+s.checkbox).trigger("click"),o.href&&!o._jy_disabled&&e.open(o.href),n.trigger("click",{data:i.delInnerProperty(o),dom:this}),!1}),this.$search.find("input").on("input propertychange",function(){n.search(this.value)})},n.prototype.refreshCheckbox=function(){var e=this;this.$tree.find("div."+s.title).each(function(i,n){var a=t(n),r=a.attr("data-key"),o=e.dataMap[r];o._jy_disabled||(o._jy_checked?a.addClass(s.checked):a.removeClass(s.checked))})},n.prototype.toggle=function(i,n){var r=this,o=this.$tree.find("."+s.title+'[data-key="'+i+'"]'),l=o.next("."+s.ul),d=l.is(":visible");l.length&&(void 0!==n&&(d&&n||!d&&!n)||(l.show(),o.children("div."+s.clickIcon).toggle(),d?e.requestAnimationFrame?function(e){function t(){r.animationTimer=requestAnimationFrame(function(){n-=a,n>0?(e.css("height",n),t()):e.css({height:"auto"}).hide()})}var i=e[0].clientHeight,n=i,a=i/10;cancelAnimationFrame(r.animationTimer),t()}(l):l.hide():e.requestAnimationFrame&&function(e){function t(){r.animationTimer=requestAnimationFrame(function(){n+=a,n<i?(e.css("height",n),t()):e.css({height:"auto"})})}var i=e[0].clientHeight,n=0,a=i/10;cancelAnimationFrame(r.animationTimer),t()}(l),!d&&a<=6&&setTimeout(function(){l.children("div."+s.vLine).css("height",l[0].offsetHeight),l.parents("div."+s.ul).each(function(e,i){t(i).children("."+s.vLine).css("height",i.offsetHeight)})})))},n.prototype.checkItem=function(e,t){var i=this.dataMap[e];if(i._jy_checked=Boolean(i._jy_checked),void 0===t&&(t=!i._jy_checked),t=Boolean(t),i._jy_checked!==t){i._jy_checked=t;var n=i.children||[],i=i._jy_parent;for(n=n.concat([]);i;){if(t&&!i._jy_checked)i._jy_checked=!0;else if(!t&&i._jy_checked){i._jy_checked=!1;for(var a=0;a<i.children.length;a++)if(i.children[a]._jy_checked){i._jy_checked=!0;break}}i=i._jy_parent}for(;n.length;){var r=n.shift();r._jy_disabled||r._jy_hidden||(r._jy_checked=t,r.children&&r.children.map(function(e){n.push(e)}))}this.refreshCheckbox()}},n.prototype.validateCheck=function(){function e(t){var i=t._jy_checked;if(t._jy_hidden)i=!1;else{if(t.children&&!t._jy_hidden){i=!1;for(var n=0;n<t.children.length;n++)if(e(t.children[n])){i=!0;break}}t._jy_checked=i}return i}this.data.map(function(t){e(t)})},n.prototype.search=function(e){for(var n=this,a=[],r=this.data.concat([]);r.length;){var o=r.shift();if(this.searchMethod(e,o)&&-1==a.indexOf(o._jy_key)){var l=o._jy_parent;for(a.push(o._jy_key);l;)-1==a.indexOf(l._jy_key)&&a.push(l._jy_key),l=l._jy_parent}o.children&&o.children.map(function(e){r.push(e)})}this.$tree.find("div."+s.item).each(function(e,r){var s=t(r),o=s.attr("data-key"),l=n.dataMap[o];i.indexOf(a,o)>-1?(s.show(),l._jy_hidden=!1):(s.hide(),l._jy_hidden=!0)}),this.validateCheck(),this.refreshCheckbox()},n.prototype.getKeyById=function(e){return this.idKeyMap[e]},n.prototype.getChecked=function(){var e=this.data.concat([]),t=[];if(!this.showCheckbox)return[];for(;e.length;){var n=e.shift();!n._jy_checked||n._jy_hidden||n.children&&n.children.length||t.push(i.delInnerProperty(n)),n.children&&n.children.map(function(t){e.push(t)})}return t},o}"function"==typeof define&&define.amd?define("modules/tree",["./jquery","./common"],function(e,i){return t(e,i)}):(e.JyUi=e.JyUi||{},e.JyUi.Tree=t(e.$,e.JyUi.Common))}(window),function(e){function t(t,i){function n(e){var t=i.getEvent();this.on=t.on,this.once=t.once,this.trigger=t.trigger,this.option=Object.assign({},e),this.render()}var a={input:'<input type="file" name="file" class="jy-upload-file" <%-multiple?\'multiple="multiple"\':""%>/>',form:'<form encType="multipart/form-data" method="post" action="<%-url%>" target="<%-target%>"></form>',iframe:'<iframe class="jy-upload-iframe" name="<%-name%>"></iframe>',upload:'<div class="jy-upload"></div>'},r=i.getEvent(),s=i.getIeVersion(),o=0;return n.prototype.render=function(){if(this.$elem=t(this.option.elem),this.fileName=this.option.fileName||"file",this.multiple=this.option.multiple||"",this.limit=Number(this.option.limit)||1/0,this.autoUpload=void 0===this.option.autoUpload||this.option.autoUpload,"input"==this.$elem[0].tagName.toLowerCase()&&"file"==this.$elem[0].type?this.$fileInput=this.$elem:this.$fileInput=t(i.htmlTemplate(a.input,{multiple:this.multiple})),s<9){var n=t(a.upload);n.insertAfter(this.$elem),this.iframeName="iframe-"+o++,this.$iframe=t(i.htmlTemplate(a.iframe,{name:this.iframeName})),this.$form=t(i.htmlTemplate(a.form,{url:this.option.url,target:this.iframeName})),this.$form.append(this.$fileInput),n.append(this.$form),t(e.document.body).append(this.$iframe)}else this.$fileInput.hide(),this.$elem!=this.$fileInput&&this.$fileInput.insertAfter(this.$elem);this.bindEvent()},n.prototype.bindEvent=function(){var t=this;this.$elem!=this.$fileInput&&this.$elem.on("click",function(){t.$fileInput.click()}),this.$fileInput.on("change",function(){for(var e=this.files,i="",n=0;n<e.length;n++)if(i+="<div>"+e[n].name+"</div>",e[n].size>=t.limit)return void t.trigger("size",{data:e[n]});t.trigger("change",{dom:t.$fileInput[0]}),t.autoUpload&&t.upload()}),this.$iframe&&this.$iframe.on("load",function(){var i={};try{i={data:t.$iframe[0].contentWindow.document.body.innerHTML},e.JSON&&(i=e.JSON&&e.JSON.parse(i.data))}catch(e){}t.trigger("success",i)})},n.prototype.upload=function(){var e=this;if(!this.$fileInput[0].value)return void i.showMsg("请选择文件",{icon:"danger"});this.trigger("before",{dom:e.$fileInput[0]}),this.$iframe?this.$form.submit():function(){for(var i=e.$fileInput[0].files,n=0;n<i.length;n++){var a=i[n],r=new FormData;r.append("file",a),t.ajax({type:"post",url:e.option.url,data:r,processData:!1,contentType:!1,success:function(t){e.trigger("success",t)},error:function(t){e.trigger("error",{data:t,file:a})}})}}()},{on:r.on,once:r.once,trigger:r.trigger,render:function(e){var t=new n(e);return{on:t.on,once:t.once,trigger:t.trigger,upload:function(){t.autoUpload||t.upload()}}}}}"function"==typeof define&&define.amd?define("modules/upload",["./jquery","./common"],function(e,i){return t(e,i)}):(e.JyUi=e.JyUi||{},e.JyUi.Upload=t(e.$,e.JyUi.Common))}(window),"function"==typeof define&&define.amd&&define("index",["modules/common","modules/date","modules/dialog","modules/form","modules/Select","modules/menu-nav","modules/pager","modules/tab","modules/table","modules/transfer","modules/tree","modules/upload"],function(e,t,i,n,a,r,s,o,l,d,c,h){return{Common:e,Date:t,Dialog:i,Form:n,Select:a,MenuNav:r,Pager:s,Tab:o,Table:l,Transfer:d,Tree:c,Upload:h}});