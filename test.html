<!--
 * @Author: lisong
 * @Date: 2021-04-20 16:01:12
 * @Description: 
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/song-ui.css">
    <style>
        body {
            padding: 20px;
        }

        .song-field {
            margin-bottom: 50px;
        }

        .color-cont {
            display: inline-block;
            width: 100px;
            height: 50px;
            line-height: 50px;
            color: #fff;
            text-align: center;
        }

        .col-cont {
            padding: 10px;
            background-color: #5FB878;
            border: 1px solid #fff;
            font-size: 20px;
            color: #fff;
            text-align: center;
        }
    </style>
</head>

<body>
    <fieldset class="song-field">
        <legend>栅格系统</legend>
        <div class="song-field-box">
            <div class="song-row">
                <div class="song-col-1 song-border-success">
                    <div class="col-cont">1</div>
                </div>
                <div class="song-col-11 song-border-success">
                    <div class="col-cont">11</div>
                </div>
            </div>
            <div class="song-row">
                <div class="song-col-2 song-border-success">
                    <div class="col-cont">2</div>
                </div>
                <div class="song-col-10 song-border-success">
                    <div class="col-cont">10</div>
                </div>
            </div>
            <div class="song-row">
                <div class="song-col-3 song-border-success">
                    <div class="col-cont">3</div>
                </div>
                <div class="song-col-9 song-border-success">
                    <div class="col-cont">9</div>
                </div>
            </div>
            <div class="song-row">
                <div class="song-col-4 song-border-success">
                    <div class="col-cont">4</div>
                </div>
                <div class="song-col-8 song-border-success">
                    <div class="col-cont">8</div>
                </div>
            </div>
            <div class="song-row">
                <div class="song-col-5 song-border-success">
                    <div class="col-cont">5</div>
                </div>
                <div class="song-col-7 song-border-success">
                    <div class="col-cont">7</div>
                </div>
            </div>
            <div class="song-row">
                <div class="song-col-6 song-border-success">
                    <div class="col-cont">6</div>
                </div>
                <div class="song-col-6 song-border-success">
                    <div class="col-cont">6</div>
                </div>
            </div>
        </div>
    </fieldset>
    <fieldset class="song-field">
        <legend>颜色</legend>
        <div class="song-field-box">
            <span class="color-cont song-bgcolor-success">#009688</span>
            <span class="color-cont song-bgcolor-link">#5FB878</span>
            <span class="color-cont song-bgcolor-blue">#1E9FFF</span>
            <span class="color-cont song-bgcolor-warn">#FFB800</span>
            <span class="color-cont song-bgcolor-danger">#FF5722</span>
        </div>
    </fieldset>
    <fieldset class="song-field">
        <legend>按钮</legend>
        <div class="song-field-box">
            <div>
                <button class="song-btn song-btn-primary">原始按钮</button>
                <button class="song-btn">默认按钮</button>
                <button class="song-btn song-btn-normal">百搭按钮</button>
                <button class="song-btn song-btn-warn">暖色按钮</button>
                <button class="song-btn song-btn-danger">警告按钮</button>
                <button class="song-btn song-btn-disabled">禁用按钮</button>
            </div>
            <div style="margin-top: 20px;">
                <button class="song-btn song-btn-lg">大型按钮</button>
                <button class="song-btn">默认按钮</button>
                <button class="song-btn song-btn-sm">小型按钮</button>
                <button class="song-btn song-btn-xs">迷你按钮</button>
            </div>
        </div>
    </fieldset>
    <fieldset class="song-field">
        <legend>表单</legend>
        <div class="song-field-box">
            <div style="margin:15px 0;">块级输入框</div>
            <div class="song-form-item">
                <label for="" class="song-form-label">文本框</label>
                <div class="song-input-block">
                    <input type="text" class="song-input">
                </div>
            </div>
            <div class="song-form-item">
                <label for="" class="song-form-label">密码框</label>
                <div class="song-input-block">
                    <input type="password" class="song-input">
                </div>
            </div>
            <div class="song-form-item">
                <label for="" class="song-form-label">开关</label>
                <div class="song-input-block">
                    <input type="checkbox" name="s1" song-skin="switch" checked>
                    <input type="checkbox" name="s2" song-skin="switch" disabled>
                </div>
            </div>
            <div class="song-form-item">
                <label for="" class="song-form-label">单选</label>
                <div class="song-input-block">
                    <input type="radio" name="r1" title="男" value="男" checked>
                    <input type="radio" name="r1" title="女" value="女">
                    <input type="radio" name="r1" title="第三性别" value="第三性别" disabled>
                </div>
            </div>
            <div class="song-form-item">
                <label for="" class="song-form-label">多选</label>
                <div class="song-input-block">
                    <input type="checkbox" name="c1" title="广州" value="广州" checked>
                    <input type="checkbox" name="c1" title="深圳" value="深圳">
                    <input type="checkbox" name="c1" title="北京" value="北京" disabled>
                </div>
            </div>
            <div class="song-form-item">
                <label for="" class="song-form-label">选择框</label>
                <div class="song-input-block">
                    <select name="city" class="song-select">
                        <option value=""></option>
                        <option value="0">北京</option>
                        <option value="1">上海</option>
                        <option value="2">广州</option>
                        <option value="3">深圳</option>
                        <option value="4">杭州</option>
                    </select>
                </div>
            </div>
            <div style="margin:15px 0;">行级输入框</div>
            <div class="song-form-item">
                <div class="song-inline">
                    <label for="" class="song-form-label">文本框</label>
                    <div class="song-input-inline">
                        <input type="text" class="song-input">
                    </div>
                </div>
                <div class="song-inline">
                    <label for="" class="song-form-label">密码框</label>
                    <div class="song-input-inline">
                        <input type="password" class="song-input">
                    </div>
                </div>
            </div>
        </div>
    </fieldset>
    <fieldset class="song-field">
        <legend>辅助线</legend>
        <div class="song-field-box">
            <hr>
            <hr class="song-border-light">
            <hr class="song-border-success">
            <hr class="song-border-warn">
            <hr class="song-border-danger">
        </div>
    </fieldset>
    <fieldset class="song-field">
        <legend>默认字段集区块</legend>
        <div class="song-field-box">
            <span>内容区域</span>
        </div>
    </fieldset>
    <fieldset class="song-field song-field-title">
        <legend>标题字段集区块</legend>
        <div class="song-field-box">
            <span>内容区域</span>
        </div>
    </fieldset>
</body>
<script src="jquery-1.12.4.min.js"></script>
<script>
    //必须房贷ready里面去执行，ie6-ie8浏览器刷新执行完js后有时会重新选择input刷新前的选中状态
    $(function () {
        renderSwitch();
        renderCheckbox();
        renderRadio();
    });
    //渲染开关
    function renderSwitch() {
        var inputs = $('input[type="checkbox"][song-skin="switch"]');
        inputs.each(function (i, input) {
            var $input = $(input);
            var classNames = '';
            if ($input.prop('disabled')) {
                classNames += ' song-switch-disabled';
            }
            if ($input.prop('checked')) {
                classNames += ' song-switch-checked';
            }
            var $html = $(
                '<div class="song-form-switch ' + classNames + '">\
                    <i></i>\
                    <span>'+ ($input.prop('checked') ? 'ON' : 'OFF') + '</span>\
                </div>');
            $html.insertAfter(input);
            $html[0].$input = $input;
            $input.hide();
            _bindEvent($html);
        });
        function _bindEvent($dom) {
            $dom.on('click', function () {
                var $this = $(this);
                if ($this.hasClass('song-switch-disabled')) {
                    return;
                }
                $this.toggleClass('song-switch-checked');
                if ($this.hasClass('song-switch-checked')) {
                    $this.find('span').html('ON');
                    $this[0].$input.prop('checked', true);
                } else {
                    $this.find('span').html('OFF');
                    $this[0].$input.prop('checked', false);
                }
            });
        }
    }
    // 渲染复选框
    function renderCheckbox() {
        var inputs = $('input[type="checkbox"]');
        inputs.each(function (i, input) {
            if (input.renderedSongUi) {
                return;
            }
            var $input = $(input);
            if ($input.attr('song-skin') == 'switch') {
                return;
            }
            var classNames = '';
            if ($input.prop('disabled')) {
                classNames += ' song-checkbox-disabled';
            }
            if ($input.prop('checked')) {
                classNames += ' song-checkbox-checked';
            }
            var $html = $(
                '<div class="song-form-checkbox ' + classNames + '">\
                    <i>'+ ($input.prop('checked') ? '&#xe609;' : '') + '</i>\
                    <span>'+ $input.attr('title') + '</span>\
                </div>');

            $html.insertAfter(input);
            $html[0].$input = $input;
            $input.hide();
            input.renderedSongUi = true;
            _bindEvent($html);
        });

        function _bindEvent($dom) {
            $dom.on('click', function () {
                var $this = $(this);
                if ($this.hasClass('song-checkbox-disabled')) {
                    return;
                }
                $this.toggleClass('song-checkbox-checked');
                if ($this.hasClass('song-checkbox-checked')) {
                    $this.find('i').html('&#xe609;');
                    $this[0].$input.prop('checked', true);
                } else {
                    $this.find('i').html('');
                    $this[0].$input.prop('checked', false);
                }
            });
        }
    }
    // 渲染单选按钮
    function renderRadio() {
        var inputs = $('input[type="radio"]');
        inputs.each(function (i, input) {
            if (input.renderedSongUi) {
                return false;
            }
            var $input = $(input);
            var classNames = '';
            if ($input.prop('disabled')) {
                classNames += ' song-radio-disabled';
            }
            if ($input.prop('checked')) {
                classNames += ' song-radio-checked';
            }
            var html =
                '<div class="song-form-radio ' + classNames + '">\
                    <i>'+ ($input.prop('checked') ? '&#xe61c;' : '&#xe619;') + '</i>\
                    <span>'+ $input.attr('title') + '</span>\
                </div>';
            var $html = $(html);
            $html.insertAfter(input);
            $html[0].$input = $input;
            $input.hide();
            input.renderedSongUi = true;
            _bindEvent($html);
        });
        //绑定事件
        function _bindEvent($dom) {
            $dom.on('click', function () {
                var $this = $(this);
                if ($this.hasClass('song-radio-disabled')) {
                    return;
                }
                $('.song-form-radio').each(function (i, radio) {
                    var $_this = $(this);
                    if ($_this[0].$input.attr('name') == $this[0].$input.attr('name')) {
                        $_this.removeClass('song-radio-checked').find('i').html('&#xe619;');
                    }
                })
                $this.addClass('song-radio-checked');
                $this.find('i').html('&#xe61c;');
                $this[0].$input.prop('checked', true);
            });
        }
    }
    $('.song-select').each(function (i, dom) {
        var $dom = $(dom);
        var html =
            '<div class="song-select-wrap">\
                <div class="song-select-title">\
                    <input type="text" class="song-input" placeholder="请选择" readonly>\
                    <i>&#xe69b;</i>\
                </div>\
            </div>'
        var $wrap = $(html);
        var $cont = null;
        var $title = $wrap.find('.song-select-title');
        var $input = $wrap.find('.song-input');
        html = '<dl class="song-select-dl">';
        $dom.find('option').each(function (i, opt) {
            var $opt = $(opt);
            var text = $opt.text();
            var value = $opt.val();
            var classNames = '';
            if (!text) {
                classNames += ' song-color-holder';
            }
            if ($dom.val() == value) {
                $input.attr('data-value', $dom.val());
                $input.val(text);
                classNames += ' song-select-active';
            }
            html += '<dd class="' + classNames + '" data-value="' + value + '">' + (text || '请选择') + '</dd>';
        });
        html += '</dl>';
        $cont = $(html);
        $wrap.append($cont);
        $wrap.insertAfter($dom);
        $wrap.parents('.song-form-item').css({ 'z-index': 1 });
        $title.on('click', function () {
            $cont.toggle();
        });
        $cont.on('click', function () {
            $cont.toggle();
        });
        $cont.find('dd').on('click', function () {
            var $this = $(this);
            $cont.find('.song-select-active').removeClass('song-select-active');
            $input.val($this.text()).attr('data-value', $this.attr('data-value'));
            $this.addClass('song-select-active');
        });
    });

</script>

</html>